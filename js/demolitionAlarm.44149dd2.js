(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["demolitionAlarm"],{"0fa6":function(e,t,a){"use strict";var i=a("e617"),n=a.n(i);n.a},"223f":function(e,t,a){"use strict";a.d(t,"c",function(){return n}),a.d(t,"a",function(){return r}),a.d(t,"b",function(){return s}),a.d(t,"d",function(){return l}),a.d(t,"e",function(){return o}),a.d(t,"g",function(){return u}),a.d(t,"h",function(){return c}),a.d(t,"f",function(){return p});var i=a("2ade");function n(e){return Object(i["a"])({url:"/logs/page",method:"post",data:e,headers:{"content-type":"application/x-www-form-urlencoded"}})}function r(e){return Object(i["a"])({url:"/logs/delays",method:"post",data:e,headers:{"content-type":"application/x-www-form-urlencoded"}})}function s(e){return Object(i["a"])({url:"/logs/handles",method:"post",data:e,headers:{"content-type":"application/json"}})}function l(e){return Object(i["a"])({url:"/logs/checkDevice",method:"post",data:e})}function o(e){return Object(i["a"])({url:"/file/exportBigExcel",method:"post",data:e,responseType:"arraybuffer",headers:{"content-type":"application/json"}})}function u(e){return Object(i["a"])({url:"/proxy/StandardApiAction_performanceReportPhotoListSafe",method:"post",data:e})}function c(e){return Object(i["a"])({url:"/vip/check",method:"post",data:e})}function p(e){return Object(i["a"])({url:"/eoms/packageAlarmRecordInfo/getPageList",method:"post",data:e})}},"246a":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container",attrs:{id:"alarmRecord"}},[e.mediaNone?a("div",{staticClass:"topBox filter-container"},[a("el-select",{staticClass:"filter-item",attrs:{multiple:"","collapse-tags":""},on:{change:e.getGunOrCarType},model:{value:e.listQuery.type,callback:function(t){e.$set(e.listQuery,"type",t)},expression:"listQuery.type"}},[a("el-checkbox",{staticClass:"selectAll",on:{change:e.selectAll},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("全选")]),e._l(e.alarmTypeOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.key,value:e.value}})})],2),this.AdasAndDsmType!==e.listQuery.type?a("el-select",{staticClass:"filter-item",model:{value:e.listQuery.status,callback:function(t){e.$set(e.listQuery,"status",t)},expression:"listQuery.status"}},e._l(e.alarmStatusOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.key,value:e.value}})}),1):e._e(),a("el-date-picker",{staticClass:"filter-item",attrs:{type:"date","value-format":"yyyy_MM_d",placeholder:"选择日期",clearable:!1},model:{value:e.seachTime,callback:function(t){e.seachTime=t},expression:"seachTime"}}),a("el-cascader",{attrs:{placeholder:"按车辆搜索",props:e.propsCar,options:e.dataCar,"show-all-levels":!1,clearable:"",filterable:"","collapse-tags":""},on:{change:function(t){return e.removeValid()}},model:{value:e.listQuery.imeiCar,callback:function(t){e.$set(e.listQuery,"imeiCar",t)},expression:"listQuery.imeiCar"}}),a("el-cascader",{ref:"myMdGunsCas",attrs:{"popper-class":"myGunCas",placeholder:"按枪支搜索",props:{expandTrigger:"hover",multiple:!0},options:e.dataGun,"show-all-levels":!1,clearable:"",filterable:"","collapse-tags":""},on:{change:function(t){return e.removeValid()}},model:{value:e.listQuery.imeiGun,callback:function(t){e.$set(e.listQuery,"imeiGun",t)},expression:"listQuery.imeiGun"}}),a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.getList}},[e._v("搜索")]),a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"iconfont icondaochu",loading:e.exportLoading},on:{click:e.exportDo}},[e._v("导出")])],1):e._e(),e.mediaNone?e._e():a("div",{staticClass:"topBox filter-container"},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"设备号"},model:{value:e.imei,callback:function(t){e.imei=t},expression:"imei"}}),a("el-button",{staticClass:"filter-item",attrs:{type:"primary"},on:{click:e.getDevice}},[e._v("搜索")])],1),e.mediaNone&&"NOADAS"==e.tableBoxType?a("div",{staticClass:"tableBox"},[e.mediaNone?a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,fit:"","highlight-current-row":"","row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{label:"序号",prop:"id",sortable:"custom",align:"center",width:"80",type:"index",index:e.indexMethod}}),1==e.power?a("el-table-column",{attrs:{label:"设备编号",width:"120px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.objectId))])]}}],null,!1,1828197692)}):e._e(),a("el-table-column",{attrs:{label:"枪号或车牌号",width:"120px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.licenseNo))])]}}],null,!1,925694910)}),a("el-table-column",{attrs:{label:"报警类型","min-width":"150px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(e.alarmObj[i.expType]))])]}}],null,!1,2520870819)}),a("el-table-column",{attrs:{label:"创建时间",width:"180px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(e.formatTime(i.createTime)))])]}}],null,!1,571645698)}),a("el-table-column",{attrs:{label:"推迟时间",width:"180px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(e.formatTime(i.delayTime)))])]}}],null,!1,1125694451)}),a("el-table-column",{attrs:{label:"处理人",width:"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.handlerName))])]}}],null,!1,2680966363)}),a("el-table-column",{attrs:{label:"处理时间",width:"180px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(e.formatTime(i.handlerTime)))])]}}],null,!1,2293151230)}),a("el-table-column",{attrs:{label:"备注",width:"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.handlerInfo))])]}}],null,!1,2372153938)}),a("el-table-column",{attrs:{label:"报警状态",width:"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",{class:{red:0==i.handler}},[e._v(e._s(e.alarmStatus(i.handler)))])]}}],null,!1,3933120103)}),a("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center","min-width":"350","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("el-button",{attrs:{disabled:!(0===i.handler||2===i.handler),type:"primary",size:"mini",icon:"iconfont iconchuli"},on:{click:function(t){return e.handleUpdate(i,"deal")}}},[e._v("处理")]),a("el-button",{staticClass:"checkbtn",attrs:{type:"primary",size:"mini",disabled:!(0===i.handler&&i.uuid),icon:"iconfont iconyanchi"},on:{click:function(t){return e.handleUpdate(i,"check")}}},[e._v("延迟")]),a("el-button",{staticClass:"checkbtn",attrs:{type:"primary",size:"mini",icon:"iconfont iconchakan",disabled:i.expType<17||i.expType>=700},on:{click:function(t){return e.checkEvidence(i)}}},[e._v("查看证据")])]}}],null,!1,1070166555)})],1):e._e()],1):e._e(),e.mediaNone&&"ADAS"==e.tableBoxType?a("div",{staticClass:"tableBox"},[e.mediaNone?a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,fit:"","highlight-current-row":"","row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{label:"序号",prop:"id",sortable:"custom",align:"center",width:"80",type:"index",index:e.indexMethod}}),a("el-table-column",{attrs:{label:"设备编号",width:"150px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.devId))])]}}],null,!1,179441918)}),a("el-table-column",{attrs:{label:"报警类型","min-width":"150px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(e.alarmObj[i.expType]))])]}}],null,!1,4127391683)}),a("el-table-column",{attrs:{label:e.carOrGun,width:"150px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(e.$store.state.realTimeMonitor.carAndGunObj[i.devId].code?e.$store.state.realTimeMonitor.carAndGunObj[i.devId].code:i.devId))])]}}],null,!1,3858646363)}),a("el-table-column",{attrs:{label:"时间",width:"150px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(e.formatTime(i.alarmTime)))])]}}],null,!1,1010901045)}),a("el-table-column",{attrs:{label:"经度","min-width":"150px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.lng))])]}}],null,!1,3626478209)}),a("el-table-column",{attrs:{label:"纬度","min-width":"150px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.lat))])]}}],null,!1,1673573117)}),a("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center","min-width":"250","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("el-button",{staticClass:"checkbtn",attrs:{type:"primary",size:"mini",icon:"iconfont iconchakan"},on:{click:function(t){return e.checkEvidence(i)}}},[e._v("查看证据")])]}}],null,!1,1042353016)})],1):e._e()],1):e._e(),e.mediaNone?e._e():a("div",{staticClass:"onlineTime"},[a("span",[e._v("当前查询设备号:")]),e._v("\n    "+e._s(e.imei1)+"\n  ")]),e.mediaNone?e._e():a("div",{staticClass:"onlineTime"},[e.onlineTime?a("span",[e._v("最后上线时间:")]):e._e(),e._v("\n    "+e._s(e.onlineTime?e.formatTime1(e.onlineTime):"暂无最近上线时间")+"\n  ")]),e.mediaNone?e._e():a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list1,"max-height":"800",fit:"","highlight-current-row":"","row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{label:"序号",prop:"id",sortable:"custom",align:"center",width:"80",type:"index",index:e.indexMethod}}),a("el-table-column",{attrs:{label:"最近报警时间","min-width":"230px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(e.formatTime(i.createTime)))])]}}],null,!1,571645698)})],1),e.mediaNone?a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{"page-sizes":[10,10,30],total:e.total,page:e.listQuery.page,limit:e.listQuery.limit,layout:"prev, pager, next, sizes, total, jumper"},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"limit",t)},pagination:e.getList}}):e._e(),e.mediaNone?a("el-dialog",{class:{delayStyle:"deal"!==e.dialogStatus},attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible,center:"",id:"myDialog"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"dataForm",attrs:{rules:e.rules,model:e.temp,"label-position":"left"}},["deal"!==e.dialogStatus?a("el-form-item",{attrs:{label:"延迟时间(分钟)",prop:"time"}},[a("el-input",{model:{value:e.temp.time,callback:function(t){e.$set(e.temp,"time",e._n(t))},expression:"temp.time"}})],1):e._e(),"deal"===e.dialogStatus?a("el-form-item",{staticClass:"info",attrs:{label:"处理意见",prop:"info"}},[a("el-input",{attrs:{type:"textarea",maxlength:"300"},model:{value:e.temp.info,callback:function(t){e.$set(e.temp,"info",t)},expression:"temp.info"}})],1):e._e()],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){"deal"===e.dialogStatus?e.dealData():e.delayData()}}},[e._v("确定")])],1)],1):e._e()],1)},n=[],r=a("bd86"),s=(a("34ef"),a("75fc")),l=(a("28a5"),a("7f7f"),a("f3e2"),a("57e7"),a("6d67"),a("78ce"),a("cebc")),o=(a("ac6a"),a("5df3"),a("333d")),u=a("223f"),c=a("ad19"),p=a("69d9");a("fa1c");function d(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return function(i){var n=this;clearTimeout(t),t=setTimeout(function(){e.call(n,i)},a)}}var m={name:"alarmRcord",components:{Pagination:o["a"]},data:function(){return{power:JSON.parse(sessionStorage.getItem("userInfo")).Power,imei:"8669560400",imei1:"",tableKey:0,list:[],list1:[],total:0,listLoading:!1,listQuery:{page:1,limit:10,type:[],status:-1,type1:[400,401,402,403,404,618,619,620,621,622,623,624,625,626,627,630,631],keyword:"",imeiCar:[],imeiGun:[]},exportData:{expStatus:null,tableName:"",days:""},indexMethod:1,temp:{},dialogFormVisible:!1,dialogStatus:"",textMap:{deal:"处理",check:"延迟"},rules:{time:[{required:!0,message:"请填写延迟时间",trigger:"blur"}],info:[{required:!0,message:"请填写处理意见",trigger:"blur"}]},alarmTypeOptions:[{key:"拆卸报警",value:3},{key:"枪支网络异常",value:4},{key:"车辆信号丢失",value:5},{key:"自定义的超速",value:11},{key:"一键报警",value:12},{key:"车载定位系统推送的超速",value:13},{key:"摄像头损坏",value:15},{key:"摄像头无信号",value:16},{key:"ADAS和DSM报警",value:17},{key:"枪支超时未归还报警",value:701}],adasDmsaAlarmTypeOptions:[{key:"前车碰撞预警",value:400},{key:"道路偏离预警",value:401},{key:"行人检测预警",value:402},{key:"驾驶员遮挡或镜头偏离位置",value:403},{key:"疲劳驾驶报警1级",value:618},{key:"疲劳驾驶报警2级",value:619},{key:"接打电话报警1级",value:620},{key:"接打电话报警2级",value:621},{key:"抽烟报警1级",value:622},{key:"抽烟报警2级",value:623},{key:"分神驾驶报警1级",value:624},{key:"分神驾驶报警2级",value:625},{key:"驾驶员异常报警1级",value:626},{key:"驾驶员异常报警2级",value:627}],alarmObj:{1:"枪支偏离车辆",2:"车辆偏移路线",3:"拆卸报警",4:"枪支网络异常",5:"车辆信号丢失",6:"同一辆车周围少于2支枪",7:"未到规定时间内打卡",9:"车辆道路变换",10:"电量不足",11:"自定义的超速",12:"一键报警",13:"车载定位系统推送的超速",14:"未保留笼统的异常",15:"摄像头损坏",16:"摄像头无信号",400:"前车碰撞预警",401:"道路偏离预警",402:"行人检测预警",403:"驾驶员遮挡或镜头偏离位置",404:"不系安全带",618:"疲劳驾驶报警1级",619:"疲劳驾驶报警2级",620:"接打电话报警1级",621:"接打电话报警2级",622:"抽烟报警1级",623:"抽烟报警2级",624:"分神驾驶报警1级",625:"分神驾驶报警2级",626:"驾驶员异常报警1级",627:"驾驶员异常报警2级",630:"驾驶员变更事件1级",631:"驾驶员变更事件2级",701:"枪支超时未归还报警",711:"款箱数量异常报警"},alarmStatusOptions:[{key:"所有异常",value:-1},{key:"未处理异常",value:0},{key:"忽略异常",value:1},{key:"延迟处理异常",value:2},{key:"已处理异常",value:3}],seachTime:this.formatDateTime(new Date),seachTime1:this.formatDateTime(new Date),carOrGun:null,onlineTime:null,AdasAndDsmType:17,propsCar:{expandTrigger:"hover",multiple:!0},propsGun:{expandTrigger:"hover",multiple:!0},dataCar:[],dataGun:[],imei2name:{},gunAlarmType:[1,3,4,10,12],carAlarmType:[2,5,6,7,9,11,13,14,15,16,17],carAlarmTypeVal:"car",tableBoxType:"NOADAS",checked:!0,selectedArray:[],exportLoading:!1}},props:["mediaNone"],created:function(){var e=this;if(this.mediaNone){this.selectAll();var t=this.getTeamAndCarList(),a=this.getTeamAndGunList();Promise.all([t,a]).then(function(t){e.getList()})}},watch:{"$store.state.realTimeMonitor.newSocketData":{handler:function(e,t){var a=this,i=a.$store.state.realTimeMonitor.newSocketData;if("{}"!=JSON.stringify(i)){1e4==i.status&&(Object(l["a"])({},i),i.message.imei==a.imei1&&(a.onlineTime=Date.now()))}},deep:!0}},methods:{selectAll:function(){var e=this;this.listQuery.type=[],this.checked?this.alarmTypeOptions.map(function(t){e.listQuery.type.push(t.value)}):this.listQuery.type=[]},changeSelect:function(e){e.length===this.adasDmsaAlarmTypeOptions.length?this.checked=!0:this.checked=!1},checkEvidence:function(e){var t=this.formatTime(e.createTime),a=this.formatTime(e.createTime);this.$router.push({path:"/alarmEvidence",query:{devId:e.objectId,alarmType:e.expType,alarmTime:this.formatTime(new Date(t).getTime()-3e4),endTime:this.formatTime(new Date(a).getTime()+3e4)}})},getGunOrCarType:function(e){-1!==this.gunAlarmType.indexOf(e)?this.carAlarmTypeVal="gun":-1!==this.carAlarmType.indexOf(e)&&(this.carAlarmTypeVal="car"),e.length===this.alarmTypeOptions.length?this.checked=!0:this.checked=!1},removeValid:function(){},getTeamAndCarList:function(){var e=this,t=this;return new Promise(function(a,i){Object(c["f"])({}).then(function(i){if(0==i.status){if(t.dataCar=e.formatCas(i.data,"serialNo","licenseNo"),e.$route.params&&e.$route.params.imeiCar)t.listQuery.imeiCar=e.$route.params.imeiCar,t.listQuery.type=[17];else for(var n=0;n<e.dataCar.length;n++)for(var r=0;r<e.dataCar[n].children.length;r++)t.listQuery.imeiCar.push([t.dataCar[n].value,e.dataCar[n].children[r].value]);a()}else e.$message.error(i.msg)})})},getTeamAndGunList:function(){var e=this,t=this;return new Promise(function(a,i){Object(c["h"])({}).then(function(i){if(0==i.status){if(t.dataGun=e.formatCas(i.data,"iMei","code"),e.$route.params&&e.$route.params.imeiCar)t.listQuery.imeiGun=[],t.listQuery.type=[17];else for(var n=0;n<e.dataGun.length;n++)for(var r=0;r<e.dataGun[n].children.length;r++)t.listQuery.imeiGun.push([t.dataGun[n].value,e.dataGun[n].children[r].value]);a()}else e.$message.error(i.msg)})})},formatCas:function(e,t,a){var i=[],n=0,r=this,s=function(s){var l=[];return"报废车辆"==s?"continue":"报废枪支"==s?"continue":(e[s].forEach(function(e){""!==e[t]&&(l.push({value:e[t],label:e[a]}),r.imei2name[e[t]]=e[a])}),void i.push({value:"i".concat(n++),label:""==s?"未分组":s,children:l}))};for(var l in e)s(l);return i},getDevice:function(){var e=this;this.listLoading=!0,this.imei1=this.imei,this.onlineTime=null,Object(u["d"])({imei:this.imei1}).then(function(t){null==t.data?e.list1=[]:e.list1=t.data,e.listLoading=!1})},exportDo:d(function(e){this.exportExcel()}),exportExcel:function(){var e=this;this.exportLoading=!0,this.$message.warning("稍等,数据量较大,请不要重复点击哦"),this.exportData.tableName=this.seachTime.split("_")[0]+"_"+this.seachTime.split("_")[1];var t=this.seachTime,a=[],i={};this.exportData.expKeywords=[],this.exportData.days=this.seachTime.split("_")[2],this.exportData.expTypes=Object(s["a"])(this.listQuery.type);var n=this.exportData.expTypes.indexOf(17);-1!==n&&(this.exportData.expTypes.splice(n,1),this.exportData.expTypes=this.exportData.expTypes.concat(this.listQuery.type1)),a=this.listQuery.imeiGun.concat(this.listQuery.imeiCar);for(var r=0;r<a.length;r++)this.exportData.expKeywords.push(a[r][1]);this.exportData.expStatus=this.listQuery.status;this.exportData.expType;var o=this.exportData.expStatus;i=Object(l["a"])({},this.exportData),i.excelType="1001",i.positive=!1,i.title="异常表导出",i.expKeywords=this.exportData.expKeywords.length?this.exportData.expKeywords:null,Object(u["e"])(i).then(function(a,i,n){try{var r=new TextDecoder("utf-8"),s=JSON.parse(r.decode(new Uint8Array(res)));e.$message({message:s.msg,type:"warning"})}catch(h){for(var l,u,c=new Blob([a],{type:"application/excel"}),p=document.createElement("a"),d=0;d<e.alarmTypeOptions.length;d++)if(e.listQuery.type==e.alarmTypeOptions[d].value){if(e.alarmTypeOptions[d].key,e.listQuery.type==e.AdasAndDsmType)for(var m=0;m<e.adasDmsaAlarmTypeOptions.length;m++)e.listQuery.type1,e.adasDmsaAlarmTypeOptions[m].value;break}for(var f=0;f<e.alarmStatusOptions.length;f++)if(o==e.alarmStatusOptions[f].value){l=e.alarmStatusOptions[f].key;break}u=t+"--------"+l+"----报警记录.xlsx",p.href=window.URL.createObjectURL(c),p.download=u,p.click(),p.remove()}}).finally(function(){e.exportLoading=!1})},formatDateTime:function(e){var t=e.getFullYear(),a=e.getMonth()+1;a=a<10?"0"+a:a;var i=e.getDate(),n=(e.getHours(),e.getMinutes());return n=n<10?"0"+n:n,t+"_"+a+"_"+i},getList:function(){var e=this;this.seachTime1=this.seachTime,this.listLoading=!0,this.listQuery.tableName=this.seachTime.split("_")[0]+"_"+this.seachTime.split("_")[1],this.listQuery.days=this.seachTime.split("_")[2];var t=[],a=[],i={},n=null;t=this.listQuery.imeiCar.concat(this.listQuery.imeiGun);for(var r=0;r<t.length;r++)a.push(t[r][1]);i.page=this.listQuery.page,i.limit=this.listQuery.limit,i.types=Object(s["a"])(this.listQuery.type);var l=i.types.indexOf(17);-1!==l&&(i.types.splice(l,1),i.types=i.types.concat(this.listQuery.type1)),i.status=this.listQuery.status,i.tableName=this.listQuery.tableName,i.days=this.listQuery.days,i.positive=!1,t.length&&(i.keywords=a),n=u["c"],n(i).then(function(t){e.list=t.data?t.data.records:[],e.total=t.data.total,e.indexMethod=(e.listQuery.page-1)*e.listQuery.limit+1,e.listLoading=!1}).finally(function(){e.listLoading=!1})},resetTemp:function(){this.temp={uuid:null,info:null}},dealData:function(){var e=this,t=this;this.$refs["dataForm"].validate(function(a){a&&(Object(u["b"])({uuids:Object(r["a"])({},e.seachTime1,[e.temp.uuid]),info:{handlerInfo:e.temp.info}}).then(function(){t.getList(),t.dialogFormVisible=!1,t.$notify({title:"Success",message:"处理成功",type:"success",duration:2e3})}),e.dialogFormVisible=!1)})},handleUpdate:function(e,t){var a=this;this.resetTemp(),this.$nextTick(function(){a.$refs["dataForm"].clearValidate()}),this.temp.uuid=e.uuid,"deal"==t?(this.temp.timeStamp=new Date(e.createTime).getTime(),this.dialogStatus="deal"):(this.temp.uuid=e.uuid,this.dialogStatus="check"),this.dialogFormVisible=!0},delayData:function(){var e=this;this.$refs["dataForm"].validate(function(t){t&&(Object(u["a"])({uuids:[e.temp.uuid],time:e.temp.time}).then(function(){e.getList(),e.dialogFormVisible=!1,e.$notify({title:"Success",message:"Update Successfully",type:"success",duration:2e3})}),e.dialogFormVisible=!1)})},formatTime1:function(e){return Object(p["d"])(e,1)},formatTime:function(e){return Object(p["e"])(e)},alarmStatus:function(e){return 0==e?"未处理":1==e?"忽略":2==e?"延迟处理":3==e?"处理完成":void 0},tableRowClassName:function(e){e.row;var t=e.rowIndex;return t%2==0?"color-row":t%2==1?"noColor-row":""}}},f=m,h=(a("0fa6"),a("2877")),v=Object(h["a"])(f,i,n,!1,null,null,null);t["default"]=v.exports},"333d":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[a("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)},n=[];a("c5f6");Math.easeInOutQuad=function(e,t,a,i){return e/=i/2,e<1?a/2*e*e+t:(e--,-a/2*(e*(e-2)-1)+t)};var r=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function s(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function l(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function o(e,t,a){var i=l(),n=e-i,o=20,u=0;t="undefined"===typeof t?500:t;var c=function e(){u+=o;var l=Math.easeInOutQuad(u,i,n,t);s(l),u<t?r(e):a&&"function"===typeof a&&a()};c()}var u={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange:function(e){this.currentPage=1,this.$emit("pagination",{page:this.currentPage,limit:e}),this.autoScroll&&o(0,800)},handleCurrentChange:function(e){this.$emit("pagination",{page:e,limit:this.pageSize}),this.autoScroll&&o(0,800)}}},c=u,p=(a("abce"),a("2877")),d=Object(p["a"])(c,i,n,!1,null,"2d3d4633",null);t["a"]=d.exports},"34ee":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container",attrs:{id:"alarmEvidence"}},[a("div",{staticClass:"topBox filter-container"},[a("el-select",{staticClass:"filter-item",attrs:{multiple:"","collapse-tags":""},on:{change:e.changeSelect},model:{value:e.listQuery.type1,callback:function(t){e.$set(e.listQuery,"type1",t)},expression:"listQuery.type1"}},[a("el-checkbox",{staticClass:"selectAll",on:{change:e.selectAll},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("全选")]),e._l(e.adasDmsaAlarmTypeOptions,function(e){return a("el-option",{key:e.value,attrs:{selected:400==e.value,label:e.key,value:e.value}})})],2),a("el-date-picker",{staticClass:"filter-item",attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择时间日期",type:"datetimerange","picker-options":e.pickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.seachTime,callback:function(t){e.seachTime=t},expression:"seachTime"}}),a("el-cascader",{attrs:{placeholder:"按车辆搜索",props:e.propsCar,options:e.dataCar,"show-all-levels":!1,clearable:"",filterable:"","collapse-tags":""},on:{change:function(t){return e.removeValid()}},model:{value:e.listQuery.imeiCar,callback:function(t){e.$set(e.listQuery,"imeiCar",t)},expression:"listQuery.imeiCar"}}),a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.getList}},[e._v("搜索")]),a("el-button",{staticClass:"filter-item",attrs:{type:"primary"},on:{click:e.goBack}},[e._v("返回")])],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"tableBox"},[e.list.length?e._e():a("div",{staticClass:"empty-text"},[e._v("暂无数据")]),e._l(e.list,function(t){return a("div",{staticClass:"evidenceImgBox"},[a("div",{on:{click:function(a){return e.showEvidence(t)}}},[a("img",{attrs:{src:e.dealUrl(t.fileUrl)}}),a("div",{staticClass:"hoverLine"},[a("div",[e._v(e._s(t.vehiIdno))]),a("div",[e._v(e._s(e.alarmObj[t.alarmType.toString()]))]),a("div",[e._v(e._s(e.formatDate1(t.fileTime)))])])])])})],2),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,"page-sizes":[15,20,25,30],page:e.listQuery.page,limit:e.listQuery.limit,layout:"prev, pager, next, sizes, total, jumper"},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"limit",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:"报警详情",top:"20vh","close-on-click-modal":!1,visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"detail"},[a("div",{staticClass:"detailBox"},[a("div",[e._v("车牌号："+e._s(e.alarmDetail.vehiIdno))]),a("div",[e._v("设备号："+e._s(e.alarmDetail.devIdno))]),a("div",[e._v("报警类型："+e._s(e.alarmObj[e.alarmDetail.alarmType]))]),a("div",[e._v("时间："+e._s(e.formatDate1(e.alarmDetail.fileTime)))]),a("div",[e._v("经纬度："+e._s(e.alarmDetail.jingDu?e.alarmDetail.jingDu/1e6+","+e.alarmDetail.weiDu/1e6:""))]),a("div",[e._v("地址："+e._s(e.alarmDetail.position))]),a("div",[a("img",{attrs:{src:e.dealUrl(e.alarmDetail.fileUrl),alt:""}})])]),a("div",{attrs:{id:"alarmMap"}})])])],1)},n=[],r=a("75fc"),s=(a("d25f"),a("a481"),a("bd86")),l=(a("28a5"),a("7f7f"),a("ac6a"),a("f3e2"),a("c5f6"),a("57e7"),a("6d67"),a("4917"),a("333d")),o=a("223f"),u=a("ad19"),c=a("69d9"),p=(a("b78f"),a("4f26")),d=a.n(p),m={components:{Pagination:l["a"]},data:function(){return{checked:!1,list:[],total:0,listLoading:!1,listQuery:{page:1,limit:15,type:1,status:-1,type1:[624],keyword:"",imeiCar:[],imeiGun:[]},indexMethod:1,dialogFormVisible:!1,alarmTypeOptions:[{key:"枪支偏离车辆",value:1},{key:"车辆偏移路线",value:2},{key:"拆卸报警",value:3},{key:"枪支网络异常",value:4},{key:"车辆信号丢失",value:5},{key:"同一辆车周围少于2支枪",value:6},{key:"未到规定时间内打卡",value:7},{key:"车辆道路变换",value:9},{key:"电量不足",value:10},{key:"自定义的超速",value:11},{key:"一键报警",value:12},{key:"车载定位系统推送的超速",value:13},{key:"未保留笼统的异常",value:14},{key:"摄像头损坏",value:15},{key:"摄像头无信号",value:16},{key:"ADAS和DSM报警",value:17}],adasDmsaAlarmTypeOptions:[{key:"分神驾驶报警1级",value:624},{key:"分神驾驶报警2级",value:625},{key:"前车碰撞预警",value:400},{key:"道路偏离预警",value:401},{key:"行人检测预警",value:402},{key:"驾驶员遮挡或镜头偏离位置",value:403},{key:"不系安全带",value:404},{key:"疲劳驾驶报警1级",value:618},{key:"疲劳驾驶报警2级",value:619},{key:"接打电话报警1级",value:620},{key:"接打电话报警2级",value:621},{key:"抽烟报警1级",value:622},{key:"抽烟报警2级",value:623},{key:"驾驶员异常报警1级",value:626},{key:"驾驶员异常报警2级",value:627},{key:"驾驶员变更事件1级",value:630},{key:"驾驶员变更事件2级",value:631}],alarmStatusOptions:[{key:"所有异常",value:-1},{key:"未处理异常",value:0},{key:"忽略异常",value:1},{key:"延迟处理异常",value:2},{key:"已处理异常",value:3}],alarmObj:{400:"前车碰撞预警",401:"道路偏离预警",402:"行人检测预警",403:"驾驶员遮挡或镜头偏离位置",404:"不系安全带",618:"疲劳驾驶报警1级",619:"疲劳驾驶报警2级",620:"接打电话报警1级",621:"接打电话报警2级",622:"抽烟报警1级",623:"抽烟报警2级",624:"分神驾驶报警1级",625:"分神驾驶报警2级",626:"驾驶员异常报警1级",627:"驾驶员异常报警2级",630:"驾驶员变更事件1级",631:"驾驶员变更事件2级"},seachTime:"",seachTime1:this.formatDateTime(new Date),dialogVisible:!1,propsCar:{expandTrigger:"hover",multiple:!0},propsGun:{expandTrigger:"hover",multiple:!0},markerStart:new BMap.Icon(d.a,new BMap.Size(26,41),{anchor:new BMap.Size(13,42),imageOffset:new BMap.Size(-199,-139)}),map:void 0,dataCar:[],dataGun:[],imei2name:{},gunAlarmType:[1,3,4,10,12],carAlarmType:[2,5,6,7,9,11,13,14,15,16,17],carAlarmTypeVal:"gun",alarmDetail:{},pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]}}},mounted:function(){this.getTeamAndCarList()},methods:{dealUrl:function(e){var t,a=/^http(s|):\/\/\S*?\//;if(e){var i=e.match(a);return i.length&&(i=i[0]),t=e.substring(i.length),location.origin+"/image/"+t}return""},goBack:function(){this.$router.push({name:"驾驶安全行为报警记录",params:{imeiCar:this.listQuery.imeiCar}})},selectAll:function(){var e=this;this.listQuery.type1=[],this.checked?this.adasDmsaAlarmTypeOptions.map(function(t){e.listQuery.type1.push(t.value)}):this.listQuery.type1=[]},changeSelect:function(e){e.length===this.adasDmsaAlarmTypeOptions.length?this.checked=!0:this.checked=!1},showEvidence:function(e){var t=this;this.alarmDetail=e,this.dialogVisible=!0,this.$nextTick(function(){t.initMap(e)})},formatDate1:function(e){return Object(c["d"])(e,1)},getGunOrCarType:function(e){-1!==this.gunAlarmType.indexOf(e)?this.carAlarmTypeVal="gun":-1!==this.carAlarmType.indexOf(e)&&(this.carAlarmTypeVal="car")},removeValid:function(){},getTeamAndCarList:function(){var e=this,t=this;Object(u["f"])({}).then(function(a){if(0==a.status){if(t.dataCar=e.formatCas(a.data,"serialNo","licenseNo"),e.$route.query&&e.$route.query.hasOwnProperty("devId")){var i=e.$route.query;e.listQuery.type1=[Number(i.alarmType)],e.seachTime=[i.alarmTime,i.endTime];for(var n=0;n<e.dataCar.length;n++)for(var r=0;r<e.dataCar[n].children.length;r++)if(t.dataCar[n].children[r].value==i.devId){t.listQuery.imeiCar=[[t.dataCar[n].value,i.devId]],e.getList();break}}}else e.$message.error(a.msg)})},getTeamAndGunList:function(){var e=this,t=this;Object(u["h"])({}).then(function(a){0==a.status?t.dataGun=e.formatCas(a.data,"iMei","code"):e.$message.error(a.msg)})},formatCas:function(e,t,a){var i=[],n=0,r=this,s=function(s){var l=[];return"报废车辆"==s?"continue":"报废枪支"==s?"continue":(e[s].forEach(function(e){""!==e[t]&&(l.push({value:e[t],label:e[a]}),r.imei2name[e[t]]=e[a])}),void i.push({value:"i".concat(n++),label:""==s?"未分组":s,children:l}))};for(var l in e)s(l);return i},getDevice:function(){var e=this;this.listLoading=!0,this.imei1=this.imei,this.onlineTime=null,checkDevice({imei:this.imei1}).then(function(t){null==t.data?e.list1=[]:e.list1=t.data,e.listLoading=!1})},exportExcel:function(){var e=this;this.$message.warning("稍等,数据量较大,请不要重复点击哦"),this.exportData.tableName=this.seachTime.split("_")[0]+"_"+this.seachTime.split("_")[1];var t=this.seachTime;this.exportData.days=this.seachTime.split("_")[2],this.exportData.expType=this.listQuery.type,this.exportData.expStatus=this.listQuery.status,this.exportData.keyword=this.listQuery.keyword;var a=this.exportData.expType,i=this.exportData.expStatus,n=this.exportData.keyword;exportBigExcel(this.exportData).then(function(r,s,l){for(var o,u,c,p=new Blob([r],{type:"application/excel"}),d=document.createElement("a"),m=0;m<e.alarmTypeOptions.length;m++)if(a==e.alarmTypeOptions[m].value){o=e.alarmTypeOptions[m].key;break}for(var f=0;f<e.alarmStatusOptions.length;f++)if(i==e.alarmStatusOptions[f].value){u=e.alarmStatusOptions[f].key;break}c=n?n+"----"+t+"----"+o+"----"+u+"----报警记录.xlsx":t+"----"+o+"----"+u+"----报警记录.xlsx",d.href=window.URL.createObjectURL(p),d.download=c,d.click(),d.remove()})},formatDateTime:function(e){var t=e.getFullYear(),a=e.getMonth()+1;a=a<10?"0"+a:a;var i=e.getDate(),n=(e.getHours(),e.getMinutes());return n=n<10?"0"+n:n,t+"_"+a+"_"+i},getList:function(){var e=this,t={},a=this.listQuery.imeiCar;t.jsession=setInterval.jsession,t.vehiIdno=[];for(var i=0;i<a.length;i++){var n=this.$store.state.realTimeMonitor.carAndGunObj[a[i][1]].code;t.vehiIdno.push(a[i][1]),t.vehiIdno.push(n)}t.begintime=this.seachTime[0],t.endtime=this.seachTime[1],t.alarmType=this.listQuery.type1,t.mediaType=0,t.currentPage=this.listQuery.page,t.pageRecords=this.listQuery.limit,this.seachTime.length&&t.vehiIdno.length?(this.listLoading=!0,Object(o["g"])(t).then(function(t){e.list=t.infos?t.infos:[],e.total=t.pagination?t.pagination.totalRecords:0,e.listLoading=!1}).finally(function(){e.listLoading=!1})):this.$message.warning("请选择搜索条件")},resetTemp:function(){this.temp={uuid:null,info:null}},dealData:function(){var e=this,t=this;this.$refs["dataForm"].validate(function(a){a&&(alarmHandler({uuids:Object(s["a"])({},e.seachTime1,[e.temp.uuid]),info:{handlerInfo:e.temp.info}}).then(function(){t.getList(),t.dialogFormVisible=!1,t.$notify({title:"Success",message:"处理成功",type:"success",duration:2e3})}),e.dialogFormVisible=!1)})},handleUpdate:function(e,t){var a=this;this.resetTemp(),this.$nextTick(function(){a.$refs["dataForm"].clearValidate()}),this.temp.uuid=e.uuid,"deal"==t?(this.temp.timeStamp=new Date(e.createTime).getTime(),this.dialogStatus="deal"):(this.temp.uuid=e.uuid,this.dialogStatus="check"),this.dialogFormVisible=!0},delayData:function(){var e=this;this.$refs["dataForm"].validate(function(t){t&&(alarmDelay({uuids:[e.temp.uuid],time:e.temp.time}).then(function(){e.getList(),e.dialogFormVisible=!1,e.$notify({title:"Success",message:"Update Successfully",type:"success",duration:2e3})}),e.dialogFormVisible=!1)})},formatTime1:function(e){return Object(c["d"])(e,1)},formatTime:function(e){return renderTime(e)},alarmStatus:function(e){return 0==e?"未处理":1==e?"忽略":2==e?"延迟处理":3==e?"处理完成":void 0},tableRowClassName:function(e){e.row;var t=e.rowIndex;return t%2==0?"color-row":t%2==1?"noColor-row":""},getNetworkByRoute:function(){var e=this;return new Promise(function(t,a){destinationByRoad({routeId:e.roadId}).then(function(e){t(e.data)}).catch(function(e){}).finally(function(){})})},initMap:function(e){var t=this;if(this.map=new BMap.Map("alarmMap",{enableMapClick:!1}),this.map.addControl(new BMap.MapTypeControl({mapTypes:[BMAP_NORMAL_MAP,BMAP_HYBRID_MAP]})),this.map.enableScrollWheelZoom(!0),e.jingDu){this.map.clearOverlays();var a=e.jingDu/1e6,i=e.weiDu/1e6,n=[];n.push(new BMap.Point(a,i));var r=Object(c["b"])(n),s=(r[0].lng,r[0].lat,new BMap.Point(a,i)),l=new BMap.Marker(s,{icon:new BMap.Icon(d.a,new BMap.Size(30,30),{})});l.addEventListener("click",function(a){t.openInfo(e,a,opts)}),this.map.centerAndZoom(s,15),this.map.addOverlay(l)}else this.map.centerAndZoom("中国",13)},createMap:function(){this.map=new BMap.Map("alarmMap",{enableMapClick:!1}),this.map.setMapStyle({features:["road","water","land","point","building"]}),this.map.enableScrollWheelZoom()},setMapEvent:function(){this.map.enableDragging(),this.map.enableScrollWheelZoom(),this.map.enableDoubleClickZoom(),this.map.enableKeyboard()},addMapControl:function(){new BMap.NavigationControl({anchor:BMAP_ANCHOR_TOP_LEFT,type:BMAP_NAVIGATION_CONTROL_LARGE}),new BMap.ScaleControl({anchor:BMAP_ANCHOR_BOTTOM_LEFT}),new BMap.OverviewMapControl;var e=new BMap.MapTypeControl({mapTypes:[BMAP_NORMAL_MAP,BMAP_HYBRID_MAP],anchor:BMAP_ANCHOR_TOP_LEFT});this.map.addControl(e)},delete_control:function(){this.map.removeControl(mapType1),this.map.removeControl(overView),this.map.removeControl(overViewOpen)},getLine:function(e){var t=this;t.map.clearOverlays(),t.pointArr=[],t.$nextTick(function(){t.$refs[e].validate(function(e){if(e){t.lineLoading=!0;var a=new Date(t.lineForm.date.replace(/-/g,"/")+" "+t.lineForm.timeS).getTime(),i=new Date(t.lineForm.date.replace(/-/g,"/")+" "+t.lineForm.timeE).getTime();getCarNoList({carNo:t.getCarImei[t.lineForm.devDefault],startTime:a,endTime:i}).then(function(e){if(e.success)if(null==e.data||0==e.data.length||0==e.data.filter(function(e){return null!=e.lat&&null!=e.lng&&1*e.lat>1&&1*e.lng>1}).length)t.$message.warning("查询结果为空，请重新选择"),t.showDelete=!1;else{t.showDelete=!0;var a=[];a=e.data.filter(function(e){return null!=e.lat&&null!=e.lng&&1*e.lat>1&&1*e.lng>1}).map(function(e){var t=Gps2Bd(new BMap.Point(e.lng,e.lat));return"".concat(t.lng," ").concat(t.lat)});var i={wktGps:a};simplify(i).then(function(e){if(e.success){var a=e.data.slice(11,-1).split(",");a.forEach(function(e){e.split(" ");t.pointArr.push(new BMap.Point(e.split(" ")[0],e.split(" ")[1]))}),t.$refs.temp.validateField("roadName"),t.map.setViewport(t.pointArr,{margins:[100,100,100,100]}),t.getNewPoint()}else t.$message.error(e.msg)})}else t.$message.error(e.msg)}).finally(function(){t.lineLoading=!1})}})})},addRoute:function(e){var t=this;t.$nextTick(function(){t.$refs[e].validate(function(e){if(e){var a={name:t.temp.roadName,crosslobby:JSON.stringify(t.temp.network),wktGps:t.pointStrArr};create(a).then(function(e){0==e.status?(t.$message.success("添加成功"),t.isRefresh=!0,t.initMap()):t.$message.error(e.msg)}).finally(function(){})}})})},changeLoadType:function(e){0==e?(this.loadType="手绘路线",this.handOrGet=!1):1==e&&(this.loadType="选取路线",this.handOrGet=!0),this.initMap(),0==e&&this.handDraw()},handDraw:function(){var e=this,t=new BMapLib.DrawingManager(e.map,{enableDrawingTool:!0,polylineOptions:e.lineOptions,drawingToolOptions:{drawingModes:[BMAP_DRAWING_POLYLINE]}});t.addEventListener("polylinecomplete",function(t){if(e.showDelete=!0,2==e.drawStart)e.pointArr=e.pointArr.concat(t.getPath());else if(1==e.drawStart&&e.pointArr.length){var a=Object(r["a"])(t.getPath()).reverse();e.pointArr=a.concat(e.pointArr)}else e.pointArr=t.getPath();e.map.clearOverlays(),e.$refs.temp.validateField("roadName"),e.getNewPoint()})},getNewPoint:function(){var e=this,t=e.map,a=0,i=[],n=[],s=void 0,l=void 0,o=Object(r["a"])(e.pointArr),u=void 0,c=[];s=new BMap.Polyline(e.pointArr,e.lineOptions),t.addOverlay(s);var p=new BMap.Marker(e.pointArr[0],{icon:e.markerStart});t.addOverlay(p);var d=new BMap.Marker(e.pointArr[e.pointArr.length-1],{icon:e.markerEnd});t.addOverlay(d),l=new BMap.PointCollection(e.pointArr,{color:"#d340c3",size:BMAP_POINT_SIZE_SMALL}),t.addOverlay(l),l.addEventListener("click",function(m){var f=m.point,h="".concat(f.lng," ").concat(f.lat),v=e.pointStrArr.indexOf(h),y={icon:new BMap.Symbol(BMap_Symbol_SHAPE_CIRCLE,{scale:7,fillColor:"red",fillOpacity:1,strokeWeight:1})};i.length<2&&(n.push(v),c.push(f),i[a]=new BMap.Marker(f,y),t.addOverlay(i[a++])),2==a&&(a=3,n[0]>n[1]&&(n.reverse(),i.reverse(),c.reverse()),i[0].setIcon(new BMap.Icon(rightpng,new BMap.Size(16,16))),i[1].setIcon(new BMap.Icon(errorpng,new BMap.Size(16,16))),0==n[0]&&i[0].setOffset(new BMap.Size(12,12)),n[1]==e.pointArr.length-1&&i[1].setOffset(new BMap.Size(12,12)),u=new BMap.Polyline(c,{strokeColor:"red",enableEditing:!0}),t.addOverlay(u),o.splice(n[0],n[1]-n[0]+1),l.setPoints(o),u.addEventListener("lineupdate",function(e){c=e.target.getPath()}),i.forEach(function(m,f){m.addEventListener("click",function(){0==f&&(e.pointArr.splice(n[0],n[1]-n[0]+1),c.forEach(function(t,a){e.pointArr.splice(n[0]+a,0,t)})),t.removeOverlay(i[0]),t.removeOverlay(i[1]),t.removeOverlay(u),t.removeOverlay(s),l.clear(),a=0,i=[],n=[],c=[],o=Object(r["a"])(e.pointArr),s=new BMap.Polyline(e.pointArr,e.lineOptions),t.addOverlay(s),l.setPoints(e.pointArr),p.setPosition(e.pointArr[0]),d.setPosition(e.pointArr[e.pointArr.length-1])})}))})},deleteRoute:function(){this.map.clearOverlays(),this.pointArr=[],this.showDelete=!1;var e=document.getElementsByClassName("BMapLib_Drawing_panel")[0];e&&(e.style.display="block")},getDevlist:function(){var e=this,t=this;Object(u["f"])({}).then(function(a){0==a.status?t.setCarLineOptions(a):e.$message.error(a.msg)})},setCarLineOptions:function(e){var t=this,a=[],i=e.data;for(var n in i)i[n].length>0&&(i[n].forEach(function(e){t.getCarImei[e.licenseNo]=e.licenseNo,e.title=e.serialNo}),a.push({licenseNo:""==n?"未分组":n,children:i[n]}));this.carList=a},getSelect:function(){var e=this,t=this;allDestination({type:-1}).then(function(a){if(0==a.status){if(null===a.data.records)return;t.networkOptions=a.data}else null==a.data&&(e.networkOptions=[]),e.$message.error(a.msg)})}}},f=m,h=(a("addc"),a("2877")),v=Object(h["a"])(f,i,n,!1,null,"07d3be40",null);t["default"]=v.exports},3737:function(e,t,a){"use strict";var i=e.exports=a("071f");i.build="full",i.tokenize=a("a766"),i.parse=a("561df"),i.common=a("a00e"),i.Root._configure(i.Type,i.parse,i.common)},"4f26":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACoElEQVRYR+2Wz0sUYRjHv8/OzqgVQUG/dPfVwmjWQEE9RJfcuxTeizpkCBGRER3Va0RGxyAi/4EOQdBJb6FokFkzpged3RbLQ5fyxzs7+8SOOzLKzs6sFhI41+fX5/0+z/vMS9jjj/a4PnYFYCbVURA1cSyWTi2sLezkMLsDEBoXi3KhkE5l82N/HcBoqm2qdDLzXwN4BXRLllUqDMAQ2iAB15mpL5VZf1dOocAWfE7gqBLTPgBoBPBet+TF7QkqAZii5i7AT90Y4pv6ov2iKoCi86xQexn03O0z8XBq0e73JzGEeivGiK9J+1Xbd/z2bLNCvcagEbc28DZnyStpIF81wAaE9pKBG2Be1jP28SiDNiu0GQbOA5hYkbK7fQnLQXGRboEp1GEwND1j344CYApthIB2p0A9Ldn1uUoxkQD8CSbrceCQog2B0Mrgtg2Z6SMY078cOdCZw0oUSM+nKoD5+rpkPu68BtARUGQqnld6mnOrmagQmwBfRU13gQv3QTTBhPGYo4yfy65+8xIZQu0g0GSUxAzuTFn21HbfmVO1QlHyZ/xLaxOgtFa7/EEMDKUsOTgtcESF9oWAk9EAsGRDtrRa+Gkm1T4Q9QJoBnDYjWc81jPyQemWbKQ0EvEuIuUqEV8oTfCmo9GoPiGme1GK+3we6ZZ8aCbVHyA6ti3WtW0B8Dt8On3wRNyRCU9GU2hF6YP6HsT1RrfkZXcbMl8Kam3oEM411CUcxYk8VD6anG7JhjDVQgHc1sRio2GJytmD/iF+332AfQX2FfhPFCAa2NEeyNjpsLiKChSXUFiCMHvYcz0QwBDqMwLdCSsQxR4v0Nnm7Pp8Od9AAO/FG6VAmI/3W68KoPSm31HvtxRiHtMrzELoLQg73W7tew7wBwBgIjAi16krAAAAAElFTkSuQmCC"},5055:function(e,t,a){},"561df":function(e,t,a){"use strict";e.exports=A,A.filename=null,A.defaults={keepCase:!1};var i=a("a766"),n=a("ee6e"),r=a("6ecf"),s=a("a6a3"),l=a("82e8"),o=a("77ea"),u=a("bd11"),c=a("7474"),p=a("0788"),d=a("8524"),m=a("cbd3"),f=/^[1-9][0-9]*$/,h=/^-?[1-9][0-9]*$/,v=/^0[x][0-9a-fA-F]+$/,y=/^-?0[x][0-9a-fA-F]+$/,g=/^0[0-7]+$/,b=/^-?0[0-7]+$/,w=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,k=/^[a-zA-Z_][a-zA-Z_0-9]*$/,T=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,x=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function A(e,t,a){t instanceof n||(a=t,t=new n),a||(a=A.defaults);var _,O,C,M,D,S=i(e,a.alternateCommentMode||!1),Q=S.next,B=S.push,L=S.peek,N=S.skip,$=S.cmnt,j=!0,E=!1,V=t,I=a.keepCase?function(e){return e}:m.camelCase;function P(e,t,a){var i=A.filename;return a||(A.filename=null),Error("illegal "+(t||"token")+" '"+e+"' ("+(i?i+", ":"")+"line "+S.line+")")}function G(){var e,t=[];do{if('"'!==(e=Q())&&"'"!==e)throw P(e);t.push(Q()),N(e),e=L()}while('"'===e||"'"===e);return t.join("")}function F(e){var t=Q();switch(t){case"'":case'"':return B(t),G();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return R(t,!0)}catch(a){if(e&&T.test(t))return t;throw P(t,"value")}}function z(e,t){var a,i;do{!t||'"'!==(a=L())&&"'"!==a?e.push([i=U(Q()),N("to",!0)?U(Q()):i]):e.push(G())}while(N(",",!0));N(";")}function R(e,t){var a=1;switch("-"===e.charAt(0)&&(a=-1,e=e.substring(1)),e){case"inf":case"INF":case"Inf":return a*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(f.test(e))return a*parseInt(e,10);if(v.test(e))return a*parseInt(e,16);if(g.test(e))return a*parseInt(e,8);if(w.test(e))return a*parseFloat(e);throw P(e,"number",t)}function U(e,t){switch(e){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!t&&"-"===e.charAt(0))throw P(e,"id");if(h.test(e))return parseInt(e,10);if(y.test(e))return parseInt(e,16);if(b.test(e))return parseInt(e,8);throw P(e,"id")}function q(){if(void 0!==_)throw P("package");if(_=Q(),!T.test(_))throw P(_,"name");V=V.define(_),N(";")}function Z(){var e,t=L();switch(t){case"weak":e=C||(C=[]),Q();break;case"public":Q();default:e=O||(O=[]);break}t=G(),N(";"),e.push(t)}function K(){if(N("="),M=G(),E="proto3"===M,!E&&"proto2"!==M)throw P(M,"syntax");N(";")}function H(e,t){switch(t){case"option":return ne(e,t),N(";"),!0;case"message":return W(e,t),!0;case"enum":return ae(e,t),!0;case"service":return oe(e,t),!0;case"extend":return ce(e,t),!0}return!1}function Y(e,t,a){var i=S.line;if(e&&(e.comment=$(),e.filename=A.filename),N("{",!0)){var n;while("}"!==(n=Q()))t(n);N(";",!0)}else a&&a(),N(";"),e&&"string"!==typeof e.comment&&(e.comment=$(i))}function W(e,t){if(!k.test(t=Q()))throw P(t,"type name");var a=new r(t);Y(a,function(e){if(!H(a,e))switch(e){case"map":ee(a,e);break;case"required":case"optional":case"repeated":J(a,e);break;case"oneof":te(a,e);break;case"extensions":z(a.extensions||(a.extensions=[]));break;case"reserved":z(a.reserved||(a.reserved=[]),!0);break;default:if(!E||!T.test(e))throw P(e);B(e),J(a,"optional");break}}),e.add(a)}function J(e,t,a){var i=Q();if("group"!==i){if(!T.test(i))throw P(i,"type");var n=Q();if(!k.test(n))throw P(n,"name");n=I(n),N("=");var r=new s(n,U(Q()),i,t,a);Y(r,function(e){if("option"!==e)throw P(e);ne(r,e),N(";")},function(){le(r)}),e.add(r),E||!r.repeated||void 0===d.packed[i]&&void 0!==d.basic[i]||r.setOption("packed",!1,!0)}else X(e,t)}function X(e,t){var a=Q();if(!k.test(a))throw P(a,"name");var i=m.lcFirst(a);a===i&&(a=m.ucFirst(a)),N("=");var n=U(Q()),l=new r(a);l.group=!0;var o=new s(i,n,a,t);o.filename=A.filename,Y(l,function(e){switch(e){case"option":ne(l,e),N(";");break;case"required":case"optional":case"repeated":J(l,e);break;default:throw P(e)}}),e.add(l).add(o)}function ee(e){N("<");var t=Q();if(void 0===d.mapKey[t])throw P(t,"type");N(",");var a=Q();if(!T.test(a))throw P(a,"type");N(">");var i=Q();if(!k.test(i))throw P(i,"name");N("=");var n=new l(I(i),U(Q()),t,a);Y(n,function(e){if("option"!==e)throw P(e);ne(n,e),N(";")},function(){le(n)}),e.add(n)}function te(e,t){if(!k.test(t=Q()))throw P(t,"name");var a=new o(I(t));Y(a,function(e){"option"===e?(ne(a,e),N(";")):(B(e),J(a,"optional"))}),e.add(a)}function ae(e,t){if(!k.test(t=Q()))throw P(t,"name");var a=new u(t);Y(a,function(e){switch(e){case"option":ne(a,e),N(";");break;case"reserved":z(a.reserved||(a.reserved=[]),!0);break;default:ie(a,e)}}),e.add(a)}function ie(e,t){if(!k.test(t))throw P(t,"name");N("=");var a=U(Q(),!0),i={};Y(i,function(e){if("option"!==e)throw P(e);ne(i,e),N(";")},function(){le(i)}),e.add(t,a,i.comment)}function ne(e,t){var a=N("(",!0);if(!T.test(t=Q()))throw P(t,"name");var i=t;a&&(N(")"),i="("+i+")",t=L(),x.test(t)&&(i+=t,Q())),N("="),re(e,i)}function re(e,t){if(N("{",!0))do{if(!k.test(D=Q()))throw P(D,"name");"{"===L()?re(e,t+"."+D):(N(":"),"{"===L()?re(e,t+"."+D):se(e,t+"."+D,F(!0))),N(",",!0)}while(!N("}",!0));else se(e,t,F(!0))}function se(e,t,a){e.setOption&&e.setOption(t,a)}function le(e){if(N("[",!0)){do{ne(e,"option")}while(N(",",!0));N("]")}return e}function oe(e,t){if(!k.test(t=Q()))throw P(t,"service name");var a=new c(t);Y(a,function(e){if(!H(a,e)){if("rpc"!==e)throw P(e);ue(a,e)}}),e.add(a)}function ue(e,t){var a=t;if(!k.test(t=Q()))throw P(t,"name");var i,n,r,s,l=t;if(N("("),N("stream",!0)&&(n=!0),!T.test(t=Q()))throw P(t);if(i=t,N(")"),N("returns"),N("("),N("stream",!0)&&(s=!0),!T.test(t=Q()))throw P(t);r=t,N(")");var o=new p(l,a,i,r,n,s);Y(o,function(e){if("option"!==e)throw P(e);ne(o,e),N(";")}),e.add(o)}function ce(e,t){if(!T.test(t=Q()))throw P(t,"reference");var a=t;Y(null,function(t){switch(t){case"required":case"repeated":case"optional":J(e,t,a);break;default:if(!E||!T.test(t))throw P(t);B(t),J(e,"optional",a);break}})}while(null!==(D=Q()))switch(D){case"package":if(!j)throw P(D);q();break;case"import":if(!j)throw P(D);Z();break;case"syntax":if(!j)throw P(D);K();break;case"option":if(!j)throw P(D);ne(V,D),N(";");break;default:if(H(V,D)){j=!1;continue}throw P(D)}return A.filename=null,{package:_,imports:O,weakImports:C,syntax:M,root:t}}},"69d9":function(e,t,a){"use strict";a.d(t,"d",function(){return i}),a.d(t,"c",function(){return n}),a.d(t,"e",function(){return r}),a.d(t,"a",function(){return s}),a.d(t,"b",function(){return l});a("ac6a"),a("f3e2"),a("8ea5"),a("a481"),a("0298"),a("df7c");function i(e,t){var a=new Date(e),i=a.getFullYear(),r=n(a.getMonth()+1),s=n(a.getDate()),l=n(a.getHours()),o=n(a.getMinutes()),u=n(a.getSeconds());return 1==t?i+"-"+r+"-"+s+" "+l+":"+o+":"+u:i+"-"+r+"-"+s}function n(e){return e<10?"0"+e:e}function r(e){var t=new Date(e).toJSON();return new Date(+new Date(t)+288e5).toISOString().replace(/T/g," ").replace(/\.[\d]{3}Z/,"")}function s(e){var t=d(e.lat,e.lng),a=new BMap.Point(t[1],t[0]);return a}function l(e){var t=[];return e.forEach(function(e){var a=d(e.lat,e.lng),i=new BMap.Point(a[1],a[0]);t.push(i)}),t}var o=3.141592653589793,u=6378245,c=.006693421622965943,p=52.35987755982988;function d(e,t){var a=f(e,t),i=m(a[0],a[1]);return i}function m(e,t){var a=t,i=e,n=Math.sqrt(a*a+i*i)+2e-5*Math.sin(i*p),r=Math.atan2(i,a)+3e-6*Math.cos(a*p),s=n*Math.cos(r)+.0065,l=n*Math.sin(r)+.006,o=[];return o.push(l),o.push(s),o}function f(e,t){var a=h(t-105,e-35),i=v(t-105,e-35),n=e/180*o,r=Math.sin(n);r=1-c*r*r;var s=Math.sqrt(r);a=180*a/(u*(1-c)/(r*s)*o),i=180*i/(u/s*Math.cos(n)*o);var l=e+a,p=t+i,d=[];return d.push(l),d.push(p),d}function h(e,t){var a=2*e-100+3*t+.2*t*t+.1*e*t+.2*Math.sqrt(Math.abs(e));return a+=2*(20*Math.sin(6*e*o)+20*Math.sin(2*e*o))/3,a+=2*(20*Math.sin(t*o)+40*Math.sin(t/3*o))/3,a+=2*(160*Math.sin(t/12*o)+320*Math.sin(t*o/30))/3,a}function v(e,t){var a=300+e+2*t+.1*e*e+.1*e*t+.1*Math.sqrt(Math.abs(e));return a+=2*(20*Math.sin(6*e*o)+20*Math.sin(2*e*o))/3,a+=2*(20*Math.sin(e*o)+40*Math.sin(e/3*o))/3,a+=2*(150*Math.sin(e/12*o)+300*Math.sin(e/30*o))/3,a}},a00e:function(e,t,a){"use strict";e.exports=r;var i,n=/\/|\./;function r(e,t){n.test(e)||(e="google/protobuf/"+e+".proto",t={nested:{google:{nested:{protobuf:{nested:t}}}}}),r[e]=t}r("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),r("duration",{Duration:i={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),r("timestamp",{Timestamp:i}),r("empty",{Empty:{fields:{}}}),r("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),r("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),r("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),r.get=function(e){return r[e]||null}},a766:function(e,t,a){"use strict";e.exports=m;var i=/[\s{}=;:[\],'"()<>]/g,n=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,r=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,s=/^ *[*/]+ */,l=/^\s*\*?\/*/,o=/\n/g,u=/\s/,c=/\\(.?)/g,p={0:"\0",r:"\r",n:"\n",t:"\t"};function d(e){return e.replace(c,function(e,t){switch(t){case"\\":case"":return t;default:return p[t]||""}})}function m(e,t){e=e.toString();var a=0,c=e.length,p=1,m=null,f=null,h=0,v=!1,y=[],g=null;function b(e){return Error("illegal "+e+" (line "+p+")")}function w(){var t="'"===g?r:n;t.lastIndex=a-1;var i=t.exec(e);if(!i)throw b("string");return a=t.lastIndex,O(g),g=null,d(i[1])}function k(t){return e.charAt(t)}function T(a,i){var n;m=e.charAt(a++),h=p,v=!1,n=t?2:3;var r,u=a-n;do{if(--u<0||"\n"===(r=e.charAt(u))){v=!0;break}}while(" "===r||"\t"===r);for(var c=e.substring(a,i).split(o),d=0;d<c.length;++d)c[d]=c[d].replace(t?l:s,"").trim();f=c.join("\n").trim()}function x(t){var a=A(t),i=e.substring(t,a),n=/^\s*\/{1,2}/.test(i);return n}function A(e){var t=e;while(t<c&&"\n"!==k(t))t++;return t}function _(){if(y.length>0)return y.shift();if(g)return w();var n,r,s,l,o;do{if(a===c)return null;n=!1;while(u.test(s=k(a)))if("\n"===s&&++p,++a===c)return null;if("/"===k(a)){if(++a===c)throw b("comment");if("/"===k(a))if(t){if(l=a,o=!1,x(a)){o=!0;do{if(a=A(a),a===c)break;a++}while(x(a))}else a=Math.min(c,A(a)+1);o&&T(l,a),p++,n=!0}else{o="/"===k(l=a+1);while("\n"!==k(++a))if(a===c)return null;++a,o&&T(l,a-1),++p,n=!0}else{if("*"!==(s=k(a)))return"/";l=a+1,o=t||"*"===k(l);do{if("\n"===s&&++p,++a===c)throw b("comment");r=s,s=k(a)}while("*"!==r||"/"!==s);++a,o&&T(l,a-2),n=!0}}}while(n);var d=a;i.lastIndex=0;var m=i.test(k(d++));if(!m)while(d<c&&!i.test(k(d)))++d;var f=e.substring(a,a=d);return'"'!==f&&"'"!==f||(g=f),f}function O(e){y.push(e)}function C(){if(!y.length){var e=_();if(null===e)return null;O(e)}return y[0]}function M(e,t){var a=C(),i=a===e;if(i)return _(),!0;if(!t)throw b("token '"+a+"', '"+e+"' expected");return!1}function D(e){var a=null;return void 0===e?h===p-1&&(t||"*"===m||v)&&(a=f):(h<e&&C(),h!==e||v||!t&&"/"!==m||(a=f)),a}return Object.defineProperty({next:_,peek:C,push:O,skip:M,cmnt:D},"line",{get:function(){return p}})}m.unescape=d},abce:function(e,t,a){"use strict";var i=a("e052"),n=a.n(i);n.a},addc:function(e,t,a){"use strict";var i=a("5055"),n=a.n(i);n.a},b78f:function(e,t,a){e.exports=a.p+"img/mapicon.7621a9c3.png"},df7c:function(e,t,a){(function(e){function a(e,t){for(var a=0,i=e.length-1;i>=0;i--){var n=e[i];"."===n?e.splice(i,1):".."===n?(e.splice(i,1),a++):a&&(e.splice(i,1),a--)}if(t)for(;a--;a)e.unshift("..");return e}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,n=function(e){return i.exec(e).slice(1)};function r(e,t){if(e.filter)return e.filter(t);for(var a=[],i=0;i<e.length;i++)t(e[i],i,e)&&a.push(e[i]);return a}t.resolve=function(){for(var t="",i=!1,n=arguments.length-1;n>=-1&&!i;n--){var s=n>=0?arguments[n]:e.cwd();if("string"!==typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,i="/"===s.charAt(0))}return t=a(r(t.split("/"),function(e){return!!e}),!i).join("/"),(i?"/":"")+t||"."},t.normalize=function(e){var i=t.isAbsolute(e),n="/"===s(e,-1);return e=a(r(e.split("/"),function(e){return!!e}),!i).join("/"),e||i||(e="."),e&&n&&(e+="/"),(i?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,a){function i(e){for(var t=0;t<e.length;t++)if(""!==e[t])break;for(var a=e.length-1;a>=0;a--)if(""!==e[a])break;return t>a?[]:e.slice(t,a-t+1)}e=t.resolve(e).substr(1),a=t.resolve(a).substr(1);for(var n=i(e.split("/")),r=i(a.split("/")),s=Math.min(n.length,r.length),l=s,o=0;o<s;o++)if(n[o]!==r[o]){l=o;break}var u=[];for(o=l;o<n.length;o++)u.push("..");return u=u.concat(r.slice(l)),u.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=n(e),a=t[0],i=t[1];return a||i?(i&&(i=i.substr(0,i.length-1)),a+i):"."},t.basename=function(e,t){var a=n(e)[2];return t&&a.substr(-1*t.length)===t&&(a=a.substr(0,a.length-t.length)),a},t.extname=function(e){return n(e)[3]};var s="b"==="ab".substr(-1)?function(e,t,a){return e.substr(t,a)}:function(e,t,a){return t<0&&(t=e.length+t),e.substr(t,a)}}).call(this,a("f28c"))},e052:function(e,t,a){},e617:function(e,t,a){},fa1c:function(e,t,a){"use strict";e.exports=a("3737")}}]);
//# sourceMappingURL=demolitionAlarm.44149dd2.js.map