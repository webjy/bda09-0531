(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{1546:function(e,r,t){},2017:function(e,r,t){"use strict";var o=t("3b76"),n=t.n(o);n.a},"3b76":function(e,r,t){},"3d6f":function(e,r,t){"use strict";var o=t("1546"),n=t.n(o);n.a},4127:function(e,r,t){"use strict";var o=t("d233"),n=t("b313"),s=Object.prototype.hasOwnProperty,i={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},a=Array.isArray,l=Array.prototype.push,c=function(e,r){l.apply(e,a(r)?r:[r])},u=Date.prototype.toISOString,f={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:o.encode,encodeValuesOnly:!1,formatter:n.formatters[n["default"]],indices:!1,serializeDate:function(e){return u.call(e)},skipNulls:!1,strictNullHandling:!1},p=function e(r,t,n,s,i,l,u,p,d,m,h,g,y){var b=r;if("function"===typeof u?b=u(t,b):b instanceof Date?b=m(b):"comma"===n&&a(b)&&(b=b.join(",")),null===b){if(s)return l&&!g?l(t,f.encoder,y):t;b=""}if("string"===typeof b||"number"===typeof b||"boolean"===typeof b||o.isBuffer(b)){if(l){var w=g?t:l(t,f.encoder,y);return[h(w)+"="+h(l(b,f.encoder,y))]}return[h(t)+"="+h(String(b))]}var v,P=[];if("undefined"===typeof b)return P;if(a(u))v=u;else{var O=Object.keys(b);v=p?O.sort(p):O}for(var x=0;x<v.length;++x){var j=v[x];i&&null===b[j]||(a(b)?c(P,e(b[j],"function"===typeof n?n(t,j):t,n,s,i,l,u,p,d,m,h,g,y)):c(P,e(b[j],t+(d?"."+j:"["+j+"]"),n,s,i,l,u,p,d,m,h,g,y)))}return P},d=function(e){if(!e)return f;if(null!==e.encoder&&void 0!==e.encoder&&"function"!==typeof e.encoder)throw new TypeError("Encoder has to be a function.");var r=e.charset||f.charset;if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=n["default"];if("undefined"!==typeof e.format){if(!s.call(n.formatters,e.format))throw new TypeError("Unknown format option provided.");t=e.format}var o=n.formatters[t],i=f.filter;return("function"===typeof e.filter||a(e.filter))&&(i=e.filter),{addQueryPrefix:"boolean"===typeof e.addQueryPrefix?e.addQueryPrefix:f.addQueryPrefix,allowDots:"undefined"===typeof e.allowDots?f.allowDots:!!e.allowDots,charset:r,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:f.charsetSentinel,delimiter:"undefined"===typeof e.delimiter?f.delimiter:e.delimiter,encode:"boolean"===typeof e.encode?e.encode:f.encode,encoder:"function"===typeof e.encoder?e.encoder:f.encoder,encodeValuesOnly:"boolean"===typeof e.encodeValuesOnly?e.encodeValuesOnly:f.encodeValuesOnly,filter:i,formatter:o,serializeDate:"function"===typeof e.serializeDate?e.serializeDate:f.serializeDate,skipNulls:"boolean"===typeof e.skipNulls?e.skipNulls:f.skipNulls,sort:"function"===typeof e.sort?e.sort:null,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:f.strictNullHandling}};e.exports=function(e,r){var t,o,n=e,s=d(r);"function"===typeof s.filter?(o=s.filter,n=o("",n)):a(s.filter)&&(o=s.filter,t=o);var l,u=[];if("object"!==typeof n||null===n)return"";l=r&&r.arrayFormat in i?r.arrayFormat:r&&"indices"in r?r.indices?"indices":"repeat":"indices";var f=i[l];t||(t=Object.keys(n)),s.sort&&t.sort(s.sort);for(var m=0;m<t.length;++m){var h=t[m];s.skipNulls&&null===n[h]||c(u,p(n[h],h,f,s.strictNullHandling,s.skipNulls,s.encode?s.encoder:null,s.filter,s.sort,s.allowDots,s.serializeDate,s.formatter,s.encodeValuesOnly,s.charset))}var g=u.join(s.delimiter),y=!0===s.addQueryPrefix?"?":"";return s.charsetSentinel&&("iso-8859-1"===s.charset?y+="utf8=%26%2310003%3B&":y+="utf8=%E2%9C%93&"),g.length>0?y+g:""}},4328:function(e,r,t){"use strict";var o=t("4127"),n=t("9e6a"),s=t("b313");e.exports={formats:s,parse:n,stringify:o}},"9e6a":function(e,r,t){"use strict";var o=t("d233"),n=Object.prototype.hasOwnProperty,s={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:o.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},i=function(e){return e.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},a="utf8=%26%2310003%3B",l="utf8=%E2%9C%93",c=function(e,r){var t,c={},u=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,f=r.parameterLimit===1/0?void 0:r.parameterLimit,p=u.split(r.delimiter,f),d=-1,m=r.charset;if(r.charsetSentinel)for(t=0;t<p.length;++t)0===p[t].indexOf("utf8=")&&(p[t]===l?m="utf-8":p[t]===a&&(m="iso-8859-1"),d=t,t=p.length);for(t=0;t<p.length;++t)if(t!==d){var h,g,y=p[t],b=y.indexOf("]="),w=-1===b?y.indexOf("="):b+1;-1===w?(h=r.decoder(y,s.decoder,m),g=r.strictNullHandling?null:""):(h=r.decoder(y.slice(0,w),s.decoder,m),g=r.decoder(y.slice(w+1),s.decoder,m)),g&&r.interpretNumericEntities&&"iso-8859-1"===m&&(g=i(g)),g&&r.comma&&g.indexOf(",")>-1&&(g=g.split(",")),n.call(c,h)?c[h]=o.combine(c[h],g):c[h]=g}return c},u=function(e,r,t){for(var o=r,n=e.length-1;n>=0;--n){var s,i=e[n];if("[]"===i&&t.parseArrays)s=[].concat(o);else{s=t.plainObjects?Object.create(null):{};var a="["===i.charAt(0)&&"]"===i.charAt(i.length-1)?i.slice(1,-1):i,l=parseInt(a,10);t.parseArrays||""!==a?!isNaN(l)&&i!==a&&String(l)===a&&l>=0&&t.parseArrays&&l<=t.arrayLimit?(s=[],s[l]=o):s[a]=o:s={0:o}}o=s}return o},f=function(e,r,t){if(e){var o=t.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/,i=/(\[[^[\]]*])/g,a=s.exec(o),l=a?o.slice(0,a.index):o,c=[];if(l){if(!t.plainObjects&&n.call(Object.prototype,l)&&!t.allowPrototypes)return;c.push(l)}var f=0;while(null!==(a=i.exec(o))&&f<t.depth){if(f+=1,!t.plainObjects&&n.call(Object.prototype,a[1].slice(1,-1))&&!t.allowPrototypes)return;c.push(a[1])}return a&&c.push("["+o.slice(a.index)+"]"),u(c,r,t)}},p=function(e){if(!e)return s;if(null!==e.decoder&&void 0!==e.decoder&&"function"!==typeof e.decoder)throw new TypeError("Decoder has to be a function.");if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");var r="undefined"===typeof e.charset?s.charset:e.charset;return{allowDots:"undefined"===typeof e.allowDots?s.allowDots:!!e.allowDots,allowPrototypes:"boolean"===typeof e.allowPrototypes?e.allowPrototypes:s.allowPrototypes,arrayLimit:"number"===typeof e.arrayLimit?e.arrayLimit:s.arrayLimit,charset:r,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:s.charsetSentinel,comma:"boolean"===typeof e.comma?e.comma:s.comma,decoder:"function"===typeof e.decoder?e.decoder:s.decoder,delimiter:"string"===typeof e.delimiter||o.isRegExp(e.delimiter)?e.delimiter:s.delimiter,depth:"number"===typeof e.depth?e.depth:s.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"===typeof e.interpretNumericEntities?e.interpretNumericEntities:s.interpretNumericEntities,parameterLimit:"number"===typeof e.parameterLimit?e.parameterLimit:s.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"===typeof e.plainObjects?e.plainObjects:s.plainObjects,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:s.strictNullHandling}};e.exports=function(e,r){var t=p(r);if(""===e||null===e||"undefined"===typeof e)return t.plainObjects?Object.create(null):{};for(var n="string"===typeof e?c(e,t):e,s=t.plainObjects?Object.create(null):{},i=Object.keys(n),a=0;a<i.length;++a){var l=i[a],u=f(l,n[l],t);s=o.merge(s,u,t)}return o.compact(s)}},"9ed6":function(e,r,t){"use strict";t.r(r);var o=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"login-container"},[t("div",{staticClass:"loginBox"},[e._m(0),t("div",{staticClass:"loginBoxRight"},[t("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules,"label-position":"left"}},[t("div",{staticClass:"title-container"},[t("h3",{staticClass:"title"},[e._v("登录")])]),t("el-form-item",{class:{focusBorder:1==e.focusVal},attrs:{prop:"username"}},[t("div",{staticClass:"labelText"},[e._v("账号")]),t("el-popover",{attrs:{placement:"bottom-start",width:"330","popper-class":"re-pop",disabled:0==e.reAccPass.length},model:{value:e.showReBool,callback:function(r){e.showReBool=r},expression:"showReBool"}},[t("el-input",{ref:"username",attrs:{slot:"reference",type:"text",tabindex:"1"},on:{focus:function(r){e.focusVal=1},blur:function(r){e.focusVal=null},input:e.fillPass},slot:"reference",model:{value:e.loginForm.username,callback:function(r){e.$set(e.loginForm,"username",r)},expression:"loginForm.username"}}),t("ul",{staticClass:"re-admin"},e._l(e.reAccPass,function(r,o){return t("li",{key:o,on:{click:function(t){return e.reAssig(r)}}},[t("span",{staticClass:"re-name"},[e._v(e._s(r.username))]),t("span",{staticClass:"re-del el-icon-delete",on:{click:function(r){return r.stopPropagation(),e.reDelF(o)}}})])}),0)],1)],1),t("el-input",{staticClass:"donShow",attrs:{type:"text",name:"username",autofocus:""}}),t("el-input",{staticClass:"donShow",attrs:{type:"password",name:"password",autofocus:""}}),t("el-tooltip",{attrs:{content:"Caps lock is On",placement:"right",manual:""},model:{value:e.capsTooltip,callback:function(r){e.capsTooltip=r},expression:"capsTooltip"}},[t("el-form-item",{class:{focusBorder:2==e.focusVal},attrs:{prop:"password"}},[t("div",{staticClass:"labelText"},[e._v("密码")]),t("el-input",{key:e.passwordType,ref:"password",attrs:{tabindex:"2",type:e.passwordType,autocomplete:"off"},on:{blur:function(r){e.capsTooltip=!1,e.focusVal=null},focus:function(r){e.focusVal=2}},nativeOn:{keyup:[function(r){return e.checkCapslock(r)},function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.handleLogin(r)}]},model:{value:e.loginForm.password,callback:function(r){e.$set(e.loginForm,"password",r)},expression:"loginForm.password"}}),t("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[t("svg-icon",{attrs:{"icon-class":"password"===e.passwordType?"eye":"eye-open"}})],1)],1)],1),t("div",{staticClass:"rememberPass"},[t("el-checkbox",{model:{value:e.rePass,callback:function(r){e.rePass=r},expression:"rePass"}},[e._v("记住密码")])],1),t("div",{staticClass:"bottomBox"},[t("el-button",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(r){return r.preventDefault(),e.handleLogin(r)}}},[e._v("登录")])],1)],1)],1)]),t("div",{staticClass:"ver"},[e._v("版权所有：深圳北斗通信科技有限公司     V4.1.3")])])},n=[function(){var e=this,r=e.$createElement,o=e._self._c||r;return o("div",{staticClass:"loginBoxLeft"},[o("img",{attrs:{src:t("e093"),alt:""}})])}],s=(t("ac4d"),t("8a81"),t("7f7f"),t("6b54"),t("87b3"),t("a481"),t("4f37"),t("ac6a"),t("f3e2"),t("bc3a"),t("4328"),t("c24f")),i={name:"Login",data:function(){var e=this,r=function(e,r,t){""==r?t(new Error("请输入用户名")):t()},t=function(e,r,t){r.length<2?t(new Error("密码不能少于2位")):t()},o=function(r,t,o){""===t?o(new Error("请输入密码")):(""!==e.registerForm.password&&e.$refs.registerForm.validateField("password"),o())},n=function(r,t,o){""===t?o(new Error("请输入姓名")):(e.IsChinese(t)&&o(new Error("必须是中文")),o())},s=function(r,t,o){""===t?o(new Error("请再次输入密码")):t!==e.registerForm.pass?o(new Error("两次输入密码不一致!")):o()},i=function(e,r,t){""===r?t(new Error("请输入身份证号")):/^\d{6}(18|19|20)?\d{2}(0[1-9]|1[012])(0[1-9]|[12]\d|3[01])\d{3}(\d|X)$/i.test(r)?t():t(new Error("身份证号格式错误!"))};return{showReBool:!1,reAccPass:[],rePass:!1,loginForm:{username:"",password:""},loginRules:{username:[{required:!0,trigger:"blur",validator:r}],password:[{required:!0,trigger:"blur",validator:t}]},registerForm:{username:"",name:"",userCode:"",pass:"",password:"",power:2},registerRules:{username:[{required:!0,trigger:"blur"}],name:[{required:!0,trigger:"blur",validator:n}],userCode:[{required:!0,trigger:"blur",validator:i}],pass:[{validator:o,trigger:"blur",required:!0}],password:[{validator:s,trigger:"blur",required:!0}]},passwordType:"password",capsTooltip:!1,loading:!1,redirect:void 0,dialogVisibleRegister:!1,focusVal:null}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},created:function(){sessionStorage.clear(),localStorage.rePassWord?(this.reAccPass=JSON.parse(localStorage.rePassWord),this.reAccPass.length>0&&(this.loginForm.username=this.reAccPass[0].username,this.loginForm.password=atob(this.reAccPass[0].password),this.rePass=!0)):(localStorage.rePassWord=JSON.stringify([]),this.loginForm.username="",this.loginForm.password="",this.rePass=!1)},mounted:function(){},destroyed:function(){},methods:{checkCapslock:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.shiftKey,t=e.key;t&&1===t.length&&(this.capsTooltip=!!(r&&t>="a"&&t<="z"||!r&&t>="A"&&t<="Z")),"CapsLock"===t&&!0===this.capsTooltip&&(this.capsTooltip=!1)},showPwd:function(){var e=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick(function(){e.$refs.password.focus()})},handleLogin:function(){var e=this,r=this;this.loading=!0,setTimeout(function(){e.$store.dispatch("user/login",e.loginForm).then(function(t){r.reAccPass=JSON.parse(localStorage.rePassWord),r.reAccPass.length>0&&r.reAccPass.forEach(function(e,t){e.username==r.loginForm.username&&r.reAccPass.splice(t,1)}),r.rePass&&r.reAccPass.unshift({username:r.loginForm.username,password:btoa(r.loginForm.password)}),localStorage.rePassWord=JSON.stringify(r.reAccPass);var o=t.Power;switch(o){case 7:e.$router.push("/carInOutProcedure");break;case 6:e.$router.push("/gunInOutProcedure");break;case 4:e.$router.push("/task");break;default:e.$router.push("/")}}).catch(function(r){e.$message.error(r)}).finally(function(){e.loading=!1})},500)},IsChinese:function(e){var r=this.trim(e);if(0!=r.length){var t=/^[\u4E00-\u9FA5]+$/;if(!t.test(r))return!0}},trim:function(e){return e.toString().replace(/(^\s*)|(\s*$)/g,"")},submitRegisterForm:function(e){var r=this;this.$refs[e].validate(function(e){var t={username:r.registerForm.username,password:r.registerForm.password,name:r.registerForm.name,userCode:r.registerForm.userCode,power:2};if(!e)return!1;Object(s["i"])(t).then(function(e){r.$message({message:"注册成功",type:"success"})}).catch(function(e){})})},fillPass:function(e){var r=this;if(r.reAccPass.length>0){var t=!0,o=!1,n=void 0;try{for(var s,i=r.reAccPass[Symbol.iterator]();!(t=(s=i.next()).done);t=!0){var a=s.value;if(a.username==e){r.loginForm.password=atob(a.password),r.rePass=!0;break}r.loginForm.password="",r.rePass=!1}}catch(l){o=!0,n=l}finally{try{t||null==i.return||i.return()}finally{if(o)throw n}}}r.showReBool=!1},reDelF:function(e){var r=this;r.reAccPass.splice(e,1),localStorage.rePassWord=JSON.stringify(r.reAccPass)},reAssig:function(e){var r=this;r.loginForm.username=e.username,r.loginForm.password=atob(e.password),r.rePass=!0,r.$refs.loginForm.clearValidate("username"),r.showReBool=!1}}},a=i,l=(t("2017"),t("3d6f"),t("2877")),c=Object(l["a"])(a,o,n,!1,null,"3a7aa9fc",null);r["default"]=c.exports},b313:function(e,r,t){"use strict";var o=String.prototype.replace,n=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return o.call(e,n,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},d233:function(e,r,t){"use strict";var o=Object.prototype.hasOwnProperty,n=Array.isArray,s=function(){for(var e=[],r=0;r<256;++r)e.push("%"+((r<16?"0":"")+r.toString(16)).toUpperCase());return e}(),i=function(e){while(e.length>1){var r=e.pop(),t=r.obj[r.prop];if(n(t)){for(var o=[],s=0;s<t.length;++s)"undefined"!==typeof t[s]&&o.push(t[s]);r.obj[r.prop]=o}}},a=function(e,r){for(var t=r&&r.plainObjects?Object.create(null):{},o=0;o<e.length;++o)"undefined"!==typeof e[o]&&(t[o]=e[o]);return t},l=function e(r,t,s){if(!t)return r;if("object"!==typeof t){if(n(r))r.push(t);else{if(!r||"object"!==typeof r)return[r,t];(s&&(s.plainObjects||s.allowPrototypes)||!o.call(Object.prototype,t))&&(r[t]=!0)}return r}if(!r||"object"!==typeof r)return[r].concat(t);var i=r;return n(r)&&!n(t)&&(i=a(r,s)),n(r)&&n(t)?(t.forEach(function(t,n){if(o.call(r,n)){var i=r[n];i&&"object"===typeof i&&t&&"object"===typeof t?r[n]=e(i,t,s):r.push(t)}else r[n]=t}),r):Object.keys(t).reduce(function(r,n){var i=t[n];return o.call(r,n)?r[n]=e(r[n],i,s):r[n]=i,r},i)},c=function(e,r){return Object.keys(r).reduce(function(e,t){return e[t]=r[t],e},e)},u=function(e,r,t){var o=e.replace(/\+/g," ");if("iso-8859-1"===t)return o.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(o)}catch(n){return o}},f=function(e,r,t){if(0===e.length)return e;var o="string"===typeof e?e:String(e);if("iso-8859-1"===t)return escape(o).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var n="",i=0;i<o.length;++i){var a=o.charCodeAt(i);45===a||46===a||95===a||126===a||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122?n+=o.charAt(i):a<128?n+=s[a]:a<2048?n+=s[192|a>>6]+s[128|63&a]:a<55296||a>=57344?n+=s[224|a>>12]+s[128|a>>6&63]+s[128|63&a]:(i+=1,a=65536+((1023&a)<<10|1023&o.charCodeAt(i)),n+=s[240|a>>18]+s[128|a>>12&63]+s[128|a>>6&63]+s[128|63&a])}return n},p=function(e){for(var r=[{obj:{o:e},prop:"o"}],t=[],o=0;o<r.length;++o)for(var n=r[o],s=n.obj[n.prop],a=Object.keys(s),l=0;l<a.length;++l){var c=a[l],u=s[c];"object"===typeof u&&null!==u&&-1===t.indexOf(u)&&(r.push({obj:s,prop:c}),t.push(u))}return i(r),e},d=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},m=function(e){return!(!e||"object"!==typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},h=function(e,r){return[].concat(e,r)};e.exports={arrayToObject:a,assign:c,combine:h,compact:p,decode:u,encode:f,isBuffer:m,isRegExp:d,merge:l}},e093:function(e,r,t){e.exports=t.p+"img/loginImg2.680833e7.png"}}]);
//# sourceMappingURL=login.6fc6db46.js.map