(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["commonProblem"],{"01fc":function(e,t,a){"use strict";a.d(t,"a",function(){return n});var i=a("2ade");function n(e){return Object(i["a"])({url:"/eoms/packageRecordInfo/getPageList",method:"post",data:e,headers:{"content-type":"application/x-www-form-urlencoded"}})}},"0726":function(e,t,a){},"0841":function(e,t,a){},"0a50":function(e,t,a){"use strict";var i=a("20ae"),n=a.n(i);n.a},"0b02":function(e,t,a){"use strict";var i=a("d633"),n=a.n(i);n.a},"0b3e":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container",attrs:{id:"pacInOutRecord"}},[a("div",{staticClass:"multidevice filter-container"},[a("div",{staticClass:"selectBox"},[a("el-form",{ref:"mdForm",staticClass:"mdElForm",attrs:{inline:!0,rules:e.mdRule,model:e.mdForm,"label-width":"80px"}},[a("el-form-item",{attrs:{prop:"destinationId"}},[a("el-select",{staticClass:"filter-item",attrs:{placeholder:"按网点搜索"},model:{value:e.mdForm.destinationId,callback:function(t){e.$set(e.mdForm,"destinationId",t)},expression:"mdForm.destinationId"}},e._l(e.networkOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),a("el-input",{staticClass:"filter-item",attrs:{placeholder:"按库包名称搜索"},model:{value:e.mdForm.packageName,callback:function(t){e.$set(e.mdForm,"packageName",t)},expression:"mdForm.packageName"}}),a("el-form-item",{attrs:{prop:"searchDate"}},[a("el-date-picker",{attrs:{type:"daterange",placeholder:"选择日期",clearable:!1,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.mdForm.searchDate,callback:function(t){e.$set(e.mdForm,"searchDate",t)},expression:"mdForm.searchDate"}})],1),a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v("搜索")]),a("el-button",{staticClass:"filter-item filter-item-btn",attrs:{type:"primary",icon:"iconfont icondaochu",loading:e.exportLoading},on:{click:e.exportExcel}},[e._v("导出")])],1)],1)]),a("div",{staticClass:"tableBox"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,fit:"","highlight-current-row":"","row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{label:"序号",prop:"id",fixed:"",sortable:"custom",align:"center",width:"80",type:"index",index:e.indexMethod}}),a("el-table-column",{attrs:{label:"库包","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.packageName))])]}}])}),a("el-table-column",{attrs:{label:"银行","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.parentBankName))])]}}])}),a("el-table-column",{attrs:{label:"网点","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.destinationName))])]}}])}),a("el-table-column",{attrs:{label:"业务员1","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.businessName))])]}}])}),a("el-table-column",{attrs:{label:"业务员2","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.addBusinessName))])]}}])}),a("el-table-column",{attrs:{label:"管理员","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.manager))])]}}])}),a("el-table-column",{attrs:{label:"出入库类型","min-width":"150px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(1==t.row.inOutType?"入库":"出库"))])]}}])}),a("el-table-column",{attrs:{label:"出入库时间","min-width":"150px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.recordTime))])]}}])})],1)],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.page,limit:e.listQuery.limit,layout:"prev, pager, next, sizes, total, jumper"},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"limit",t)},pagination:e.getList}})],1)},n=[],s=(a("34ef"),a("2caf"),a("ac6a"),a("f3e2"),a("333d")),r=(a("ad19"),a("39d6"),a("69d9")),o=a("66e8"),l=a("d256"),d=a("01fc"),c=a("bc33"),u={name:"pacInOutRecord",components:{Pagination:s["a"]},data:function(){return{power:JSON.parse(sessionStorage.getItem("userInfo")).Power,tableKey:0,list:null,total:0,indexMethod:1,listLoading:!1,listQuery:{page:1,limit:10},mdForm:{searchDate:[new Date,new Date],packageName:"",destinationId:null},mdRule:{searchDate:[{trigger:"change",message:"请选择时间",required:!0}]},dataGun:[],imei2name:{},exportLoading:!1,networkOptions:[]}},created:function(){this.getSelect(),this.getList()},methods:{handleFilter:function(){this.listQuery.page=1,this.getList()},formatDate:r["d"],formatDate1:function(e){return Object(r["d"])(e,1)},getSelect:function(){var e=this,t=this;Object(c["b"])({type:-1}).then(function(a){if(0==a.status){if(null===a.data.records)return void(t.networkOptions=[{id:null,name:"请选择"}]);t.networkOptions=a.data,t.networkOptions.unshift({id:null,name:"请选择"})}else null==a.data&&(e.networkOptions=[]),e.$message.error(a.msg)})},getList:function(){var e=this;this.listLoading=!0;var t={current:this.listQuery.page,limit:this.listQuery.limit,packageName:this.mdForm.packageName,startTime:this.formatDate(this.mdForm.searchDate[0])+" 00:00:00",endTime:this.formatDate(this.mdForm.searchDate[1])+" 00:00:00",recordType:1};this.mdForm.destinationId&&(t.pointId=this.mdForm.destinationId),Object(d["a"])(t).then(function(t){if(0==t.status){e.list=t.data.data,e.total=t.data.count;var a=[],i=[];e.list.forEach(function(e,t){i.push(e.idIdentify),a.push(e.taskId)}),Array.isArray(e.list)&&e.list.length,e.indexMethod=(e.listQuery.page-1)*e.listQuery.limit+1}}).finally(function(){e.listLoading=!1})},querySchedulesByTasks:function(e){var t=this;Object(l["v"])({idIdenties:e}).then(function(e){if(0==e.status)for(var a,i=0;i<t.list.length;i++)a=t.list[i].idIdentify,t.$set(t.list[i],"businessName",e.data[a].businessName),t.$set(t.list[i],"addBusinessName",e.data[a].addBusinessName)}).catch(function(){})},queryTasksByTasks:function(e){var t=this;Object(o["h"])({ids:e}).then(function(e){if(0==e.status)for(var a=0;a<t.list.length;a++){t.list[a].idIdentify;for(var i=0;i<e.data.length;i++)if(e.data[i].id==t.list[a].taskId){var n="";1==e.data[i].type?n="入库":2==e.data[i].type&&(n="出库"),t.$set(t.list[a],"pacTypeText",n)}}}).catch(function(){})},tableRowClassName:function(e){e.row;var t=e.rowIndex;return t%2==0?"color-row":t%2==1?"noColor-row":""},exportExcel:function(){var e=this,t=this;t.$refs["mdForm"].validate(function(t){if(t){e.exportLoading=!0;var a={excelType:43,title:"库包出入库记录",startDate:e.formatDate(e.mdForm.searchDate[0])+" 00:00:00",endDate:e.formatDate(e.mdForm.searchDate[1])+" 00:00:00",recordType:1,packageName:e.mdForm.packageName};e.mdForm.destinationId&&(a.destinationId=e.mdForm.destinationId),Object(o["b"])(a).then(function(t){try{var a=new TextDecoder("utf-8"),i=JSON.parse(a.decode(new Uint8Array(t)));e.$message({message:i.msg,type:"warning"})}catch(o){var n="库包出入库记录.xls",s=new Blob([t],{type:"application/excel"}),r=document.createElement("a");r.href=window.URL.createObjectURL(s),r.download=n,r.click(),r.remove()}}).finally(function(){e.exportLoading=!1})}})}}},m=u,p=(a("2e5a"),a("2877")),f=Object(p["a"])(m,i,n,!1,null,null,null);t["default"]=f.exports},"0c0d":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container",class:{adminClass:1!==e.power&&2!==e.power},attrs:{id:"carInOutProcedure"}},[a("div",{staticClass:"contenBox"},[a("el-card",{staticClass:"box-card headerBox"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"showText",class:{activeColor:1==e.finish}},[e._v(e._s(e.showText))])])]),a("div",{staticClass:"box1"},[a("div",{staticClass:"box2"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("div",[e._v("扫描流程")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:0==e.inOutType||1==e.inOutType||2==e.inOutType,expression:"inOutType==0||inOutType==1||inOutType==2"}],staticClass:"personMes toggleContent1 tableBox"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,attrs:{data:e.procedureList,fit:"","highlight-current-row":"","row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{label:"职位","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.item))])]}}])}),a("el-table-column",{attrs:{label:"姓名",width:"100px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.itemName))])]}}])}),a("el-table-column",{attrs:{label:"刷卡时间","min-width":"150px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.time))])]}}])}),a("el-table-column",{attrs:{label:"完成状态","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("i",{staticClass:"el-icon-success",class:{activeColor:1==e.row.status}})]}}])})],1)],1)]),a("el-card",{staticClass:"box-card scheduleBox"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("排班信息")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:0==e.inOutType||1==e.inOutType||2==e.inOutType,expression:"inOutType==0||inOutType==1||inOutType==2"}],staticClass:"personMes toggleContent1 tableBox "},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,attrs:{data:e.scheduleList,fit:"","highlight-current-row":"","row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{label:"序号",prop:"id",fixed:"",sortable:"custom",align:"center",width:"80",type:"index",index:e.indexMethod}}),a("el-table-column",{attrs:{label:"司机","min-width":"100px",align:"center",prop:"driverName"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.driverName))])]}}])}),a("el-table-column",{attrs:{label:"车辆","min-width":"100px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.carLicenseNo))])]}}])}),a("el-table-column",{attrs:{label:"路线","min-width":"100px",align:"center",prop:"listProp"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.routeName))])]}}])}),a("el-table-column",{attrs:{label:"排班类型","min-width":"80px",align:"center",prop:"listProp"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.formateType(t.row.type)))])]}}])}),a("el-table-column",{attrs:{label:"状态","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(1==t.row.status||3==t.row.status||5==t.row.status?"正常":"取消"))])]}}])}),a("el-table-column",{attrs:{label:"车辆状态","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.getSwipeStatusText1(e.swipeStatusObj[t.row.carId])))])]}}])}),a("el-table-column",{attrs:{label:"排班日期","min-width":"150px",align:"center",prop:"sortDate"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.planYear+"-"+t.row.planMonth+"-"+t.row.planDay))])]}}])}),e.procedureList[1].itemName&&0==e.finish?a("el-table-column",{attrs:{label:"操作",align:"center","min-width":"150",fixed:"right","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("el-button",{attrs:{type:"primary",size:"mini",disabled:2==i.status||4==i.status||0!==e.swipeStatusObj[i.carId]&&1!==e.swipeStatusObj[i.carId]},on:{click:function(t){return e.handleInOut({adminId:e.procedureList[1].linkId,carId:i.carId,driverId:e.procedureList[0].linkId})}}},[e._v(e._s(0==e.swipeStatusObj[i.carId]?"领取":"归还"))])]}}],null,!1,599413316)}):e._e()],1)],1)]),a("el-card",{directives:[{name:"show",rawName:"v-show",value:e.haveforce,expression:"haveforce"}],staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"red"},[e._v("其他未归还车辆"),a("em",{directives:[{name:"show",rawName:"v-show",value:e.procedureList[1].itemName&&0==e.finish,expression:"procedureList[1].itemName&&finish==0"}]},[e._v("(管理员刷卡后可点击以下按钮强制归还该车)")])])]),a("div",{staticClass:"personMes toggleContent1 noReturn"},[a("div",{staticClass:"returnBtn"},e._l(e.unReturnCarNo,function(t,i){return a("el-button",{attrs:{disabled:!(e.procedureList[1].itemName&&0==e.finish)},on:{click:function(t){return e.handleInOut({carId:e.unReturnCarId[i],driverId:e.procedureList[0].linkId,adminId:e.procedureList[1].linkId})}}},[e._v(" "+e._s(t))])}),1)])])],1),a("div",{staticClass:"personDetail"},[a("div",{staticClass:"detailText"},[e._v("\n             "+e._s(e.personDetail.name)+"\n           ")]),a("div",{staticClass:"photo"},[a("img",{attrs:{src:e.personDetail.taskSrc,alt:"暂无图片"}})])])])],1),a("el-dialog",{attrs:{title:"提示",visible:e.centerDialogVisible,width:"30%",modal:!0,center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[a("div",{staticStyle:{"text-align":"center","font-size":"20px","padding-bottom":"20px"}},[e._v(e._s(e.dialogText))]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.centerDialogVisible=!1}}},[e._v("确 定")])],1)]),a("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("span",[e._v(e._s(e.forceText))]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.forceSubmit}},[e._v("确 定")])],1)])],1)},n=[],s=a("bd86"),r=(a("6d67"),a("4f7f"),a("1c4c"),a("7f7f"),a("cebc")),o=(a("5df3"),a("34ef"),a("262f"),a("4917"),a("57e7"),a("28a5"),a("ac6a"),a("f3e2"),a("4807")),l=a("d256"),d=a("c31b"),c=a("47a3"),u=a("39d6"),m=a("69d9"),p=a("bc3a"),f=a.n(p),h=void 0,g={name:"carInOutProcedure",data:function(){return{inOutType:0,options:[{key:"库包出入库之业务员刷卡",value:0},{key:"库包出入库之扫描库包",value:1},{key:"库包出入库之签字确认成功",value:2},{key:"车辆出入库之司机刷卡",value:3},{key:"车辆出入库之门卫刷卡",value:4},{key:"枪弹出入库之押运员刷卡",value:5},{key:"枪弹出入库之枪管刷卡",value:6}],tableKey:1,listLoading:!1,procedureList:[{item:"司机"},{item:"管理员"}],scheduleList:[],indexMethod:1,show:!1,someName:"",rfid:null,realRfid:null,cancelRequest1:null,cancelRequest2:null,cancelRequest3:null,finish:0,wsCar:null,wsArr:[],showText:"等待司机刷卡中......",centerDialogVisible:!1,dialogText:"",dialogTimer:null,sameCar:!0,gunScheduleDone:!1,carDetailReqCancelRequest:{},swipeStatusObj:{},personDetail:{},forceText:"",dialogVisible:!1,haveforce:!1,unReturnCarNo:[],unReturnCarId:[],power:null}},created:function(){this.power=JSON.parse(this.$store.state.user.userInfo).Power},computed:{},mounted:function(){this.webSocketConnect()},beforeDestroy:function(){this.wsCar&&this.wsCar.close();for(var e=0;e<this.wsArr.length;e++)this.wsArr[e]&&(this.wsArr[e].close(),this.wsArr[e]=null)},methods:Object(s["a"])({formateType:function(e){var t="";switch(e){case 1:t="晚收";break;case 2:t="早送";break;case 5:t="加钞";break;case 7:t="收款";break}return t},speak:function(e){var t=new SpeechSynthesisUtterance(e);t.volume=100,t.rate=1,t.pitch=1.5,speechSynthesis.speak(t)},webSocketConnect:function(){var e=a("6b57");this.wsInit("ws://127.0.0.1:22345",e)},findIP:function(e){var t=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection,a=new t({iceServers:[]}),i=function(){},n={},s=/([0-9]{1,3}(\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/g;function r(t){n[t]||e(t),n[t]=!0}a.createDataChannel(""),a.createOffer().then(function(e){e.sdp.split("\n").forEach(function(e){e.indexOf("candidate")<0||e.match(s).forEach(r)}),a.setLocalDescription(e,i,i)}),a.onicecandidate=function(e){e&&e.candidate&&e.candidate.candidate&&e.candidate.candidate.match(s)&&e.candidate.candidate.match(s).forEach(r)}},wsInit:function(e,t){var a=new WebSocket(e),i=this;switch(this.wsArr.push(a),a.binaryType="arraybuffer",a.readyState){case WebSocket.CONNECTING:console.log("正在连接");break;case WebSocket.OPEN:console.log("连接成功");break;case WebSocket.CLOSING:console.log("正在关闭");break;case WebSocket.CLOSED:console.log("已经关闭，或者打开连接失败");break;default:break}a.onerror=function(e){console.log("error")},a.onclose=function(){console.log("close")},a.onopen=function(){},a.onmessage=function(e){if(e.data instanceof ArrayBuffer){var a=e.data,n=new DataView(a.slice(0,8)),s=n.getInt32(0),r=null,o=new Uint8Array(a.slice(8,s+4));r=t.lookupType("com.beidou.proto.local.RealTimeRfidInfoResponse");var l=r.decode(o);i.dealWebSocketData(l.rfid)}}},dealWebSocketData:function(e){this.procedureList[1].rfid&&0==this.finish||this.rfid!==e&&(this.rfid=e,1==this.gunScheduleDone&&(this.gunScheduleDone=!1,this.procedureList[0].rfid==e)||(!e||0!=this.finish||e!=this.procedureList[0].rfid&&e!=this.procedureList[1].rfid?0==this.finish&&this.procedureList[0].itemName&&this.procedureList[1].itemName?this.showDialog("无效刷卡，当前流程还未完成"):this.queryByRfid(this.rfid):this.showDialog("已刷卡,请勿重复刷卡")))},restart:function(){this.procedureList=[{item:"司机"},{item:"管理员"}],this.scheduleList=[],this.finish=0,this.sameCar=!0,this.showText="等待司机刷卡中......",this.personDetail={},this.haveforce=!1,this.unReturnCarId=[],this.unReturnCarNo=[],this.swipeStatusObj={}},formatDate1:function(e){return Object(m["d"])(e,1)},queryByRfid:function(e){var t=this;this.cancelRequest1&&(this.cancelRequest1(),this.cancelRequest1=null),Object(o["b"])({rfid:this.rfid},new f.a.CancelToken(function(e){t.cancelRequest1=e})).then(function(a){if(0==a.status){if(a.data&&0==a.data.length)return void t.showDialog("未查询到信息");var i=a.data[0];if(!i.linkId)return void t.showDialog("该卡无身份信息");if(null==i.workTypes&&(i.workTypes=[]),-1==i.workTypes.indexOf(1)){if(t.procedureList[0].rfid&&0==t.scheduleList.length&&!t.cancelRequest2&&!t.cancelRequest3&&0==t.haveforce)return void t.showDialog("刷卡流程错误，请下一位司机刷卡");if(t.procedureList[0].rfid&&0==t.scheduleList.length&&(t.cancelRequest3||t.cancelRequest2||t.getCancelRequestObj()))return}if(-1!==i.workTypes.indexOf(1))t.staffSwipe(i,e);else{if(-1==i.workTypes.indexOf(7)&&-1==i.workTypes.indexOf(1))return void t.showDialog("身份错误");if(-1!==i.workTypes.indexOf(7)){if(!t.procedureList[0].itemName)return void t.showDialog("刷卡流程错误");if(t.procedureList[1].rfid&&1==t.finish)return void t.showDialog("上个流程已完成，请司机刷卡");if(0==t.procedureList[0].status)return t.scheduleList.length||0!=t.haveforce?void t.showDialog("刷卡流程错误"):void t.showDialog("无任务或不存在需归还车辆，请下一位司机刷卡");t.adminSwipe(i,e)}}}else t.$message.error(a.msg)}).catch(function(e){}).finally(function(){t.cancelRequest1=null})},getCancelRequestObj:function(){for(item in this.carDetailReqCancelRequest)if(this.carDetailReqCancelRequest[item])return!0},getSwipeStatusText:function(e){var t="";switch(e){case 0:t="领取";break;case 1:t="归还";break;case 2:t="维修";break;case 3:t="保养中";break;case 4:t="报废";break}return t},getSwipeStatusText1:function(e){var t="";switch(e){case 0:t="入库";break;case 1:t="出库";break;case 2:t="维修";break;case 3:t="保养中";break;case 4:t="报废";break}return t},staffSwipe:function(e,t){var a=this,i={},n=this;if(this.personDetail={},this.cancelRequest3&&(this.cancelRequest3(),this.cancelRequest3=null),this.cancelRequest2){for(item in this.cancelRequest2(),this.cancelRequest2=null,this.carDetailReqCancelRequest)this.carDetailReqCancelRequest[item]&&this.carDetailReqCancelRequest[item]();this.carDetailReqCancelRequest={}}this.finish=0,this.sameCar=!0,this.scheduleList=[],this.procedureList=[{item:"司机"},{item:"管理员"}],i={item:"司机",itemName:e.linkName,time:this.formatDate1((new Date).getTime()),status:0,linkId:e.linkId,rfid:e.rfid},this.procedureList.splice(0,1,i),this.showText=this.procedureList[0].itemName+"刷卡",this.speak(this.showText);var s,o=this.queryTask({personId:e.linkId});o.then(function(t){t.length?(s=a.queryScheduleByidIdentifys({idIdenties:t}),s.then(function(t){var i=a.forceUpdate(e.linkId);i.then(function(e){if(n.unReturnCarId=e.unReturnCarId,n.unReturnCarNo=e.unReturnCarNo,t.length){for(var i={},s=[],o=0;o<t.length;o++)s.push(n.carSwipeStatus(t[o]));Promise.all(s).then(function(e){e.forEach(function(e){i=Object(r["a"])({},i,e)}),n.swipeStatusObj=Object(r["a"])({},i);for(var a=n.unReturnCarId.length-1;a>=0;a--)for(var s=0;s<t.length;s++)n.unReturnCarId[a]==t[s]&&1==i[t[s]]&&(n.unReturnCarId.splice(a,1),n.unReturnCarNo.splice(a,1));n.$set(n.procedureList[0],"status",1),t.length&&!n.unReturnCarId.length&&1==t.length&&(n.showText=n.procedureList[0].itemName+"刷卡成功,等待"+n.getSwipeStatusText(n.swipeStatusObj[t[0]])+"钥匙中......"),n.unReturnCarId.length?n.haveforce=!0:n.haveforce=!1,n.gunScheduleDone=!0}).catch(function(e){n.showText="获取车辆领取或归还状态信息失败！",a.speak(a.showText)})}else n.unReturnCarId.length?n.haveforce=!0:n.haveforce=!1})})):a.showDialog("无效刷卡，未获取到任务信息,请下一个司机刷卡")});var l=this.queryGun(e.linkId);l.then(function(e){n.queryPhoto(e).then(function(e){n.showPhoto(e)})}).catch(function(e){})},forceUpdate:function(e){var t=this;return new Promise(function(a,i){Object(u["a"])({driverId:e},new f.a.CancelToken(function(e){t.cancelRequest3=e})).then(function(e){e.status,a(e.data)}).catch(function(e){}).finally(function(){t.cancelRequest3=null})})},adminSwipe:function(e,t){var a={};a={item:"管理员",itemName:e.linkName,time:this.formatDate1((new Date).getTime()),status:1,linkId:e.linkId,rfid:e.rfid},this.procedureList.splice(1,1,a),1==this.sameCar&&0==this.haveforce?this.showText="钥匙刷卡成功，管理员已确认，提交中......":(this.showText="管理员刷卡成功，请点击按钮确认归还或领取......",this.speak(this.showText)),this.procedureList[1].itemName&&0==this.finish&&1==this.sameCar&&0==this.haveforce&&this.handleInOut({adminId:this.procedureList[1].linkId,carId:this.scheduleList[0].carId,driverId:this.procedureList[0].linkId})},judgeSame:function(e){for(var t=!0,a=0;a<e.length-1;a++)e[a].carLicenseNo!==e[a+1].carLicenseNo&&(t=!1);return this.sameCar=t,t},getCar:function(e){for(var t=[],a=0;a<e.length;a++)-1==t.indexOf(e[a].carId)&&t.push(e[a].carId);return t},queryGun:function(e){var t=this;return this.personDetail={},new Promise(function(a,i){Object(c["j"])({personId:e}).then(function(e){0==e.status&&(t.personDetail.name=e.data.name,t.personDetail.age=e.data.age,t.personDetail.sex=e.data.sex),a(e.data)}).catch(function(e){}).finally(function(){})})},queryPhoto:function(e){return new Promise(function(t,a){null!=e.photoId&&Object(l["q"])({id:e.photoId,type:[1]}).then(function(e){if(0==e.status){if(e.data&&0==e.data.length)return;t(e)}}).catch(function(){}).finally(function(){})})},showPhoto:function(e){var t=this;return new Promise(function(a,i){Object(l["m"])({path:e.data[0].path,fileName:e.data[0].fileName}).then(function(e){t.$set(t.personDetail,"taskSrc",window.URL.createObjectURL(e))}).finally(function(){})})},queryTask:function(e){var t=this;return new Promise(function(a,i){Object(l["E"])(e,new f.a.CancelToken(function(e){t.cancelRequest2=e})).then(function(e){var i=[];if(0==e.status){for(var n=e.data.length-1;n>=0;n--)2!=e.data[n].status&&4!=e.data[n].status&&6!=e.data[n].status&&e.data[n].driverId==t.procedureList[0].linkId||e.data.splice(n,1);i=Array.from(new Set(e.data.map(function(e,t){return e.idIdentify})))}else i=[];a(i)}).catch(function(e){}).finally(function(){t.cancelRequest2=null})})},querySchedule:function(e){var t=this;return new Promise(function(a,i){Object(l["x"])(e,new f.a.CancelToken(function(e){t.cancelRequest2=e})).then(function(e){if(0==e.status){for(var i=e.data.length-1;i>=0;i--)2!=e.data[i].status&&4!=e.data[i].status&&6!=e.data[i].status&&e.data[i].driverId==t.procedureList[0].linkId||e.data.splice(i,1);t.scheduleList=e.data,t.judgeSame(t.scheduleList)}else t.scheduleList=[];a(t.getCar(t.scheduleList))}).catch(function(e){}).finally(function(){t.cancelRequest2=null})})},queryScheduleByidIdentifys:function(e){var t=this;return new Promise(function(a,i){Object(l["v"])(e,new f.a.CancelToken(function(e){t.cancelRequest2=e})).then(function(e){if(0==e.status){for(var i in t.scheduleList=[],e.data)t.scheduleList.push(e.data[i]);t.judgeSame(t.scheduleList)}else t.scheduleList=[];a(t.getCar(t.scheduleList))}).catch(function(e){}).finally(function(){t.cancelRequest2=null})})},carSwipeStatus:function(e){var t=this;return new Promise(function(a,i){Object(d["g"])({id:e},new f.a.CancelToken(function(a){t.carDetailReqCancelRequest[e]=a})).then(function(t){0==t.status&&a(Object(s["a"])({},e,t.data.runType))}).catch(function(e){}).finally(function(){t.carDetailReqCancelRequest[e]=null})})},forceSubmit:function(){this.carPerformSubmit(this.submitData),this.dialogVisible=!1},handleInOut:function(e){h=this.$loading({target:"#myDialog .el-dialog"}),this.carPerformSubmit(e)},carPerformSubmit:function(e){var t=this;Object(u["d"])(e).then(function(e){if(0==e.status){t.$message.success(e.data),t.finish=1,t.showText=t.procedureList[0].itemName+e.data+",等待下一个司机刷卡",t.speak(t.showText);var a,i=t.queryTask({personId:t.procedureList[0].linkId});i.then(function(e){e.length&&(a=t.queryScheduleByidIdentifys({idIdenties:e}),a.then(function(e){var a=t.forceUpdate(t.procedureList[0].linkId);a.then(function(a){if(t.unReturnCarId=a.unReturnCarId,t.unReturnCarNo=a.unReturnCarNo,e.length){for(var i={},n=[],s=0;s<e.length;s++)n.push(t.carSwipeStatus(e[s]));Promise.all(n).then(function(a){a.forEach(function(e){i=Object(r["a"])({},i,e)}),t.swipeStatusObj=Object(r["a"])({},i);for(var n=t.unReturnCarId.length-1;n>=0;n--)for(var s=0;s<e.length;s++)t.unReturnCarId[n]==e[s]&&1==i[e[s]]&&(t.unReturnCarId.splice(n,1),t.unReturnCarNo.splice(n,1))}).catch(function(e){})}else t.unReturnCarId.length?t.haveforce=!0:t.haveforce=!1})}))})}else t.scheduleList=[]}).catch(function(e){t.showDialog("提交出错啦"),t.restart()}).finally(function(){h.close()})},tableRowClassName:function(e){e.row;var t=e.rowIndex;return t%2==0?"color-row":t%2==1?"noColor-row":""},showDialog:function(e){var t=this;clearTimeout(this.dialogTimer),this.centerDialogVisible=!0,this.dialogTimer=setTimeout(function(){t.centerDialogVisible=!1},5e3),this.dialogText=e,this.speak(this.dialogText)}},"tableRowClassName",function(e){e.row;var t=e.rowIndex;return t%2==0?"color-row":t%2==1?"noColor-row":""})},b=g,v=(a("1ace"),a("1587"),a("2877")),y=Object(v["a"])(b,i,n,!1,null,"67bbaefa",null);t["default"]=y.exports},"0f0e":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container",class:{adminClass:1!==e.power&&2!==e.power},attrs:{id:"carInOutRecord"}},[a("div",{staticClass:"multidevice filter-container"},[a("div",{staticClass:"selectBox"},[a("el-form",{ref:"mdForm",staticClass:"mdElForm",attrs:{inline:!0,rules:e.mdRule,model:e.mdForm,"label-width":"80px"}},[a("el-form-item",{attrs:{prop:"imeiCar"}},[a("el-cascader",{ref:"myMdGunsCas",attrs:{"popper-class":"myGunCas",placeholder:"选择车辆",props:{expandTrigger:"hover",multiple:!0},options:e.dataGun,"show-all-levels":!1,clearable:"",filterable:"","collapse-tags":""},model:{value:e.mdForm.imeiCar,callback:function(t){e.$set(e.mdForm,"imeiCar",t)},expression:"mdForm.imeiCar"}})],1),a("el-form-item",{attrs:{prop:"searchDate"}},[a("el-date-picker",{attrs:{type:"month",placeholder:"选择月",clearable:!1},model:{value:e.mdForm.searchDate,callback:function(t){e.$set(e.mdForm,"searchDate",t)},expression:"mdForm.searchDate"}})],1),a("el-form-item",[a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v("搜索")]),a("el-button",{staticClass:"filter-item filter-item-btn",attrs:{type:"primary",icon:"iconfont icondaochu",loading:e.exportLoading},on:{click:e.exportExcel}},[e._v("导出")])],1)],1)],1)]),a("div",{staticClass:"tableBox"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,fit:"","highlight-current-row":"","row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{label:"序号",prop:"id",fixed:"",sortable:"custom",align:"center",width:"80",type:"index",index:e.indexMethod}}),a("el-table-column",{attrs:{label:"时间","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.formatDate1(t.row.handoverTime)))])]}}])}),a("el-table-column",{attrs:{label:"车牌号","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.carNo))])]}}])}),a("el-table-column",{attrs:{label:"司机","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.driverName))])]}}])}),a("el-table-column",{attrs:{label:"经办人","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.adminName))])]}}])}),a("el-table-column",{attrs:{label:"状态","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(1==t.row.status?"领用":"归还"))])]}}])})],1)],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.page,limit:e.listQuery.limit,layout:"prev, pager, next, sizes, total, jumper"},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"limit",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:"导出",visible:e.formVisible,"append-to-body":"",center:""},on:{"update:visible":function(t){e.formVisible=t}}},[a("el-form",{ref:"addForm",staticClass:"formStyle",attrs:{model:e.temp,"label-position":"left",rules:e.rules}},[a("el-form-item",{attrs:{prop:"imeiCar",label:"车辆"}},[a("el-cascader",{ref:"myMdGunsCas1",staticClass:"myGunCas1",attrs:{"popper-class":"myGunCas1",placeholder:"选择车辆",props:{expandTrigger:"hover",multiple:!0},options:e.dataGun,"show-all-levels":!1,clearable:"",filterable:"","collapse-tags":""},model:{value:e.temp.imeiCar,callback:function(t){e.$set(e.temp,"imeiCar",t)},expression:"temp.imeiCar"}})],1),a("el-form-item",{attrs:{prop:"searchDate",label:"年月"}},[a("el-date-picker",{attrs:{type:"month",placeholder:"选择月"},model:{value:e.temp.searchDate,callback:function(t){e.$set(e.temp,"searchDate",t)},expression:"temp.searchDate"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.exportExcel()}}},[e._v("确定")])],1)],1)],1)},n=[],s=(a("34ef"),a("6b54"),a("87b3"),a("7f7f"),a("ac6a"),a("f3e2"),a("333d")),r=a("ad19"),o=a("39d6"),l=a("69d9"),d=a("66e8"),c={name:"carInOutRecord",components:{Pagination:s["a"]},data:function(){var e=this,t=function(t,a,i){var n=e.mdForm.imeiCar;n.length<1?i(new Error("请选择设备")):i()},a=function(t,a,i){var n=e.temp.imeiCar;n.length<1?i(new Error("请选择")):i()},i=function(e,t,a){t?a():a(new Error("请选择"))};return{power:JSON.parse(sessionStorage.getItem("userInfo")).Power,tableKey:0,list:null,total:0,indexMethod:1,listLoading:!1,listQuery:{page:1,limit:10},mdForm:{imeiCar:[],searchDate:new Date},mdRule:{imeiCar:[{validator:t,trigger:"change"}],searchDate:[{trigger:"change",message:"请选择时间",validator:i}]},dataGun:[],imei2name:{},formVisible:!1,temp:{imeiGun:[],searchDate:new Date},rules:{imeiCar:[{validator:a,trigger:"change",required:!0}],searchDate:[{trigger:"change",message:"请选择时间",validator:i,required:!0}]},exportLoading:!1}},created:function(){this.getTeamAndCarList()},methods:{handleExportExcel:function(){this.formVisible=!0,this.temp.imeiCar=[]},formatDate1:function(e){return Object(l["d"])(e,1)},getTeamAndCarList:function(){var e=this,t=this;Object(r["g"])({}).then(function(a){if(0==a.status){t.dataGun=e.formatCas(a.data,"id","licenseNo");for(var i=0;i<e.dataGun.length;i++)for(var n=0;n<e.dataGun[i].children.length;n++)t.mdForm.imeiCar.push([t.dataGun[i].value,e.dataGun[i].children[n].value]);t.mdForm.imeiCar.length&&e.handleFilter()}else e.$message.error(a.msg)})},formatCas:function(e,t,a){var i=[],n=0,s=this,r=function(r){var o=[];e[r].forEach(function(e){o.push({value:e[t],label:e[a]}),s.imei2name[e[t]]=e[a]}),i.push({value:"i".concat(n++),label:""==r?"未分组":r,children:o})};for(var o in e)r(o);return i},getList:function(){var e=this;Object(o["c"])(this.listQuery).then(function(t){0==t.status&&(e.list=t.data,e.total=t.count,e.indexMethod=(e.listQuery.page-1)*e.listQuery.limit+1)}).finally(function(){e.listLoading=!1})},handleFilter:function(){var e=this;this.$refs["mdForm"].validate(function(t){if(t){e.listLoading=!0,e.listQuery.page=1;for(var a=[],i=0;i<e.mdForm.imeiCar.length;i++)a.push(e.mdForm.imeiCar[i][1]);e.listQuery.tableDate=e.mdForm.searchDate.getTime(),e.listQuery.carIds=a,e.getList()}})},tableRowClassName:function(e){e.row;var t=e.rowIndex;return t%2==0?"color-row":t%2==1?"noColor-row":""},exportExcel:function(){for(var e=this,t=this,a=[],i=0;i<this.mdForm.imeiCar.length;i++)a.push(this.mdForm.imeiCar[i][1]);t.$refs["mdForm"].validate(function(t){t&&(e.exportLoading=!0,Object(d["b"])({excelType:22,title:"车辆领用表",carIds:a,times:[e.mdForm.searchDate.getTime().toString()]}).then(function(t){try{var a=new TextDecoder("utf-8"),i=JSON.parse(a.decode(new Uint8Array(t)));e.$message({message:i.msg,type:"warning"})}catch(o){t.headers;var n="车辆领用表.xls",s=new Blob([t],{type:"application/excel"}),r=document.createElement("a");r.href=window.URL.createObjectURL(s),r.download=n,r.click(),r.remove()}}).finally(function(){e.exportLoading=!1}))})}}},u=c,m=(a("db6e"),a("2877")),p=Object(m["a"])(u,i,n,!1,null,null,null);t["default"]=p.exports},1299:function(e,t,a){},1430:function(e,t,a){"use strict";var i=a("9455"),n=a.n(i);n.a},1587:function(e,t,a){"use strict";var i=a("3a71"),n=a.n(i);n.a},"18d6":function(e,t,a){},"1a3b":function(e,t,a){"use strict";var i=a("ab94"),n=a.n(i);n.a},"1ace":function(e,t,a){"use strict";var i=a("ffc8"),n=a.n(i);n.a},"1af9":function(e,t,a){},"1c49":function(e,t,a){},"1d9a":function(e,t,a){},"1da9":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return"/schedualManagement/schedual"!==e.$route.path?a("router-view"):a("div",{staticClass:"app-container",attrs:{id:"schedual"}},[a("div",{staticClass:"filter-container"},[a("el-date-picker",{staticClass:"filter-item",attrs:{align:"right",type:"date",clearable:!1,"value-format":"timestamp",placeholder:"选择日期"},on:{change:e.dateChange},model:{value:e.listQuery.selectDate,callback:function(t){e.$set(e.listQuery,"selectDate",t)},expression:"listQuery.selectDate"}}),a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v("搜索")]),a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-circle-plus-outline",disabled:e.dateDisabled},on:{click:e.handleCreate}},[e._v("添加")]),a("el-button",{staticClass:"filter-item",attrs:{type:"primary",disabled:!e.showPublish||e.dateDisabled,icon:"iconfont iconfabu1"},on:{click:e.handlePublish}},[e._v("发布")]),a("el-button",{staticClass:"filter-item filter-item-btn",attrs:{type:"primary",icon:"iconfont icondaochu"},on:{click:e.exportExcel}},[e._v("导出")]),a("el-button",{staticClass:"filter-item filter-item-btn",attrs:{type:"primary",icon:"iconfont icondaoru"},on:{click:e.importExcel}},[e._v("导入")])],1),a("el-dialog",{staticClass:"alarmDealBox",attrs:{title:"保存",visible:e.modifyVisible,"append-to-body":"",center:""},on:{"update:visible":function(t){e.modifyVisible=t}}},[a("el-form",{ref:"modifyForm",attrs:{model:e.modifyTemp,"label-position":"left",rules:e.modifyRules}},[a("el-form-item",{attrs:{label:"修改原因",prop:"modifyReason"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.modifyTemp.modifyReason,callback:function(t){e.$set(e.modifyTemp,"modifyReason",t)},expression:"modifyTemp.modifyReason "}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.saveSubmit()}}},[e._v("确定")])],1)],1),a("el-dialog",{staticClass:"alarmDealBox ",attrs:{title:"添加排班",id:"mydialog1",visible:e.addVisible,"append-to-body":"",center:""},on:{"update:visible":function(t){e.addVisible=t}}},[a("el-form",{ref:"addForm",staticClass:"formStyle",attrs:{model:e.addTemp,"label-position":"left",rules:e.addRules}},[a("el-form-item",{attrs:{label:"道路",prop:"routeId"}},[a("el-select",{staticClass:"filter-item",attrs:{filterable:"",placeholder:"Please select"},model:{value:e.addTemp.routeId,callback:function(t){e.$set(e.addTemp,"routeId",e._n(t))},expression:"addTemp.routeId"}},e._l(e.geometryOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"排班类型",prop:"type"}},[a("el-select",{staticClass:"filter-item",attrs:{filterable:"",placeholder:"Please select"},on:{change:e.groupFilter},model:{value:e.addTemp.type,callback:function(t){e.$set(e.addTemp,"type",e._n(t))},expression:"addTemp.type"}},e._l(e.typeOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"车辆",prop:"carId"}},[a("el-select",{staticClass:"filter-item",class:{repeatColor:e.addTempRepeatCar==e.addTemp.carId,removeClass:e.judgeRemoveIn(e.teamLeaderOptions,e.addTemp.carId)},attrs:{filterable:"",placeholder:"Please select"},on:{change:e.addCarFilter},model:{value:e.addTemp.carId,callback:function(t){e.$set(e.addTemp,"carId",e._n(t))},expression:"addTemp.carId"}},e._l(e.carOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.licenseNo,value:e.id,disabled:e.remove}})}),1)],1),a("el-form-item",{attrs:{label:"车组长",prop:"leaderId"}},[a("el-select",{staticClass:"filter-item",class:{repeatColor:-1!==e.addTempRepeatPersons.indexOf(e.addTemp.leaderId),removeClass:e.judgeRemoveIn(e.carOptions,e.addTemp.leaderId)},attrs:{filterable:"",placeholder:"Please select"},on:{change:e.leaderChange},model:{value:e.addTemp.leaderId,callback:function(t){e.$set(e.addTemp,"leaderId",e._n(t))},expression:"addTemp.leaderId"}},e._l(e.teamLeaderOptions,function(e){return a("el-option",{key:e.id,class:{removeClass:e.remove},attrs:{label:e.name,value:e.id,disabled:e.remove}})}),1)],1),a("el-form-item",{attrs:{label:"司机",prop:"driverId"}},[a("el-select",{staticClass:"filter-item",class:{repeatColor:-1!==e.addTempRepeatPersons.indexOf(e.addTemp.driverId),removeClass:e.judgeRemoveIn(e.driverOptions,e.addTemp.driverId)},attrs:{filterable:"",placeholder:"Please select"},on:{change:function(t){return e.addPersonFilter(e.addTemp.driverId)}},model:{value:e.addTemp.driverId,callback:function(t){e.$set(e.addTemp,"driverId",e._n(t))},expression:"addTemp.driverId"}},e._l(e.driverOptions,function(e){return a("el-option",{key:e.id,class:{removeClass:e.remove},attrs:{label:e.name,value:e.id,disabled:e.remove}})}),1)],1),a("el-form-item",{attrs:{label:"押运员1",prop:"safetyId"}},[a("el-select",{staticClass:"filter-item",class:{repeatColor:-1!==e.addTempRepeatPersons.indexOf(e.addTemp.safetyId),removeClass:e.judgeRemoveIn(e.safetyOptions,e.addTemp.safetyId)},attrs:{filterable:"",placeholder:"Please select"},on:{change:function(t){return e.addPersonFilter(e.addTemp.safety)}},model:{value:e.addTemp.safetyId,callback:function(t){e.$set(e.addTemp,"safetyId",e._n(t))},expression:"addTemp.safetyId"}},e._l(e.safetyOptions,function(e){return a("el-option",{key:e.id,class:{removeClass:e.remove},attrs:{label:e.name,value:e.id,disabled:null==e.id}})}),1)],1),a("el-form-item",{attrs:{label:"押运员2"}},[a("el-select",{staticClass:"filter-item",class:{repeatColor:-1!==e.addTempRepeatPersons.indexOf(e.addTemp.additionSafetyId),removeClass:e.judgeRemoveIn(e.safetyOptions,e.addTemp.additionSafetyId)},attrs:{filterable:"",placeholder:"Please select"},on:{change:function(t){return e.addPersonFilter(e.addTemp.additionSafety)}},model:{value:e.addTemp.additionSafetyId,callback:function(t){e.$set(e.addTemp,"additionSafetyId",e._n(t))},expression:"addTemp.additionSafetyId"}},e._l(e.safetyOptions,function(e){return a("el-option",{key:e.id,class:{removeClass:e.remove},attrs:{label:e.name,value:e.id,disabled:e.remove}})}),1)],1),a("el-form-item",{attrs:{label:"业务员1"}},[a("el-select",{staticClass:"filter-item",class:{repeatColor:-1!==e.addTempRepeatPersons.indexOf(e.addTemp.businessId),removeClass:e.judgeRemoveIn(e.businessOptions,e.addTemp.businessId)},attrs:{filterable:"",placeholder:"Please select"},on:{change:function(t){return e.addPersonFilter(e.addTemp.business)}},model:{value:e.addTemp.businessId,callback:function(t){e.$set(e.addTemp,"businessId",e._n(t))},expression:"addTemp.businessId"}},e._l(e.businessOptions,function(e){return a("el-option",{key:e.id,class:{removeClass:e.remove},attrs:{label:e.name,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"业务员2"}},[a("el-select",{staticClass:"filter-item",class:{repeatColor:-1!==e.addTempRepeatPersons.indexOf(e.addTemp.addBusinessId),removeClass:e.judgeRemoveIn(e.businessOptions,e.addTemp.addBusinessId)},attrs:{filterable:"",placeholder:"Please select"},on:{change:function(t){return e.addPersonFilter(e.addTemp.addBusiness)}},model:{value:e.addTemp.addBusinessId,callback:function(t){e.$set(e.addTemp,"addBusinessId",e._n(t))},expression:"addTemp.addBusinessId"}},e._l(e.businessOptions,function(e){return a("el-option",{key:e.id,class:{removeClass:e.remove},attrs:{label:e.name,value:e.id,disabled:e.remove}})}),1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.createData()}}},[e._v("确定")])],1)],1),a("el-dialog",{staticClass:"alarmDealBox ",attrs:{title:"编辑",id:"mydialog2",visible:e.editVisible,"append-to-body":"",center:""},on:{"update:visible":function(t){e.editVisible=t}}},[a("el-form",{ref:"editForm",staticClass:"formStyle",attrs:{model:e.editTemp,"label-position":"left",rules:e.editRules}},[a("el-form-item",{attrs:{label:"编辑排班类型",prop:"types"}},[a("el-select",{staticClass:"filter-item",attrs:{filterable:"",clearable:!1,filterable:"",multiple:"",placeholder:"Please select"},on:{change:e.typesSelectChange},model:{value:e.editTemp.types,callback:function(t){e.$set(e.editTemp,"types",t)},expression:"editTemp.types"}},e._l(e.typeOptions1,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"车辆",prop:"carId"}},[a("el-select",{staticClass:"filter-item",class:{repeatColor:e.editTempRepeatCar==e.editTemp.carId,removeClass:e.judgeRemoveIn(e.carOptions,e.editTemp.carId)},attrs:{filterable:"",placeholder:"Please select"},on:{change:function(t){return e.selectChange(e.editTemp,"car")}},model:{value:e.editTemp.carId,callback:function(t){e.$set(e.editTemp,"carId",e._n(t))},expression:"editTemp.carId"}},e._l(e.carOptions,function(e){return a("el-option",{key:e.id,class:{removeClass:e.remove},attrs:{label:e.licenseNo,value:e.id,disabled:e.remove}})}),1)],1),a("el-form-item",{attrs:{label:"车组长",prop:"leaderId"}},[a("el-select",{staticClass:"filter-item",class:{repeatColor:-1!==e.editTempRepeatPersons.indexOf(e.editTemp.leaderId),removeClass:e.judgeRemoveIn(e.teamLeaderOptions,e.editTemp.leaderId)},attrs:{filterable:"",placeholder:"Please select"},on:{change:function(t){return e.selectChange(e.editTemp,"group")}},model:{value:e.editTemp.leaderId,callback:function(t){e.$set(e.editTemp,"leaderId",e._n(t))},expression:"editTemp.leaderId"}},e._l(e.teamLeaderOptions,function(e){return a("el-option",{key:e.id,class:{removeClass:e.remove},attrs:{label:e.name,value:e.id,disabled:e.remove}})}),1)],1),a("el-form-item",{attrs:{label:"司机",prop:"driverId"}},[a("el-select",{staticClass:"filter-item",class:{repeatColor:-1!==e.editTempRepeatPersons.indexOf(e.editTemp.driverId),removeClass:e.judgeRemoveIn(e.driverOptions,e.editTemp.driverId)},attrs:{filterable:"",placeholder:"Please select"},on:{change:function(t){return e.selectChange(e.editTemp,"driver")}},model:{value:e.editTemp.driverId,callback:function(t){e.$set(e.editTemp,"driverId",e._n(t))},expression:"editTemp.driverId"}},e._l(e.driverOptions,function(e){return a("el-option",{key:e.id,class:{removeClass:e.remove},attrs:{label:e.name,value:e.id,disabled:e.remove}})}),1)],1),a("el-form-item",{attrs:{label:"押运员1",prop:"safetyId"}},[a("el-select",{staticClass:"filter-item",class:{repeatColor:-1!==e.editTempRepeatPersons.indexOf(e.editTemp.safetyId),removeClass:e.judgeRemoveIn(e.safetyOptions,e.editTemp.safetyId)},attrs:{filterable:"",placeholder:"Please select"},on:{change:function(t){return e.selectChange(e.editTemp,"safety")}},model:{value:e.editTemp.safetyId,callback:function(t){e.$set(e.editTemp,"safetyId",e._n(t))},expression:"editTemp.safetyId"}},e._l(e.safetyOptions,function(e){return a("el-option",{key:e.id,class:{removeClass:e.remove},attrs:{label:e.name,value:e.id,disabled:null==e.id}})}),1)],1),a("el-form-item",{attrs:{label:"押运员2",prop:"additionSafetyId"}},[a("el-select",{staticClass:"filter-item",class:{repeatColor:-1!==e.editTempRepeatPersons.indexOf(e.editTemp.additionSafetyId),removeClass:e.judgeRemoveIn(e.safetyOptions,e.editTemp.additionSafetyId)},attrs:{filterable:"",placeholder:"Please select"},on:{change:function(t){return e.selectChange(e.editTemp,"additionSafety")}},model:{value:e.editTemp.additionSafetyId,callback:function(t){e.$set(e.editTemp,"additionSafetyId",e._n(t))},expression:"editTemp.additionSafetyId"}},e._l(e.safetyOptions,function(e){return a("el-option",{key:e.id,class:{removeClass:e.remove},attrs:{label:e.name,value:e.id,disabled:e.remove}})}),1)],1),a("el-form-item",{attrs:{label:"业务员1"}},[a("el-select",{staticClass:"filter-item",class:{repeatColor:-1!==e.editTempRepeatPersons.indexOf(e.editTemp.businessId),removeClass:e.judgeRemoveIn(e.businessOptions,e.editTemp.businessId)},attrs:{filterable:"",placeholder:"Please select"},on:{change:function(t){return e.selectChange(e.editTemp,"business")}},model:{value:e.editTemp.businessId,callback:function(t){e.$set(e.editTemp,"businessId",e._n(t))},expression:"editTemp.businessId"}},e._l(e.businessOptions,function(e){return a("el-option",{key:e.id,class:{removeClass:e.remove},attrs:{label:e.name,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"业务员2",prop:"addBusinessId"}},[a("el-select",{staticClass:"filter-item",class:{repeatColor:-1!==e.editTempRepeatPersons.indexOf(e.editTemp.addBusinessId),removeClass:e.judgeRemoveIn(e.businessOptions,e.editTemp.addBusinessId)},attrs:{filterable:"",placeholder:"Please select"},on:{change:function(t){return e.selectChange(e.editTemp,"addBusiness")}},model:{value:e.editTemp.addBusinessId,callback:function(t){e.$set(e.editTemp,"addBusinessId",e._n(t))},expression:"editTemp.addBusinessId"}},e._l(e.businessOptions,function(e){return a("el-option",{key:e.id,class:{removeClass:e.remove},attrs:{label:e.name,value:e.id,disabled:e.remove}})}),1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.editData()}}},[e._v("确定")])],1)],1),a("el-tabs",{staticClass:"t-tabs",model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("div",{staticClass:"t-tab-bottom"}),a("el-tab-pane",{attrs:{label:"早送",name:"first"}},[a("div",{staticClass:"tableBox"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticClass:"tableClass",attrs:{data:e.list1.slice((e.currpage-1)*e.pagesize,e.currpage*e.pagesize),fit:"","highlight-current-row":"","row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{label:"序号",prop:"id",fixed:"",sortable:"custom",align:"center",width:"60",type:"index",index:e.indexMethod}}),a("el-table-column",{attrs:{label:"排班时间","min-width":"100px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.planYear+"-"+i.planMonth+"-"+i.planDay))])]}}])}),a("el-table-column",{attrs:{label:"路线","min-width":"100px",align:"center",prop:"listProp"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.routeName))])]}}])}),a("el-table-column",{attrs:{label:"排班状态","min-width":"60px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.formateStatus(t.row.status)))])]}}])}),a("el-table-column",{attrs:{label:"车辆","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",{class:{red:1==i[i.id+"car"+i.carId],removeClass:e.judgeRemoveIn(e.carOptions,i.carId)}},[e._v(e._s(i.carLicenseNo))])]}}])}),a("el-table-column",{attrs:{label:"车组长","min-width":"60px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",{class:{red:1==i[i.id+"-"+i.leaderId],removeClass:e.judgeRemoveIn(e.teamLeaderOptions,i.leaderId)}},[e._v(e._s(i.leaderName))])]}}])}),a("el-table-column",{attrs:{label:"司机","min-width":"60px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",{class:{red:1==i[i.id+"-"+i.driverId],removeClass:e.judgeRemoveIn(e.driverOptions,i.driverId)}},[e._v(e._s(i.driverName))])]}}])}),a("el-table-column",{attrs:{label:"押运员1","min-width":"60px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",{class:{red:1==i[i.id+"-"+i.safetyId],removeClass:e.judgeRemoveIn(e.safetyOptions,i.safetyId)}},[e._v(e._s(i.safetyName))])]}}])}),a("el-table-column",{attrs:{label:"押运员2","min-width":"60px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",{class:{red:1==i[i.id+"-"+i.additionSafetyId],removeClass:e.judgeRemoveIn(e.safetyOptions,i.additionSafetyId)}},[e._v(e._s(i.additionSafetyName))])]}}])}),a("el-table-column",{attrs:{label:"业务员1","min-width":"60px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",{class:{red:1==i[i.id+"-"+i.businessId],removeClass:e.judgeRemoveIn(e.businessOptions,i.businessId)}},[e._v(e._s(i.businessName))])]}}])}),a("el-table-column",{attrs:{label:"业务员2","min-width":"60px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",{class:{red:1==i[i.id+"-"+i.addBusinessId],removeClass:e.judgeRemoveIn(e.businessOptions,i.addBusinessId)}},[e._v(e._s(i.addBusinessName))])]}}])}),a("el-table-column",{attrs:{label:"出车时间","min-width":"60px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(e.morningTimeObj[i.routeId]))])]}}])}),a("el-table-column",{attrs:{label:"发布状态","min-width":"70px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(1==t.row.publish?"已发布":"未发布"))])]}}])}),a("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center","min-width":"300px","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("el-button",{attrs:{type:"primary",size:"mini",disabled:i.statusDisabled||e.dateDisabled,icon:"el-icon-edit-outline"},on:{click:function(t){return e.handleEdit(i)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"primary",size:"mini",icon:"iconfont icontask"},on:{click:function(t){return e.gotask(i)}}},[e._v("任务")]),a("el-button",{attrs:{type:"danger",size:"mini",disabled:2==i.status||4==i.status||e.dateDisabled,icon:"iconfont iconbaofei"},on:{click:function(t){return e.saveSubmit(i,"delete")}}},[e._v("删除")])]}}])})],1)],1),e.list1.length?a("el-pagination",{attrs:{background:"",layout:"prev, pager, next, sizes, total, jumper","page-sizes":[5,10,15,20],"page-size":e.pagesize,total:e.list1.length,"current-page":e.currpage},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}}):e._e()],1),a("el-tab-pane",{attrs:{label:"晚收",name:"second"}},[a("div",{staticClass:"tableBox"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticClass:"tableClass",attrs:{data:e.list2.slice((e.currpage1-1)*e.pagesize1,e.currpage1*e.pagesize1),fit:"","highlight-current-row":"","row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{label:"序号",prop:"id",fixed:"",sortable:"custom",align:"center",width:"60",type:"index",index:e.indexMethod1}}),a("el-table-column",{attrs:{label:"排班时间","min-width":"100px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.planYear+"-"+i.planMonth+"-"+i.planDay))])]}}])}),a("el-table-column",{attrs:{label:"路线","min-width":"100px",align:"center",prop:"listProp"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.routeName))])]}}])}),a("el-table-column",{attrs:{label:"排班状态","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.formateStatus(t.row.status)))])]}}])}),a("el-table-column",{attrs:{label:"车辆","min-width":"130px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",{class:{red:1==i[i.id+"car"+i.carId],removeClass:e.judgeRemoveIn(e.carOptions,i.carId)}},[e._v(e._s(i.carLicenseNo))])]}}])}),a("el-table-column",{attrs:{label:"车组长","min-width":"110px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",{class:{red:1==i[i.id+"-"+i.leaderId],removeClass:e.judgeRemoveIn(e.teamLeaderOptions,i.leaderId)}},[e._v(e._s(i.leaderName))])]}}])}),a("el-table-column",{attrs:{label:"司机","min-width":"110px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",{class:{red:1==i[i.id+"-"+i.driverId],removeClass:e.judgeRemoveIn(e.driverOptions,i.driverId)}},[e._v(e._s(i.driverName))])]}}])}),a("el-table-column",{attrs:{label:"押运员1",width:"110px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",{class:{red:1==i[i.id+"-"+i.safetyId],removeClass:e.judgeRemoveIn(e.safetyOptions,i.safetyId)}},[e._v(e._s(i.safetyName))])]}}])}),a("el-table-column",{attrs:{label:"押运员2",width:"130px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",{class:{red:1==i[i.id+"-"+i.additionSafetyId],removeClass:e.judgeRemoveIn(e.safetyOptions,i.additionSafetyId)}},[e._v(e._s(i.additionSafetyName))])]}}])}),a("el-table-column",{attrs:{label:"业务员1",width:"110px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",{class:{red:1==i[i.id+"-"+i.businessId],removeClass:e.judgeRemoveIn(e.businessOptions,i.businessId)}},[e._v(e._s(i.businessName))])]}}])}),a("el-table-column",{attrs:{label:"业务员2",width:"130px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",{class:{red:1==i[i.id+"-"+i.addBusinessId],removeClass:e.judgeRemoveIn(e.businessOptions,i.addBusinessId)}},[e._v(e._s(i.addBusinessName))])]}}])}),a("el-table-column",{attrs:{label:"出车时间",width:"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(e.afternoonTimeObj[i.routeId]))])]}}])}),a("el-table-column",{attrs:{label:"发布状态",width:"70px",align:"center",prop:"addBusinessName"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(1==t.row.publish?"已发布":"未发布"))])]}}])}),a("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center","min-width":"300","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("el-button",{attrs:{type:"primary",size:"mini",disabled:i.statusDisabled||e.dateDisabled,icon:"el-icon-edit-outline"},on:{click:function(t){return e.handleEdit(i)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"primary",size:"mini",icon:"iconfont icontask"},on:{click:function(t){return e.gotask(i)}}},[e._v("任务")]),a("el-button",{attrs:{type:"danger",size:"mini",disabled:2==i.status||4==i.status||e.dateDisabled,icon:"iconfont iconbaofei"},on:{click:function(t){return e.saveSubmit(i,"delete")}}},[e._v("删除")])]}}])})],1)],1),e.list2.length?a("el-pagination",{attrs:{background:"",layout:"prev, pager, next, sizes, total, jumper","page-sizes":[5,10,15,20],"page-size":e.pagesize1,total:e.list2.length,"current-page":e.currpage1},on:{"current-change":e.handleCurrentChange1,"size-change":e.handleSizeChange1}}):e._e()],1)],1),a("my-upload",{attrs:{visible:e.uploadVisible,uploadData:{type:10},date:e.importDate},on:{"update:visible":function(t){e.uploadVisible=t},dataUpdated:e.reqSuccess}})],1)},n=[],s=a("4214"),r=s["a"],o=(a("1430"),a("2877")),l=Object(o["a"])(r,i,n,!1,null,null,null);t["default"]=l.exports},"1dfe":function(e,t,a){"use strict";var i=a("660c"),n=a.n(i);n.a},"20ae":function(e,t,a){},2153:function(e,t,a){"use strict";var i=a("1d9a"),n=a.n(i);n.a},"22f2":function(e,t,a){"use strict";var i=a("f8c1"),n=a.n(i);n.a},2370:function(e,t,a){"use strict";var i=a("efef"),n=a.n(i);n.a},"26fd":function(e,t,a){},"2e5a":function(e,t,a){"use strict";var i=a("a82e"),n=a.n(i);n.a},"2fb8":function(e,t,a){"use strict";e.exports=a("071f")},3139:function(e,t,a){var i,n,s;(function(r,o){n=[t,a("313e")],i=o,s="function"===typeof i?i.apply(t,n):i,void 0===s||(e.exports=s)})(0,function(e,t){var a=function(e){"undefined"!==typeof console&&console&&console.error&&console.error(e)};t?t.registerMap?t.registerMap("china",{type:"FeatureCollection",features:[{id:"710000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@°Ü¯Û"],["@@ƛĴÕƊÉɼģºðʀ\\ƎsÆNŌÔĚänÜƤɊĂǀĆĴĤǊŨxĚĮǂƺòƌâÔ®ĮXŦţƸZûÐƕƑGđ¨ĭMó·ęcëƝɉlÝƯֹÅŃ^Ó·śŃǋƏďíåɛGɉ¿@ăƑ¥ĘWǬÏĶŁâ"],["@@\\p|WoYG¿¥Ij@¢"],["@@¡@V^RqBbAnTXeRz¤L«³I"],["@@ÆEEkWqë @"],["@@fced"]],encodeOffsets:[[[122886,24033]],[[123335,22980]],[[122375,24193]],[[122518,24117]],[[124427,22618]],[[124862,26043]]]},properties:{cp:[121.509062,25.044332],name:"台湾",childNum:6}},{id:"130000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@o~Z]ªrºc_ħ²G¼s`jÎŸnüsÂłNX_M`Ç½ÓnUKĜēs¤­©yrý§uģcJe"],["@@U`Ts¿mÂ"],["@@oºƋÄdeVDJj£J|ÅdzÂFt~KŨ¸IÆv|¢r}èonb}`RÎÄn°ÒdÞ²^®lnÐèĄlðÓ×]ªÆ}LiĂ±Ö`^°Ç¶p®đDcŋ`ZÔ¶êqvFÆN®ĆTH®¦O¾IbÐã´BĐɢŴÆíȦpĐÞXR·nndO¤OÀĈƒ­QgµFo|gȒęSWb©osx|hYhgŃfmÖĩnºTÌSp¢dYĤ¶UĈjlǐpäìë|³kÛfw²Xjz~ÂqbTÑěŨ@|oMzv¢ZrÃVw¬ŧĖ¸f°ÐTªqs{S¯r æÝlNd®²Ğ ǆiGĘJ¼lr}~K¨ŸƐÌWöÆzR¤lêmĞLÎ@¡|q]SvKÑcwpÏÏĿćènĪWlĄkT}J¤~ÈTdpddʾĬBVtEÀ¢ôPĎƗè@~kü\\rÊĔÖæW_§¼F´©òDòjYÈrbĞāøŀG{ƀ|¦ðrb|ÀH`pʞkvGpuARhÞÆǶgĘTǼƹS£¨¡ù³ŘÍ]¿ÂyôEP xX¶¹ÜO¡gÚ¡IwÃé¦ÅBÏ|Ç°N«úmH¯âDùyŜŲIÄuĐ¨D¸dɂFOhđ©OiÃ`ww^ÌkÑH«ƇǤŗĺtFu{Z}Ö@U´ʚLg®¯Oı°Ãw ^VbÉsmAê]]w§RRl£ȭµu¯b{ÍDěïÿȧuT£ġěŗƃĝQ¨fVƋƅn­a@³@ďyÃ½IĹÊKŭfċŰóxV@tƯJ]eR¾fe|rHA|h~Ėƍl§ÏlTíb ØoÅbbx³^zÃĶ¶Sj®AyÂhðk`«PËµEFÛ¬Y¨Ļrõqi¼Wi°§Ð±´°^[À|ĠO@ÆxO\\ta\\tĕtû{ġȧXýĪÓjùÎRb^ÎfK[ÝděYfíÙTyuUSyŌŏů@Oi½éŅ­aVcř§ax¹XŻácWU£ôãºQ¨÷Ñws¥qEHÙ|šYQoŕÇyáĂ£MÃ°oťÊP¡mWO¡v{ôvîēÜISpÌhp¨ jdeŔQÖjX³àĈ[n`Yp@UcM`RKhEbpŞlNut®EtqnsÁgAiúoHqCXhfgu~ÏWP½¢G^}¯ÅīGCÑ^ãziMáļMTÃƘrMc|O_¯Ŏ´|morDkO\\mĆJfl@cĢ¬¢aĦtRıÒ¾ùƀ^juųœK­UFyƝīÛ÷ąV×qƥV¿aȉd³BqPBmaËđŻģmÅ®V¹d^KKonYg¯XhqaLdu¥Ípǅ¡KąÅkĝęěhq}HyÃ]¹ǧ£Í÷¿qáµ§g¤o^á¾ZE¤i`ĳ{nOl»WÝĔįhgF[¿¡ßkOüš_ūiǱàUtėGyl}ÓM}jpEC~¡FtoQiHkk{Ãmï"]],encodeOffsets:[[[119712,40641]],[[121616,39981]],[[116462,37237]]]},properties:{cp:[114.502461,38.045474],name:"河北",childNum:3}},{id:"140000",type:"Feature",geometry:{type:"Polygon",coordinates:["@@ÞĩÒSra}ÁyWix±Üe´lèßÓǏokćiµVZģ¡coTSË¹ĪmnÕńehZg{gtwªpXaĚThȑp{¶Eh®RćƑP¿£Pmc¸mQÝWďȥoÅîɡųAďä³aÏJ½¥PG­ąSM­EÅruµéYÓŌ_dĒCo­Èµ]¯_²ÕjāK~©ÅØ^ÔkïçămÏk]­±cÝ¯ÑÃmQÍ~_apm~ç¡qu{JÅŧ·Ls}EyÁÆcI{¤IiCfUcƌÃp§]ě«vD@¡SÀµMÅwuYY¡DbÑc¡h×]nkoQdaMç~eDÛtT©±@¥ù@É¡ZcW|WqOJmĩl«ħşvOÓ«IqăV¥D[mI~Ó¢cehiÍ]Ɠ~ĥqX·eƷn±}v[ěďŕ]_œ`¹§ÕōIo©b­s^}Ét±ū«³p£ÿ·Wµ|¡¥ăFÏs×¥ŅxÊdÒ{ºvĴÎêÌɊ²¶ü¨|ÞƸµȲLLúÉƎ¤ϊęĔV`_bªS^|dzY|dz¥pZbÆ£¶ÒK}tĦÔņƠPYznÍvX¶Ěn ĠÔzý¦ª÷ÑĸÙUȌ¸dòÜJð´ìúNM¬XZ´¤ŊǸ_tldI{¦ƀðĠȤ¥NehXnYGR° ƬDj¬¸|CĞKqºfƐiĺ©ª~ĆOQª ¤@ìǦɌ²æBÊTŸʂōĖĴŞȀÆÿȄlŤĒötÎ½î¼ĨXh|ªM¤Ðz"],encodeOffsets:[[116874,41716]]},properties:{cp:[112.549248,37.857014],name:"山西",childNum:1}},{id:"150000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@Č^â£ĂhĖMÈÄw\\fŦ°W ¢¾luŸDw\\̀ʉÌÛMĀ[bÓEn}¶Vcês¯PqFB|S³C|kñHdiÄ¥sŉÅPóÑÑE^ÅPpy_YtShQ·aHwsOnŉÃs©iqjUSiº]ïW«gW¡ARëśĳĘů`çõh]y»ǃǛҤxÒm~zf}pf|ÜroÈzrKÈĵSƧż؜Ġu¦ö"],["@@sKCGS|úþXgp{ÁX¿ć{ƱȏñZáĔyoÁhA}ŅĆfdŉ_¹Y°ėǩÑ¡H¯¶oMQqð¡Ë|Ñ`ƭŁX½·óÛxğįÅcQs«tȋǅFù^it«Č¯[hAi©á¥ÇĚ×l|¹y¯YȵƓñǙµïċĻ|Düȭ¶¡oŽäÕG\\ÄT¿Òõr¯LguÏYęRƩɷŌO\\İÐ¢æ^Ŋ ĲȶȆbÜGĝ¬¿ĚVĎgª^íu½jÿĕęjık@Ľ]ėl¥ËĭûÁėéV©±ćn©­ȇÍq¯½YÃÔŉÉNÑÅÝy¹NqáʅDǡËñ­ƁYÅy̱os§ȋµʽǘǏƬɱàưN¢ƔÊuľýľώȪƺɂļxZĈ}ÌŉŪĺœĭFЛĽ̅ȣͽÒŵìƩÇϋÿȮǡŏçƑůĕ~Ç¼ȳÐUfdIxÿ\\G zâɏÙOº·pqy£@qþ@Ǟ˽IBäƣzsÂZÁàĻdñ°ŕzéØűzșCìDȐĴĺf®Àľưø@ɜÖÞKĊŇƄ§͑těï͡VAġÑÑ»d³öǍÝXĉĕÖ{þĉu¸ËʅğU̎éhɹƆ̗̮ȘǊ֥ड़ࡰţાíϲäʮW¬®ҌeרūȠkɬɻ̼ãüfƠSצɩςåȈHϚÎKǳͲOðÏȆƘ¼CϚǚ࢚˼ФÔ¤ƌĞ̪Qʤ´¼mȠJˀƲÀɠmǐnǔĎȆÞǠN~ʢĜ¶ƌĆĘźʆȬ˪ĚĒ¸ĞGȖƴƀj`ĢçĶāàŃºēĢĖćYÀŎüôQÐÂŎŞǆŞêƖoˆDĤÕºÑǘÛˤ³̀gńƘĔÀ^ªƂ`ªt¾äƚêĦĀ¼ÐĔǎ¨Ȕ»͠^ˮÊȦƤøxRrŜH¤¸ÂxDÄ|ø˂˜ƮÐ¬ɚwɲFjĔ²Äw°ǆdÀÉ_ĸdîàŎjÊêTĞªŌŜWÈ|tqĢUB~´°ÎFCU¼pĀēƄN¦¾O¶łKĊOjĚj´ĜYp{¦SĚÍ\\T×ªV÷Ší¨ÅDK°ßtŇĔK¨ǵÂcḷ̌ĚǣȄĽFlġUĵŇȣFʉɁMğįʏƶɷØŭOǽ«ƽū¹Ʊő̝Ȩ§ȞʘĖiɜɶʦ}¨֪ࠜ̀ƇǬ¹ǨE˦ĥªÔêFxúQEr´Wrh¤Ɛ \\talĈDJÜ|[Pll̚¸ƎGú´P¬W¦^¦H]prRn|or¾wLVnÇIujkmon£cX^Bh`¥V¦U¤¸}xRj[^xN[~ªxQ[`ªHÆÂExx^wN¶Ê|¨ìMrdYpoRzNyÀDs~bcfÌ`L¾n|¾T°c¨È¢ar¤`[|òDŞĔöxElÖdHÀI`Ď\\Àì~ÆR¼tf¦^¢ķ¶eÐÚMptgjɡČÅyġLûŇV®ÄÈƀĎ°P|ªVVªj¬ĚÒêp¬E|ŬÂc|ÀtƐK f{ĘFĒƌXƲąo½Ę\\¥o}Ûu£ç­kX{uĩ«āíÓUŅßŢqŤ¥lyň[oi{¦LńðFȪȖĒL¿Ìf£K£ʺoqNwğc`uetOj×°KJ±qÆġmĚŗos¬qehqsuH{¸kH¡ÊRǪÇƌbȆ¢´äÜ¢NìÉʖ¦â©Ż؛Ç@Vu»Aylßí¹ĵêÝlISò³C¹Ìâ²i¶Ìoú^H²CǜңǄ z¼g^èöŰ_Ĳĕê}gÁnUI«m]jvV¼euhwqAaW_µj»çjioQR¹ēÃßt@r³[ÛlćË^ÍÉáGOUÛOB±XkÅ¹£k|e]olkVÍ¼ÕqtaÏõjgÁ£§U^RLËnX°ÇBz^~wfvypV ¯ƫĉ˭ȫƗŷɿÿĿƑ˃ĝÿÃǃßËőó©ǐȍŒĖM×ÍEyxþp]ÉvïèvƀnÂĴÖ@V~Ĉ³MEĸÅĖtējyÄDXÄxGQuv_i¦aBçw˛wD©{tāmQ{EJ§KPśƘƿ¥@sCTÉ}ɃwƇy±gÑ}T[÷kÐç¦«SÒ¥¸ëBX½HáÅµÀğtSÝÂa[ƣ°¯¦Pï¡]£ġÒk®G²èQ°óMq}EóƐÇ\\@áügQÍu¥FTÕ¿Jû]|mvāÎYua^WoÀa·­ząÒot×¶CLƗi¯¤mƎHǊ¤îìɾŊìTdåwsRÖgĒųúÍġäÕ}Q¶¿A[¡{d×uQAMxVvMOmăl«ct[wº_ÇÊjbÂ£ĦS_éQZ_lwgOiýe`YYLq§IÁǳ£ÙË[ÕªuƏ³ÍTs·bÁĽäė[b[ŗfãcn¥îC¿÷µ[ŏÀQ­ōĉm¿Á^£mJVmL[{Ï_£F¥Ö{ŹA}×Wu©ÅaųĳƳhB{·TQqÙIķËZđ©Yc|M¡LeVUóK_QWk_ĥ¿ãZ»X\\ĴuUèlG®ěłTĠğDŃOrÍdÆÍz]±ŭ©Å]ÅÐ}UË¥©TċïxgckfWgi\\ÏĒ¥HkµEë{»ÏetcG±ahUiñiWsɁ·cCÕk]wȑ|ća}wVaĚá G°ùnM¬¯{ÈÐÆA¥ÄêJxÙ¢hP¢ÛºµwWOóFÁz^ÀŗÎú´§¢T¤ǻƺSėǵhÝÅQgvBHouʝl_o¿Ga{ïq{¥|ſĿHĂ÷aĝÇqZñiñC³ª»E`¨åXēÕqÉû[l}ç@čƘóO¿¡FUsAʽīccocÇS}£IS~ălkĩXçmĈŀÐoÐdxÒuL^T{r@¢ÍĝKén£kQyÅõËXŷƏL§~}kq»IHėǅjĝ»ÑÞoå°qTt|r©ÏS¯·eŨĕx«È[eM¿yupN~¹ÏyN£{©għWí»Í¾səšǅ_ÃĀɗ±ąĳĉʍŌŷSÉA±åǥɋ@ë£R©ąP©}ĹªƏj¹erLDĝ·{i«ƫC£µ"]],encodeOffsets:[[[127444,52594]],[[113793,40312]]]},properties:{cp:[111.670801,40.818311],name:"内蒙古",childNum:2}},{id:"210000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@L@@sa"],["@@MnNm"],["@@dc"],["@@eÀC@b"],["@@fXwkbrÄ`qg"],["@@^jtWQ"],["@@~ Y]c"],["@@G`ĔN^_¿ZÃM"],["@@iX¶BY"],["@@YZ"],["@@L_{Epf"],["@@^WqCT\\"],["@@\\[§t|¤_"],["@@m`n_"],["@@Ïxǌ{q_×^Giip"],["@@@é^BntaÊU]x ¯ÄPĲ­°hʙK³VÕ@Y~|EvĹsÇ¦­L^pÃ²ŸÒG Ël]xxÄ_fT¤Ď¤cPC¨¸TVjbgH²sdÎdHt`B²¬GJję¶[ÐhjeXdlwhðSČ¦ªVÊÏÆZÆŶ®²^ÎyÅÎcPqńĚDMħĜŁH­kçvV[ĳ¼WYÀäĦ`XlR`ôLUVfK¢{NZdĒªYĸÌÚJRr¸SA|ƴgŴĴÆbvªØX~źB|¦ÕE¤Ð`\\|KUnnI]¤ÀÂĊnŎR®Ő¿¶\\ÀøíDm¦ÎbŨabaĘ\\ľãÂ¸atÎSƐ´©v\\ÖÚÌǴ¤Â¨JKrZ_ZfjþhPkx`YRIjJcVf~sCN¤ EhæmsHy¨SðÑÌ\\\\ĐRZk°IS§fqŒßýáĞÙÉÖ[^¯ǤŲê´\\¦¬ĆPM¯£»uïpùzExanµyoluqe¦W^£ÊL}ñrkqWňûPUP¡ôJoo·U}£[·¨@XĸDXm­ÛÝºGUCÁª½{íĂ^cjk¶Ã[q¤LÉö³cux«zZf²BWÇ®Yß½ve±ÃCý£W{Ú^q^sÑ·¨ÍOt¹·C¥GDrí@wÕKţÃ«V·i}xËÍ÷i©ĝɝǡ]{c±OW³Ya±_ç©HĕoƫŇqr³Lys[ñ³¯OSďOMisZ±ÅFC¥Pq{Ã[Pg}\\¿ghćOk^ģÁFıĉĥM­oEqqZûěŉ³F¦oĵhÕP{¯~TÍlªNßYÐ{Ps{ÃVUeĎwk±ŉVÓ½ŽJãÇÇ»Jm°dhcÀffdF~ĀeĖd`sx² ®EżĀdQÂd^~ăÔH¦\\LKpĄVez¤NP ǹÓRÆąJSh­a[¦´ÂghwmBÐ¨źhI|VV|p] Â¼èNä¶ÜBÖ¼L`¼bØæKVpoúNZÞÒKxpw|ÊEMnzEQIZZNBčÚFÜçmĩWĪñtÞĵÇñZ«uD±|Əlĳ¥ãn·±PmÍada CLǑkùó¡³Ï«QaċÏOÃ¥ÕđQȥċƭy³ÃA"]],encodeOffsets:[[[123686,41445]],[[126019,40435]],[[124393,40128]],[[126117,39963]],[[125322,40140]],[[126686,40700]],[[126041,40374]],[[125584,40168]],[[125453,40165]],[[125362,40214]],[[125280,40291]],[[125774,39997]],[[125976,40496]],[[125822,39993]],[[125509,40217]],[[122731,40949]]]},properties:{cp:[123.429096,41.796767],name:"辽宁",childNum:16}},{id:"220000",type:"Feature",geometry:{type:"Polygon",coordinates:["@@pä³PClFbbÍzwBGĭZÅi»lY­ċ²SgkÇ£^Sqd¯R©é£¯S\\cZ¹iűƏCuƍÓXoR}M^o£R}oªU­FuuXHlEÅÏ©¤ÛmTþ¤D²ÄufàÀ­XXÈ±AeyYw¬dvõ´KÊ£\\rµÄlidā]|î©¾DÂVH¹Þ®ÜWnCķ W§@\\¸~¤Vp¸póIO¢VOŇürXql~òÉK]¤¥Xrfkvzpm¶bwyFoúvð¼¤ N°ąO¥«³[éǡű_°Õ\\ÚÊĝþâőàerR¨­JYlďQ[ ÏYëÐ§TGztnß¡gFkMāGÁ¤ia ÉÈ¹`\\xs¬dĆkNnuNUuP@vRY¾\\¢GªóĄ~RãÖÎĢùđŴÕhQxtcæëSɽŉíëǉ£ƍG£nj°KƘµDsØÑpyĆ¸®¿bXp]vbÍZuĂ{n^IüÀSÖ¦EvRÎûh@â[ƏÈô~FNr¯ôçR±­HÑlĢ^¤¢OðævxsŒ]ÞÁTĠs¶¿âÆGW¾ìA¦·TÑ¬è¥ÏÐJ¨¼ÒÖ¼ƦɄxÊ~StD@Ă¼Ŵ¡jlºWvÐzƦZÐ²CH AxiukdGgetqmcÛ£Ozy¥cE}|¾cZk¿uŐã[oxGikfeäT@SUwpiÚFM©£è^Ú`@v¶eňf heP¶täOlÃUgÞzŸU`l}ÔÆUvØ_Ō¬Öi^ĉi§²ÃB~¡ĈÚEgc|DC_Ȧm²rBx¼MÔ¦ŮdĨÃâYxƘDVÇĺĿg¿cwÅ\\¹¥Yĭl¤OvLjM_a W`zļMž·\\swqÝSAqŚĳ¯°kRē°wx^ĐkǂÒ\\]nrĂ}²ĊŲÒøãh·M{yMzysěnĒġV·°G³¼XÀ¤¹i´o¤ŃÈ`ÌǲÄUĞd\\iÖmÈBĤÜɲDEh LG¾ƀÄ¾{WaYÍÈĢĘÔRîĐj}ÇccjoUb½{h§Ǿ{KƖµÎ÷GĀÖŠåưÎs­lyiē«`å§H¥Ae^§GK}iã\\c]v©ģZmÃ|[M}ģTɟĵÂÂ`ÀçmFK¥ÚíÁbX³ÌQÒHof{]ept·GŋĜYünĎųVY^ydõkÅZW«WUa~U·SbwGçǑiW^qFuNĝ·EwUtW·Ýďæ©PuqEzwAVXRãQ`­©GMehccďÏd©ÑW_ÏYƅ»é\\ɹ~ǙG³mØ©BšuT§Ĥ½¢Ã_Ã½L¡ýqT^rme\\PpZZbyuybQefµ]UhĿDCmûvaÙNSkCwncćfv~YÇG"],encodeOffsets:[[130196,42528]]},properties:{cp:[125.3245,43.886841],name:"吉林",childNum:1}},{id:"230000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@ƨĶTLÇyqpÇÛqe{~oyen}s`qiXGù]Ëp½©lÉÁp]Þñ´FĂ^fäîºkàz¼BUvÈ@"],["@@UµNÿ¥īèçHÍøƕ¶Lǽ|g¨|a¾pVidd~ÈiíďÓQġėÇZÎXb½|ſÃH½KFgɱCģÛÇAnjÕc[VĝǱÃËÇ_ £ń³pj£º¿»WH´¯U¸đĢmtĜyzzNN|g¸÷äűÑ±ĉā~mq^[ǁÑďlw]¯xQĔ¯l°řĴrBÞTxr[tŽ¸ĻN_yX`biNKuP£kZĮ¦[ºxÆÀdhĹŀUÈƗCwáZħÄŭcÓ¥»NAw±qȥnD`{ChdÙFć}¢A±Äj¨]ĊÕjŋ«×`VuÓÅ~_kŷVÝyhVkÄãPsOµfgeŇµf@u_Ù ÙcªNªÙEojVxT@ãSefjlwH\\pŏäÀvlY½d{F~¦dyz¤PÜndsrhfHcvlwjF£G±DÏƥYyÏu¹XikĿ¦ÏqƗǀOŜ¨LI|FRĂn sª|C˜zxAè¥bfudTrFWÁ¹Am|ĔĕsķÆF´N}ćUÕ@Áĳſmuçuð^ÊýowFzØÎĕNőǏȎôªÌŒǄàĀÄ˄ĞŀƒʀĀƘŸˮȬƬĊ°Uzouxe]}AyÈW¯ÌmKQ]Īºif¸ÄX|sZt|½ÚUÎ lk^p{f¤lºlÆW A²PVÜPHÊâ]ÎĈÌÜk´\\@qàsĔÄQºpRij¼èi`¶bXrBgxfv»uUi^v~J¬mVp´£´VWrnP½ì¢BX¬hðX¹^TjVriªjtŊÄmtPGx¸bgRsT`ZozÆO]ÒFôÒOÆŊvÅpcGêsx´DR{AEOr°x|íb³Wm~DVjºéNNËÜ˛ɶ­GxŷCSt}]ûōSmtuÇÃĕNāg»íT«u}ç½BĵÞʣ¥ëÊ¡MÛ³ãȅ¡ƋaǩÈÉQG¢·lG|tvgrrf«ptęŘnÅĢrI²¯LiØsPf_vĠdxM prʹL¤¤eËÀđKïÙVY§]Ióáĥ]ķK¥j|pŇ\\kzţ¦šnņäÔVĂîĪ¬|vW®l¤èØrxm¶ă~lÄƯĄ̈́öȄEÔ¤ØQĄĄ»ƢjȦOǺ¨ìSŖÆƬyQv`cwZSÌ®ü±Ǆ]ŀç¬B¬©ńzƺŷɄeeOĨSfm ĊƀP̎ēz©ĊÄÕÊmgÇsJ¥ƔŊśæÎÑqv¿íUOµªÂnĦÁ_½ä@êí£P}Ġ[@gġ}gɊ×ûÏWXá¢užƻÌsNÍ½ƎÁ§čŐAēeL³àydl¦ĘVçŁpśǆĽĺſÊQíÜçÛġÔsĕ¬Ǹ¯YßċġHµ ¡eå`ļrĉŘóƢFìĎWøxÊkƈdƬv|I|·©NqńRŀ¤éeŊŀàŀU²ŕƀBQ£Ď}L¹Îk@©ĈuǰųǨÚ§ƈnTËÇéƟÊcfčŤ^XmHĊĕË«W·ċëx³ǔķÐċJāwİ_ĸȀ^ôWr­°oú¬ĦŨK~ȰCĐ´Ƕ£fNÎèâw¢XnŮeÂÆĶ¾¾xäLĴĘlļO¤ÒĨA¢Êɚ¨®ØCÔ ŬGƠƦYĜĘÜƬDJg_ͥœ@čŅĻA¶¯@wÎqC½Ĉ»NăëKďÍQÙƫ[«ÃígßÔÇOÝáWñuZ¯ĥŕā¡ÑķJu¤E å¯°WKÉ±_d_}}vyõu¬ï¹ÓU±½@gÏ¿rÃ½DgCdµ°MFYxw¿CG£Rƛ½Õ{]L§{qqą¿BÇƻğëܭǊË|c²}Fµ}ÙRsÓpg±QNqǫŋRwŕnéÑÉK«SeYRŋ@{¤SJ}D Ûǖ֍]gr¡µŷjqWÛham³~S«Þ]"]],encodeOffsets:[[[127123,51780]],[[134456,44547]]]},properties:{cp:[126.642464,45.756967],name:"黑龙江",childNum:2}},{id:"320000",type:"Feature",geometry:{type:"Polygon",coordinates:["@@cþÅPi`ZRu¥É\\]~°Y`µÓ^phÁbnÀşúòaĬºTÖŒbe¦¦{¸ZâćNp©Hr|^mjhSEb\\afv`sz^lkljÄtg¤D­¾X¿À|ĐiZȀåB·î}GL¢õcßjayBFµÏC^ĭcÙt¿sğH]j{s©HM¢QnDÀ©DaÜÞ·jgàiDbPufjDk`dPOîhw¡ĥ¥GP²ĐobºrYî¶aHŢ´ ]´rılw³r_{£DB_Ûdåuk|Ũ¯F Cºyr{XFye³Þċ¿ÂkĭB¿MvÛpm`rÚã@Ę¹hågËÖƿxnlč¶Åì½Ot¾dJlVJĂǀŞqvnO^JZż·Q}êÍÅmµÒ]ƍ¦Dq}¬R^èĂ´ŀĻĊIÔtĲyQŐĠMNtR®òLhĚs©»}OÓGZz¶A\\jĨFäOĤHYJvÞHNiÜaĎÉnFQlNM¤B´ĄNöɂtpŬdfåqm¿QûùŞÚb¤uŃJŴu»¹ĄlȖħŴw̌ŵ²ǹǠ͛hĭłƕrçü±Yxcitğ®jű¢KOķCoy`å®VTa­_Ā]ŐÝɞï²ʯÊ^]afYǸÃĆēĪȣJđ͍ôƋÄÄÍīçÛɈǥ£­ÛmY`ó£Z«§°Ó³QafusNıǅ_k}¢m[ÝóDµ¡RLčiXyÅNïă¡¸iĔÏNÌŕoēdōîåŤûHcs}~Ûwbù¹£¦ÓCtOPrE^ÒogĉIµÛÅʹK¤½phMü`oæŀ"],encodeOffsets:[[121740,32276]]},properties:{cp:[118.767413,32.041544],name:"江苏",childNum:1}},{id:"330000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@E^dQ]K"],["@@jX^j"],["@@sfbU"],["@@qP\\xz[ck"],["@@R¢FX}°[s_"],["@@Cb\\}"],["@@e|v\\la{u"],["@@v~u}"],["@@QxÂF¯}"],["@@¹nvÞs¯o"],["@@rSkUEj"],["@@bi­ZP"],["@@p[}INf"],["@@À¿"],["@@¹dnb"],["@@rSBnR"],["@@g~h}"],["@@FlEk"],["@@OdPc"],["@@v[u\\"],["@@FjâL~wyoo~sµL\\"],["@@¬e¹aN"],["@@\\nÔ¡q]L³ë\\ÿ®QÖ"],["@@ÊA­©[¬"],["@@Kxv­"],["@@@hlIk]"],["@@pW{o||j"],["@@Md|_mC"],["@@¢X£ÏylD¼XtH"],["@@hlÜ[LykAvyfw^E¤"],["@@fp¤MusR"],["@@®_ma~LÁ¬Z"],["@@iMxZ"],["@@ZcYd"],["@@Z~dOSo|A¿qZv"],["@@@`EN¡v"],["@@|TY{"],["@@@n@m"],["@@XWkCT\\"],["@@ºwZRkĕWO¢"],["@@X®±GrÆª\\ÔáXq{"],["@@ůTG°ĄLHm°UC"],["@@¤aÜx~}dtüGæţŎíĔcŖpMËÐjē¢·ðĄÆMzjWKĎ¢Q¶À_ê_Bıi«pZgf¤Nrq]§ĂN®«H±yƳí¾×ŸīàLłčŴǝĂíÀBŖÕªÁŖHŗŉåqûõi¨hÜ·ñt»¹ýv_[«¸mYL¯QªmĉÅdMgÇjcº«ę¬­K­´B«Âącoċ\\xKd¡gěŧ«®á[~ıxu·ÅKsËÉc¢Ù\\ĭƛëbf¹­ģSĜkáƉÔ­ĈZB{aMµfzŉfåÂŧįƋǝÊĕġć£g³ne­ą»@­¦S®\\ßðChiqªĭiAuA­µ_W¥ƣO\\lċĢttC¨£t`PZäuXßBsĻyekOđġĵHuXBµ]×­­\\°®¬F¢¾pµ¼kŘó¬Wät¸|@L¨¸µrºù³Ù~§WIZW®±Ð¨ÒÉx`²pĜrOògtÁZ}þÙ]¡FKwsPlU[}¦Rvn`hq¬\\nQ´ĘRWb_ rtČFIÖkĦPJ¶ÖÀÖJĈĄTĚòC ²@PúØz©Pî¢£CÈÚĒ±hŖl¬â~nm¨f©iļ«mntuÖZÜÄjL®EÌFª²iÊxØ¨IÈhhst"],["@@o\\VzRZ}y"],["@@@°¡mÛGĕ¨§Ianá[ýƤjfæØLäGr"]],encodeOffsets:[[[125592,31553]],[[125785,31436]],[[125729,31431]],[[125513,31380]],[[125223,30438]],[[125115,30114]],[[124815,29155]],[[124419,28746]],[[124095,28635]],[[124005,28609]],[[125e3,30713]],[[125111,30698]],[[125078,30682]],[[125150,30684]],[[124014,28103]],[[125008,31331]],[[125411,31468]],[[125329,31479]],[[125626,30916]],[[125417,30956]],[[125254,30976]],[[125199,30997]],[[125095,31058]],[[125083,30915]],[[124885,31015]],[[125218,30798]],[[124867,30838]],[[124755,30788]],[[124802,30809]],[[125267,30657]],[[125218,30578]],[[125200,30562]],[[124968,30474]],[[125167,30396]],[[124955,29879]],[[124714,29781]],[[124762,29462]],[[124325,28754]],[[123990,28459]],[[125366,31477]],[[125115,30363]],[[125369,31139]],[[122495,31878]],[[125329,30690]],[[125192,30787]]]},properties:{cp:[120.153576,30.287459],name:"浙江",childNum:45}},{id:"340000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@^iuLX^"],["@@e©Ehl"],["@@°ZÆëĎµmkǀwÌÕæhºgBĝâqÙĊzÖgņtÀÁĂÆáhEz|WzqD¹°Eŧl{ævÜcA`¤C`|´qxĲkq^³³GšµbíZ¹qpa±ď OH¦Ħx¢gPícOl_iCveaOjChß¸iÝbÛªCC¿mRV§¢A|t^iĠGÀtÚsd]ĮÐDE¶zAb àiödK¡~H¸íæAǿYj{ď¿À½W®£ChÃsikkly]_teu[bFaTign{]GqªoĈMYá|·¥f¥őaSÕėNµñĞ«Im_m¿Âa]uĜp Z_§{Cäg¤°r[_YjÆOdý[I[á·¥Q_nùgL¾mvˊBÜÆ¶ĊJhpc¹O]iŠ]¥ jtsggJÇ§w×jÉ©±EFË­KiÛÃÕYvsm¬njĻª§emná}k«ŕgđ²ÙDÇ¤í¡ªOy×Où±@DñSęćăÕIÕ¿IµĥOjNÕËT¡¿tNæŇàåyķrĕq§ÄĩsWÆßF¶X®¿mwRIÞfßoG³¾©uyHį{Ɓħ¯AFnuPÍÔzVdàôº^Ðæd´oG¤{S¬ćxã}ŧ×Kǥĩ«ÕOEÐ·ÖdÖsƘÑ¨[Û^Xr¢¼§xvÄÆµ`K§ tÒ´Cvlo¸fzŨð¾NY´ı~ÉĔēßúLÃÃ_ÈÏ|]ÂÏFlg`ben¾¢pUh~ƴĖ¶_r sĄ~cƈ]|r c~`¼{À{ȒiJjz`îÀT¥Û³]u}fïQl{skloNdjäËzDvčoQďHI¦rbtHĔ~BmlRV_ħTLnñH±DL¼Lªl§Ťa¸ĚlK²\\RòvDcÎJbt[¤D@®hh~kt°ǾzÖ@¾ªdbYhüóZ ň¶vHrľ\\ÊJuxAT|dmÀO[ÃÔG·ĚąĐlŪÚpSJ¨ĸLvÞcPæķŨ®mÐálwKhïgA¢ųÆ©Þ¤OÈm°K´"]],encodeOffsets:[[[121722,32278]],[[119475,30423]],[[119168,35472]]]},properties:{cp:[117.283042,31.86119],name:"安徽",childNum:3}},{id:"350000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@zht´]"],["@@aj^~ĆG©O"],["@@ed¨C}}i"],["@@@vPGsQ"],["@@sBzddW]Q"],["@@S¨Q{"],["@@NVucW"],["@@qptBAq"],["@@¸[mu"],["@@Q\\pD]_"],["@@jSwUadpF"],["@@eXª~"],["@@AjvFso"],["@@fT_Çí\\v|ba¦jZÆy°"],["@@IjJi"],["@@wJIx«¼AoNe{M­"],["@@K±¡ÓČäeZ"],["@@k¡¹Eh~c®wBkUplÀ¡I~Māe£bN¨gZý¡a±Öcp©PhI¢QqÇGj|¥U g[Ky¬ŏv@OptÉEF\\@ åA¬V{XģĐBycpě¼³Ăp·¤¥ohqqÚ¡ŅLs^Ã¡§qlÀhH¨MCe»åÇGD¥zPO£čÙkJA¼ßėuĕeûÒiÁŧSW¥Qûŗ½ùěcÝ§SùĩąSWó«íęACµeRåǃRCÒÇZÍ¢ź±^dlstjD¸ZpuÔâÃH¾oLUêÃÔjjēò´ĄWƛ^Ñ¥Ħ@ÇòmOw¡õyJyD}¢ďÑÈġfZda©º²z£NjD°Ötj¶¬ZSÎ~¾c°¶ÐmxO¸¢Pl´SL|¥AȪĖMņĲg®áIJČĒü` QF¬h|ĂJ@zµ |ê³È ¸UÖŬŬÀEttĸr]ðM¤ĶĲHtÏ AĬkvsq^aÎbvdfÊòSD´Z^xPsĂrvƞŀjJd×ŘÉ ®AÎ¦ĤdxĆqAZRÀMźnĊ»İÐZ YXæJyĊ²·¶q§·K@·{sXãô«lŗ¶»o½E¡­«¢±¨Y®Ø¶^AvWĶGĒĢPlzfļtàAvWYãO_¤sD§ssČġ[kƤPX¦`¶®BBvĪjv©jx[L¥àï[F¼ÍË»ğV`«Ip}ccÅĥZEãoP´B@D¸m±z«Ƴ¿å³BRØ¶Wlâþäą`]Z£Tc ĹGµ¶Hm@_©k¾xĨôȉðX«½đCIbćqK³ÁÄš¬OAwã»aLŉËĥW[ÂGIÂNxĳ¤D¢îĎÎB§°_JGs¥E@¤ućPåcuMuw¢BI¿]zG¹guĮck\\_"]],encodeOffsets:[[[123250,27563]],[[122541,27268]],[[123020,27189]],[[122916,27125]],[[122887,26845]],[[122808,26762]],[[122568,25912]],[[122778,26197]],[[122515,26757]],[[122816,26587]],[[123388,27005]],[[122450,26243]],[[122578,25962]],[[121255,25103]],[[120987,24903]],[[122339,25802]],[[121042,25093]],[[122439,26024]]]},properties:{cp:[119.306239,26.075302],name:"福建",childNum:18}},{id:"360000",type:"Feature",geometry:{type:"Polygon",coordinates:["@@ĢĨƐgļ¼ÂMD~ņªe^\\^§ý©j×cZØ¨zdÒa¶lÒJìõ`oz÷@¤uŞ¸´ôęöY¼HČƶajlÞƩ¥éZ[|h}^U  ¥pĄžƦO lt¸Æ Q\\aÆ|CnÂOjt­ĚĤdÈF`¶@Ðë ¦ōÒ¨SêvHĢûXD®QgÄWiØPÞìºr¤ǆNĠ¢lĄtZoCƞÔºCxrpĠV®Ê{f_Y`_eq®Aot`@oDXfkp¨|s¬\\DÄSfè©Hn¬^DhÆyøJhØxĢĀLÊƠPżċĄwȠĚ¦G®ǒĤäTŠÆ~Ħw«|TF¡nc³Ïå¹]ĉđxe{ÎÓvOEm°BƂĨİ|Gvz½ª´HàpeJÝQxnÀW­EµàXÅĪt¨ÃĖrÄwÀFÎ|ňÓMå¼ibµ¯»åDT±m[r«_gmQu~¥V\\OkxtL E¢Ú^~ýêPóqoě±_Êw§ÑªåƗā¼mĉŹ¿NQYBąrwģcÍ¥B­ŗÊcØiIƝĿuqtāwO]³YCñTeÉcaubÍ]trluīBÐGsĵıN£ï^ķqss¿FūūVÕ·´Ç{éĈýÿOER_đûIċâJh­ŅıNȩĕB¦K{Tk³¡OP·wnµÏd¯}½TÍ«YiµÕsC¯iM¤­¦¯P|ÿUHvhe¥oFTuõ\\OSsMòđƇiaºćXĊĵà·çhƃ÷Ç{ígu^đgm[×zkKN¶Õ»lčÓ{XSÆv©_ÈëJbVkĔVÀ¤P¾ºÈMÖxlò~ªÚàGĂ¢B±ÌKyáV¼Ã~­`gsÙfIƋlę¹e|~udjuTlXµf`¿Jd[\\L²"],encodeOffsets:[[116689,26234]]},properties:{cp:[115.892151,28.676493],name:"江西",childNum:1}},{id:"370000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@Xjd]{K"],["@@itbFHy"],["@@HlGk"],["@@TGy"],["@@K¬U"],["@@WdXc"],["@@PtOs"],["@@LnXhc"],["@@ppVu]Or"],["@@cdzAUa"],["@@udRhnCI"],["@@oIpR"],["@@Ľč{fzƤîKÎMĮ]ZF½Y]â£ph¶¨râøÀÎǨ¤^ºÄGz~grĚĜlĞÆLĆǆ¢Îo¦cvKbgr°WhmZp L]LºcUÆ­nżĤÌĒbAnrOA´ȊcÀbƦUØrĆUÜøĬƞEzVL®öØBkŖÝĐĖ¹ŧ̄±ÀbÎÉnb²ĦhņBĖįĦåXćì@L¯´ywƕCéÃµė ƿ¸lµ¾Z|ZWyFY¨Mf~C¿`à_RÇzwƌfQnny´INoƬèôº|sTJULîVjǎ¾ĒØDz²XPn±ŴPè¸ŔLƔÜƺ_TüÃĤBBċÈöA´faM¨{«M`¶d¡ôÖ°mȰBÔjj´PM|c^d¤u¤Û´ä«ƢfPk¶Môl]Lb}su^ke{lCMrDÇ­]NÑFsmoõľHyGă{{çrnÓEƕZGª¹Fj¢ïWuøCǷë¡ąuhÛ¡^KxC`C\\bÅxì²ĝÝ¿_NīCȽĿåB¥¢·IŖÕy\\¹kxÃ£Č×GDyÃ¤ÁçFQ¡KtŵƋ]CgÏAùSedcÚźuYfyMmhUWpSyGwMPqŀÁ¼zK¶G­Y§Ë@´śÇµƕBm@IogZ¯uTMx}CVKï{éƵP_K«pÛÙqċtkkù]gTğwoɁsMõ³ăAN£MRkmEÊčÛbMjÝGuIZGPģãħE[iµBEuDPÔ~ª¼ęt]ûG§¡QMsğNPŏįzs£Ug{đJĿļā³]ç«Qr~¥CƎÑ^n¶ÆéÎR~Ż¸YI] PumŝrƿIā[xeÇ³L¯v¯s¬ÁY~}ťuŁgƋpÝĄ_ņī¶ÏSR´ÁP~¿Cyċßdwk´SsX|t`Ä ÈðAªìÎT°¦Dda^lĎDĶÚY°`ĪŴǒàŠv\\ebZHŖR¬ŢƱùęOÑM­³FÛWp["]],encodeOffsets:[[[123806,39303]],[[123821,39266]],[[123742,39256]],[[123702,39203]],[[123649,39066]],[[123847,38933]],[[123580,38839]],[[123894,37288]],[[123043,36624]],[[123344,38676]],[[123522,38857]],[[123628,38858]],[[118260,36742]]]},properties:{cp:[117.000923,36.675807],name:"山东",childNum:13}},{id:"410000",type:"Feature",geometry:{type:"Polygon",coordinates:["@@ýLùµP³swIÓxcŢĞð´E®ÚPtĴXØxÂ¶@«ŕŕQGYfa[şußǩđš_X³ĳÕčC]kbc¥CS¯ëÍB©÷³­Si_}mYTt³xlàcČzÀD}ÂOQ³ÐTĨ¯ƗòËŖ[hłŦv~}ÂZ«¤lPÇ£ªÝŴÅR§ØnhctâknÏ­ľŹUÓÝdKuķI§oTũÙďkęĆH¸Ó\\Ä¿PcnS{wBIvÉĽ[GqµuŇôYgûZca©@½Õǽys¯}lgg@­C\\£asIdÍuCQñ[L±ęk·ţb¨©kK»KC²òGKmĨS`UQnk}AGēsqaJ¥ĐGRĎpCuÌy ã iMcplk|tRkðev~^´¦ÜSí¿_iyjI|ȑ|¿_»d}q^{Ƈdă}tqµ`Ƴĕg}V¡om½faÇo³TTj¥tĠRyK{ùÓjuµ{t}uËRivGçJFjµÍyqÎàQÂFewixGw½Yŷpµú³XU½ġyłåkÚwZX·l¢Á¢KzOÎÎjc¼htoDHr|­J½}JZ_¯iPq{tę½ĕ¦Zpĵø«kQĹ¤]MÛfaQpě±ǽ¾]u­Fu÷nčÄ¯ADp}AjmcEÇaª³o³ÆÍSƇĈÙDIzËčľ^KLiÞñ[aA²zzÌ÷D|[íÄ³gfÕÞd®|`Ć~oĠƑô³ŊD×°¯CsøÀ«ìUMhTº¨¸ǡîSÔDruÂÇZÖEvPZW~ØÐtĄE¢¦Ðy¸bô´oŬ¬²Ês~]®tªapŎJ¨Öº_Ŕ`Ŗ^Đ\\Ĝu~m²Ƹ¸fWĦrƔ}Î^gjdfÔ¡J}\\n C¦þWxªJRÔŠu¬ĨĨmFdM{\\d\\YÊ¢ú@@¦ª²SÜsC}fNècbpRmlØ^gd¢aÒ¢CZZxvÆ¶N¿¢T@uC¬^ĊðÄn|lGlRjsp¢ED}Fio~ÔN~zkĘHVsǲßjŬŢ`Pûàl¢\\ÀEhİgÞē X¼Pk|m"],encodeOffsets:[[118256,37017]]},properties:{cp:[113.665412,34.757975],name:"河南",childNum:1}},{id:"420000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@AB"],["@@lskt"],["@@¾«}{ra®pîÃ\\{øCËyyB±b\\òÝjKL ]ĎĽÌJyÚCƈćÎT´Å´pb©ÈdFin~BCo°BĎÃømv®E^vǾ½Ĝ²RobÜeN^ĺ£R¬lĶ÷YoĖ¥Ě¾|sOr°jY`~I¾®I{GqpCgyl{£ÍÍyPLÂ¡¡¸kWxYlÙæŁĢz¾V´W¶ùŸo¾ZHxjwfxGNÁ³Xéæl¶EièIH ujÌQ~v|sv¶Ôi|ú¢FhQsğ¦SiŠBgÐE^ÁÐ{čnOÂÈUÎóĔÊēĲ}Z³½Mŧïeyp·uk³DsÑ¨L¶_ÅuÃ¨w»¡WqÜ]\\Ò§tƗcÕ¸ÕFÏǝĉăxŻČƟOKÉġÿ×wg÷IÅzCg]m«ªGeçÃTC«[t§{loWeC@ps_Bp­rf_``Z|ei¡oċMqow¹DƝÓDYpûsYkıǃ}s¥ç³[§cY§HK«Qy]¢wwö¸ïx¼ņ¾Xv®ÇÀµRĠÐHM±cÏdƒǍũȅȷ±DSyúĝ£ŤĀàtÖÿï[îb\\}pĭÉI±Ñy¿³x¯No|¹HÏÛmjúË~TuęjCöAwě¬Rđl¯ Ñb­ŇTĿ_[IčĄʿnM¦ğ\\É[T·k¹©oĕ@A¾wya¥Y\\¥Âaz¯ãÁ¡k¥ne£ÛwE©Êō¶˓uoj_U¡cF¹­[WvP©whuÕyBF`RqJUw\\i¡{jEPïÿ½fćQÑÀQ{°fLÔ~wXgītêÝ¾ĺHd³fJd]HJ²EoU¥HhwQsƐ»Xmg±çve]DmÍPoCc¾_hhøYrŊU¶eD°Č_N~øĹĚ·`z]Äþp¼äÌQv\\rCé¾TnkžŐÚÜa¼ÝƆĢ¶ÛodĔňÐ¢JqPb ¾|J¾fXƐîĨ_Z¯À}úƲN_ĒÄ^ĈaŐyp»CÇÄKñL³ġM²wrIÒŭxjb[n«øæà ^²­h¯ÚŐªÞ¸Y²ĒVø}Ā^İ´LÚm¥ÀJÞ{JVųÞŃx×sxxƈē ģMřÚðòIfĊŒ\\Ʈ±ŒdÊ§ĘDvČ_Àæ~Dċ´A®µ¨ØLV¦êHÒ¤"]],encodeOffsets:[[[113712,34e3]],[[115612,30507]],[[113649,34054]]]},properties:{cp:[114.298572,30.584355],name:"湖北",childNum:3}},{id:"430000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@nFTs"],["@@ßÅÆá½ÔXrCOËRïÿĩ­TooQyÓ[ŅBE¬ÎÓXaį§Ã¸G °ITxpúxÚĳ¥ÏĢ¾edÄ©ĸGàGhM¤Â_U}Ċ}¢pczfþg¤ÇòAVM"],["@@©KA·³CQ±Á«³BUƑ¹AtćOwD]JiØSm¯b£ylXHËÑ±H«C^õľAÅ§¤É¥ïyuǙuA¢^{ÌC´­¦ŷJ£^[ª¿ĕ~ƇN skóā¹¿ï]ă~÷O§­@Vm¡Qđ¦¢Ĥ{ºjÔª¥nf´~Õo×ÛąMąıuZmZcÒ ĲĪ²SÊǄŶ¨ƚCÖŎªQØ¼rŭ­«}NÏürÊ¬mjr@ĘrTW ­SsdHzƓ^ÇÂyUi¯DÅYlŹu{hT}mĉ¹¥ěDÿë©ıÓ[Oº£¥ótł¹MÕƪ`PDiÛU¾ÅâìUñBÈ£ýhedy¡oċ`pfmjP~kZaZsÐd°wj§@Ĵ®w~^kÀÅKvNmX\\¨aŃqvíó¿F¤¡@ũÑVw}S@j}¾«pĂrªg àÀ²NJ¶¶DôK|^ª°LX¾ŴäPĪ±£EXd^¶ĲÞÜ~u¸ǔMRhsRe`ÄofIÔ\\Ø  ićymnú¨cj ¢»GČìƊÿÐ¨XeĈĀ¾Oð Fi ¢|[jVxrIQ_EzAN¦zLU`cªxOTu RLÄ¢dVi`p˔vŎµªÉF~Ød¢ºgİàw¸Áb[¦Zb¦z½xBĖ@ªpºlS¸Ö\\Ĕ[N¥ˀmĎăJ\\ŀ`ňSÚĖÁĐiOĜ«BxDõĚivSÌ}iùÜnÐºG{p°M´wÀÒzJ²ò¨ oTçüöoÛÿñőĞ¤ùTz²CȆȸǎŪƑÐc°dPÎğË¶[È½u¯½WM¡­ÉB·rínZÒ `¨GA¾\\pēXhÃRC­üWGġuTé§ŎÑ©ò³I±³}_EÃħg®ęisÁPDmÅ{b[RÅs·kPŽƥóRoOV~]{g\\êYƪ¦kÝbiċƵGZ»Ěõó·³vŝ£ø@pyö_ëIkÑµbcÑ§y×dYØªiþ¨[]f]Ņ©C}ÁN»hĻħƏĩ"]],encodeOffsets:[[[115640,30489]],[[112543,27312]],[[116690,26230]]]},properties:{cp:[112.982279,28.19409],name:"湖南",childNum:3}},{id:"440000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@QdAua"],["@@lxDLo"],["@@sbhNLo"],["@@Ă ā"],["@@WltO[["],["@@Kr]S"],["@@eI]y"],["@@I|Mym"],["@@Û³LS¼Y"],["@@nvºBëui©`¾"],["@@zdÛJw®"],["@@°¯"],["@@a yAª¸ËJIxØ@ĀHAmÃV¡ofuo"],["@@sŗÃÔėAƁZÄ ~°ČPäh"],["@@¶ÝÌvmĞh­ıQ"],["@@HdSjĒ¢D}waru«ZqadYM"],["@@el\\LqqU"],["@@~rMo\\"],["@@f^C"],["@@øPªoj÷ÍÝħXČx°Q¨ıXNv"],["@@gÇƳo[~tly"],["@@EÆC¿"],["@@OP"],["@@wđógĝ[³¡VÙæÅöMÌ³¹pÁaËýý©D©ÜJŹƕģGą¤{ÙūÇO²«BƱéAÒĥ¡«BhlmtÃPµyU¯ucd·w_bŝcīímGO|KPȏŹãŝIŕŭŕ@Óoo¿ē±ß}ŭĲWÈCőâUâǙIğŉ©IĳE×Á³AówXJþ±ÌÜÓĨ£L]ĈÙƺZǾĆĖMĸĤfÎĵlŨnÈĐtFFĤêk¶^k°f¶g}®Faf`vXŲxl¦ÔÁ²¬Ð¦pqÊÌ²iXØRDÎ}Ä@ZĠsx®AR~®ETtĄZƈfŠŠHâÒÐAµ\\S¸^wĖkRzalŜ|E¨ÈNĀňZTpBh£\\ĎƀuXĖtKL¶G|»ĺEļĞ~ÜĢÛĊrOÙîvd]n¬VÊĜ°RÖpMƂªFbwEÀ©\\¤]ŸI®¥D³|Ë]CöAŤ¦æ´¥¸Lv¼¢ĽBaôF~®²GÌÒEYzk¤°ahlVÕI^CxĈPsBƒºV¸@¾ªR²ĨN]´_eavSivc}p}Đ¼ƌkJÚe th_¸ ºx±ò_xNË²@ă¡ßH©Ùñ}wkNÕ¹ÇO½¿£ĕ]ly_WìIÇª`uTÅxYĒÖ¼kÖµMjJÚwn\\hĒv]îh|ÈƄøèg¸Ķß ĉĈWb¹ƀdéĘNTtP[öSvrCZaGubo´ŖÒÇĐ~¡zCIözx¢PnÈñ @ĥÒ¦]ƞV}³ăĔñiiÄÓVépKG½ÄÓávYoC·sitiaÀyŧÎ¡ÈYDÑům}ý|m[węõĉZÅxUO}÷N¹³ĉo_qtăqwµŁYÙǝŕ¹tïÛUÃ¯mRCºĭ|µÕÊK½Rē ó]GªęAx»HO£|ām¡diď×YïYWªŉOeÚtĐ«zđ¹TāúEá²\\ķÍ}jYàÙÆſ¿Çdğ·ùTßÇţʄ¡XgWÀǇğ·¿ÃOj YÇ÷Qěi"]],encodeOffsets:[[[117381,22988]],[[116552,22934]],[[116790,22617]],[[116973,22545]],[[116444,22536]],[[116931,22515]],[[116496,22490]],[[116453,22449]],[[113301,21439]],[[118726,21604]],[[118709,21486]],[[113210,20816]],[[115482,22082]],[[113171,21585]],[[113199,21590]],[[115232,22102]],[[115739,22373]],[[115134,22184]],[[113056,21175]],[[119573,21271]],[[119957,24020]],[[115859,22356]],[[116561,22649]],[[116285,22746]]]},properties:{cp:[113.280637,23.125178],name:"广东",childNum:24}},{id:"450000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@H TQ§A"],["@@ĨÊªLƊDÎĹĐCǦė¸zÚGn£¾rªŀÜt¬@ÖÚSx~øOŒŶÐÂæȠ\\ÈÜObĖw^oÞLf¬°bI lTØBÌF£Ć¹gñĤaYt¿¤VSñK¸¤nM¼JE±½¸ñoÜCƆæĪ^ĚQÖ¦^f´QüÜÊz¯lzUĺš@ìp¶n]sxtx¶@~ÒĂJb©gk{°~c°`Ô¬rV\\la¼¤ôá`¯¹LCÆbxEræOv[H­[~|aB£ÖsºdAĐzNÂðsÞÆĤªbab`ho¡³F«èVlo¤ÔRzpp®SĪº¨ÖºNĳd`a¦¤F³ºDÎńĀìCĜº¦Ċ~nS|gźvZkCÆj°zVÈÁƔ]LÊFZgčP­kini«qÇczÍY®¬Ů»qR×ō©DÕ§ƙǃŵTÉĩ±ıdÑnYYĲvNĆĆØÜ Öp}e³¦m©iÓ|¹ħņ|ª¦QF¢Â¬ʖovg¿em^ucà÷gÕuíÙćĝ}FĻ¼Ĺ{µHKsLSđƃrč¤[AgoSŇYMÿ§Ç{FśbkylQxĕ]T·¶[BÑÏGáşşƇeăYSs­FQ}­BwtYğÃ@~CÍQ ×WjË±rÉ¥oÏ ±«ÓÂ¥kwWűmcih³K~µh¯e]lµélEģEďsmÇŧē`ãògK_ÛsUʝćğ¶höO¤Ǜn³c`¡y¦CezYwa[ďĵűMę§]XÎ_íÛ]éÛUćİÕBƣ±dy¹T^dûÅÑŦ·PĻþÙ`K¦¢ÍeĥR¿³£[~äu¼dltW¸oRM¢ď\\z}Æzdvň{ÎXF¶°Â_ÒÂÏL©ÖTmu¼ãlīkiqéfA·Êµ\\őDc¥ÝFyÔćcűH_hLÜêĺĐ¨c}rn`½Ì@¸¶ªVLhŒ\\Ţĺk~Ġið°|gtTĭĸ^xvKVGréAébUuMJVÃO¡qĂXËSģãlýà_juYÛÒBG^éÖ¶§EGÅzěƯ¤EkN[kdåucé¬dnYpAyČ{`]þ¯TbÜÈk¡ĠvàhÂƄ¢Jî¶²"]],encodeOffsets:[[[111707,21520]],[[107619,25527]]]},properties:{cp:[108.320004,22.82402],name:"广西",childNum:2}},{id:"460000",type:"Feature",geometry:{type:"Polygon",coordinates:["@@¦Ŝil¢XƦƞòïè§ŞCêɕrŧůÇąĻõ·ĉ³œ̅kÇm@ċȧŧĥĽʉ­ƅſȓÒË¦ŝE}ºƑ[ÍĜȋ gÎfǐÏĤ¨êƺ\\Ɔ¸ĠĎvʄȀÐ¾jNðĀÒRZǆzÐŘÎ°H¨Ƣb²_Ġ "],encodeOffsets:[[112750,20508]]},properties:{cp:[110.33119,20.031971],name:"海南",childNum:1}},{id:"510000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@LqKr"],["@@[ĻéV£_ţġñpG réÏ·~ąSfy×Í·ºſƽiÍıƣıĻmHH}siaX@iÇ°ÁÃ×t«­T¤JJJyJÈ`Ohß¦¡uËhIyCjmÿwZGTiSsOB²fNmsPa{M{õE^Hj}gYpaeu¯oáwHjÁ½M¡pMuåmni{fk\\oÎqCwEZ¼KĝAy{m÷LwO×SimRI¯rKõBS«sFe]fµ¢óY_ÆPRcue°Cbo×bd£ŌIHgtrnyPt¦foaXďxlBowz_{ÊéWiêEGhÜ¸ºuFĈIxf®Y½ĀǙ]¤EyF²ċw¸¿@g¢§RGv»áW`ÃĵJwi]t¥wO­½a[×]`Ãi­üL¦LabbTÀåc}ÍhÆh®BHî|îºÉk­¤Sy£ia©taį·Ɖ`ō¥UhOĝLk}©Fos´JmµlŁuønÑJWÎªYÀïAetTŅÓGË«bo{ıwodƟ½OġÜÂµxàNÖ¾P²§HKv¾]|BÆåoZ`¡Ø`ÀmºĠ~ÌÐ§nÇ¿¤]wğ@srğu~Io[é±¹ ¿ſđÓ@qg¹zƱřaí°KtÇ¤V»Ã[ĩǭƑ^ÇÓ@áťsZÏÅĭƋěpwDóÖáŻneQËq·GCœýS]x·ýq³OÕ¶Qzßti{řáÍÇWŝŭñzÇWpç¿JXĩè½cFÂLiVjx}\\NŇĖ¥GeJA¼ÄHfÈu~¸Æ«dE³ÉMA|bÒćhG¬CMõƤąAvüVéŀ_VÌ³ĐwQj´·ZeÈÁ¨X´Æ¡Qu·»ÕZ³ġqDoy`L¬gdp°şp¦ėìÅĮZ°Iähzĵf²å ĚÑKpIN|Ñz]ń·FU×é»R³MÉ»GM«kiér}Ã`¹ăÞmÈnÁîRǀ³ĜoİzŔwǶVÚ£À]ɜ»ĆlƂ²ĠþTº·àUȞÏʦ¶I«dĽĢdĬ¿»Ĕ×h\\c¬ä²GêëĤł¥ÀǿżÃÆMº}BÕĢyFVvwxBèĻĒ©ĈtCĢɽŠȣ¦āæ·HĽîôNÔ~^¤Ɗu^s¼{TA¼ø°¢İªDè¾Ň¶ÝJ®Z´ğ~Sn|ªWÚ©òzPOȸbð¢|øĞŒQìÛÐ@ĞǎRS¤Á§di´ezÝúØã]HqkIþËQÇ¦ÃsÇ¤[E¬ÉŪÍxXƒ·ÖƁİlƞ¹ª¹|XÊwnÆƄmÀêErĒtD®ċæcQE®³^ĭ¥©l}äQtoŖÜqÆkµªÔĻĴ¡@Ċ°B²Èw^^RsºTĀ£ŚæQPJvÄz^Đ¹Æ¯fLà´GC²dt­ĀRt¼¤ĦOðğfÔðDŨŁĞƘïPÈ®âbMüÀXZ ¸£@Å»»QÉ­]dsÖ×_Í_ÌêŮPrĔĐÕGĂeZÜîĘqBhtO ¤tE[h|YÔZśÎs´xº±Uñt|OĩĠºNbgþJy^dÂY Į]Řz¦gC³R`Āz¢Aj¸CL¤RÆ»@­Ŏk\\Ç´£YW}z@Z}Ã¶oû¶]´^NÒ}èNªPÍy¹`S°´ATeVamdUĐwʄvĮÕ\\uÆŗ¨Yp¹àZÂmWh{á}WØǍÉüwga§áCNęÎ[ĀÕĪgÖÉªXøx¬½Ů¦¦[NÎLÜUÖ´òrÙŠxR^JkĳnDX{U~ET{ļº¦PZcjF²Ė@pg¨B{u¨ŦyhoÚD®¯¢ WòàFÎ¤¨GDäz¦kŮPġqË¥À]eâÚ´ªKxīPÖ|æ[xÃ¤JÞĥsNÖ½I¬nĨY´®ÐƐmDŝuäđđEbee_v¡}ìęǊē}qÉåT¯µRs¡M@}ůaa­¯wvƉåZw\\Z{åû^"]],encodeOffsets:[[[108815,30935]],[[110617,31811]]]},properties:{cp:[104.065735,30.659462],name:"四川",childNum:2}},{id:"520000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@G\\lY£in"],["@@q|mc¯tÏVSÎ"],["@@hÑ£IsNgßHHªķÃh_¹¡ĝÄ§ń¦uÙùgS¯JH|sÝÅtÁïyMDč»eÕtA¤{b\\}G®u\\åPFqwÅaDK°ºâ_£ùbµmÁÛĹM[q|hlaªāI}Ñµ@swtwm^oµDéĽŠyVky°ÉûÛR³e¥]RÕěħ[ƅåÛDpJiVÂF²I»mN·£LbÒYbWsÀbpkiTZĄă¶Hq`ĥ_J¯ae«KpÝx]aĕÛPÇȟ[ÁåŵÏő÷Pw}TÙ@Õs«ĿÛq©½m¤ÙH·yǥĘĉBµĨÕnđ]K©œáGçş§ÕßgǗĦTèƤƺ{¶ÉHÎd¾ŚÊ·OÐjXWrãLyzÉAL¾ę¢bĶėy_qMĔąro¼hĊw¶øV¤w²Ĉ]ÊKx|`ź¦ÂÈdrcÈbe¸`I¼čTF´¼Óýȃr¹ÍJ©k_șl³´_pĐ`oÒh¶pa^ÓĔ}D»^Xy`d[KvJPhèhCrĂĚÂ^Êƌ wZL­Ġ£ÁbrzOIlMMĪŐžËr×ÎeŦtw|¢mKjSǘňĂStÎŦEtqFT¾Eì¬¬ôxÌO¢ K³ŀºäYPVgŎ¦ŊmŞ¼VZwVlz¤£Tl®ctĽÚó{G­AÇge~Îd¿æaSba¥KKûj®_Ä^\\Ø¾bP®¦x^sxjĶI_Ä Xâ¼Hu¨Qh¡À@Ëô}±GNìĎlT¸`V~R°tbÕĊ`¸úÛtÏFDu[MfqGH·¥yAztMFe|R_GkChZeÚ°tov`xbDnÐ{E}ZèxNEÞREn[Pv@{~rĆAB§EO¿|UZ~ìUf¨J²ĂÝÆsªB`s¶fvö¦Õ~dÔq¨¸º»uù[[§´sb¤¢zþF¢ÆÀhÂW\\ıËIÝo±ĭŠ£þÊs}¡R]ěDg´VG¢j±®èºÃmpU[Áëº°rÜbNu¸}º¼`niºÔXĄ¤¼ÔdaµÁ_ÃftQQgR·Ǔv}Ý×ĵ]µWc¤F²OĩųãW½¯K©]{LóµCIµ±Mß¿h©āq¬o½~@i~TUxŪÒ¢@£ÀEîôruńb[§nWuMÆLl¿]x}ĳ­½"]],encodeOffsets:[[[112158,27383]],[[112105,27474]],[[112095,27476]]]},properties:{cp:[106.713478,26.578343],name:"贵州",childNum:3}},{id:"530000",type:"Feature",geometry:{type:"Polygon",coordinates:["@@[ùx½}ÑRHYīĺûsÍniEoã½Ya²ė{c¬ĝgĂsAØÅwďõzFjw}«Dx¿}Uũlê@HÅ­F¨ÇoJ´Ónũuą¡Ã¢pÒÅØ TF²xa²ËXcÊlHîAßËŁkŻƑŷÉ©hW­æßUËs¡¦}teèÆ¶StÇÇ}Fd£jĈZĆÆ¤Tč\\D}O÷£U§~ŃGåŃDĝ¸Tsd¶¶Bª¤u¢ŌĎo~t¾ÍŶÒtD¦ÚiôözØX²ghįh½Û±¯ÿm·zR¦Ɵ`ªŊÃh¢rOÔ´£Ym¼èêf¯ŪĽncÚbw\\zlvWªâ ¦gmĿBĹ£¢ƹřbĥkǫßeeZkÙIKueT»sVesbaĕ  ¶®dNĄÄpªy¼³BE®lGŭCǶwêżĔÂepÍÀQƞpC¼ŲÈ­AÎô¶RäQ^Øu¬°_Èôc´¹ò¨PÎ¢hlĎ¦´ĦÆ´sâÇŲPnÊD^¯°Upv}®BPÌªjǬxSöwlfòªvqĸ|`H­viļndĜ­Ćhňem·FyÞqóSį¯³X_ĞçêtryvL¤§z¦c¦¥jnŞklD¤øz½ĜàĂŧMÅ|áƆàÊcðÂFÜáŢ¥\\\\ºİøÒÐJĴîD¦zK²ǏÎEh~CD­hMn^ÌöÄ©ČZÀaüfɭyœpį´ěFűk]Ôě¢qlÅĆÙa¶~ÄqêljN¬¼HÊNQ´ê¼VØ¸E^ŃÒyM{JLoÒęæe±Ķygã¯JYÆĭĘëo¥Šo¯hcK«z_prC´ĢÖY¼ v¸¢RÅW³Â§fÇ¸Yi³xR´ďUË`êĿUûuĆBƣöNDH«ĈgÑaB{ÊNF´¬c·Åv}eÇÃGB»If¦HňĕM~[iwjUÁKE¾dĪçWIèÀoÈXòyŞŮÈXâÎŚj|àsRyµÖPr´þ ¸^wþTDŔHr¸RÌmfżÕâCôoxĜƌÆĮÐYtâŦÔ@]ÈǮƒ\\Ī¼Ä£UsÈ¯LbîƲŚºyhr@ĒÔƀÀ²º\\êpJ}ĠvqtĠ@^xÀ£È¨mËÏğ}n¹_¿¢×Y_æpÅA^{½Lu¨GO±Õ½ßM¶wÁĢÛPƢ¼pcĲx|apÌ¬HÐŊSfsðBZ¿©XÏÒKk÷Eû¿SrEFsÕūkóVǥŉiTL¡n{uxţÏhôŝ¬ğōNNJkyPaqÂğ¤K®YxÉƋÁ]āęDqçgOgILu\\_gz]W¼~CÔē]bµogpÑ_oď`´³Țkl`IªºÎȄqÔþ»E³ĎSJ»_f·adÇqÇc¥Á_Źw{L^É±ćxU£µ÷xgĉp»ĆqNē`rĘzaĵĚ¡K½ÊBzyäKXqiWPÏÉ¸½řÍcÊG|µƕƣGË÷k°_^ý|_zċBZocmø¯hhcæ\\lMFlư£ĜÆyHF¨µêÕ]HAàÓ^it `þßäkĤÎT~Wlÿ¨ÔPzUCNVv [jâôDôď[}z¿msSh¯{jïğl}šĹ[őgK©U·µË@¾m_~q¡f¹ÅË^»f³ø}Q¡ÖË³gÍ±^Ç\\ëÃA_¿bWÏ[¶ƛé£F{īZgm@|kHǭƁć¦UĔť×ë}ǝeďºȡȘÏíBÉ£āĘPªĳ¶ŉÿy©nď£G¹¡I±LÉĺÑdĉÜW¥}gÁ{aqÃ¥aıęÏZï`"],encodeOffsets:[[104636,22969]]},properties:{cp:[102.712251,25.040609],name:"云南",childNum:1}},{id:"540000",type:"Feature",geometry:{type:"Polygon",coordinates:["@@ÂhľxŖxÒVºÅâAĪÝȆµę¯Ňa±r_w~uSÕňqOj]ɄQ£ZUDûoY»©M[L¼qãË{VÍçWVi]ë©Ä÷àyƛhÚU°adcQ~Mx¥cc¡ÙaSyFÖk­uRýq¿ÔµQĽ³aG{¿FµëªéĜÿª@¬·K·àariĕĀ«V»ŶĴūgèLǴŇƶaftèBŚ£^âǐÝ®M¦ÁǞÿ¬LhJ¾óƾÆºcxwf]Y´¦|QLn°adĊ\\¨oǀÍŎ´ĩĀd`tÊQŞŕ|¨C^©Ĉ¦¦ÎJĊ{ëĎjª²rÐl`¼Ą[t|¦Stè¾PÜK¸dƄı]s¤î_v¹ÎVòŦj£Əsc¬_Ğ´|Ł¦Av¦w`ăaÝaa­¢e¤ı²©ªSªÈMĄwÉØŔì@T¤Ę\\õª@þo´­xA sÂtŎKzó´ÇĊµ¢r^nĊ­Æ¬×üG¢³ {âĊ]G~bÀgVjzlhǶfOfdªB]pjTOtĊn¤}®¦Č¥d¢¼»ddY¼t¢eȤJ¤}Ǿ¡°§¤AÐlc@ĝsªćļđAçwxUuzEÖġ~AN¹ÄÅȀŻ¦¿ģŁéì±Hãd«g[Ø¼ēÀcīľġ¬cJµÐʥVȝ¸ßS¹ý±ğkƁ¼ą^ɛ¤Ûÿb[}¬ōõÃ]ËNm®g@Bg}ÍF±ǐyL¥íCIĳÏ÷Ñį[¹¦[âšEÛïÁÉdƅß{âNÆāŨß¾ě÷yC£k­´ÓH@Â¹TZ¥¢į·ÌAÐ§®Zcv½Z­¹|ÅWZqgW|ieZÅYVÓqdqbc²R@c¥Rã»GeeƃīQ}J[ÒK¬Ə|oėjġĠÑN¡ð¯EBčnwôɍėª²CλŹġǝʅįĭạ̃ūȹ]ΓͧgšsgȽóϧµǛęgſ¶ҍć`ĘąŌJÞä¤rÅň¥ÖÁUětęuůÞiĊÄÀ\\Æs¦ÓRb|Â^řÌkÄŷ¶½÷f±iMÝ@ĥ°G¬ÃM¥n£Øąğ¯ß§aëbéüÑOčk£{\\eµª×MÉfm«Ƒ{Å×Gŏǩãy³©WÑăû··Qòı}¯ãIéÕÂZ¨īès¶ZÈsæĔTŘvgÌsN@îá¾ó@ÙwU±ÉTå»£TđWxq¹Zobs[×¯cĩvėŧ³BM|¹kªħ¥TzNYnÝßpęrñĠĉRS~½ěVVµõ«M££µBĉ¥áºae~³AuĐh`Ü³ç@BÛïĿa©|z²Ý¼D£àč²ŸIûI āóK¥}rÝ_Á´éMaň¨~ªSĈ½½KÙóĿeƃÆB·¬ën×W|Uº}LJrƳlŒµ`bÔ`QÐÓ@s¬ñIÍ@ûws¡åQÑßÁ`ŋĴ{ĪTÚÅTSÄ³Yo|Ç[Ç¾µMW¢ĭiÕØ¿@MhpÕ]jéò¿OƇĆƇpêĉâlØwěsǩĵ¸cbU¹ř¨WavquSMzeo_^gsÏ·¥Ó@~¯¿RiīB\\qTGªÇĜçPoÿfñòą¦óQīÈáPābß{ZŗĸIæÅhnszÁCËìñÏ·ąĚÝUm®ó­L·ăUÈíoù´Êj°ŁŤ_uµ^°ìÇ@tĶĒ¡ÆM³Ģ«İĨÅ®ğRāðggheÆ¢zÊ©Ô\\°ÝĎz~ź¤PnMĪÖB£kné§żćĆKĒ°¼L¶èâz¨u¦¥LDĘz¬ýÎmĘd¾ßFzhg²Fy¦ĝ¤ċņbÎ@yĄæm°NĮZRÖíJ²öLĸÒ¨Y®ƌÐVàtt_ÚÂyĠz]ŢhzĎ{ÂĢXc|ÐqfO¢¤ögÌHNPKŖUú´xx[xvĐCûĀìÖT¬¸^}Ìsòd´_KgžLĴÀBon|H@Êx¦BpŰŌ¿fµƌA¾zǈRx¶FkĄźRzŀ~¶[´HnªVƞuĒ­È¨ƎcƽÌm¸ÁÈM¦x͊ëÀxǆBú^´W£dkɾĬpw˂ØɦļĬIŚÊnŔa¸~J°îlɌxĤÊÈðhÌ®gT´øàCÀ^ªerrƘd¢İP|Ė ŸWªĦ^¶´ÂLaT±üWƜǀRÂŶUńĖ[QhlLüAÜ\\qRĄ©"],encodeOffsets:[[90849,37210]]},properties:{cp:[91.132212,29.660361],name:"西藏",childNum:1}},{id:"610000",type:"Feature",geometry:{type:"Polygon",coordinates:["@@p¢ȮµûGĦ}Ħðǚ¶òƄjɂz°{ºØkÈęâ¦jªBg\\ċ°s¬]jú EȌǆ¬stRÆdĠİwÜ¸ôW¾ƮłÒ_{Ìû¼jº¹¢GǪÒ¯ĘZ`ºŊecņą~BÂgzpâēòYǠȰÌTÎ¨ÂW|fcă§uF@N¢XLRMº[ğȣſï|¥Jkc`sŉǷY¹W@µ÷Kãï³ÛIcñ·VȋÚÒķø©þ¥yÓğęmWµÎumZyOŅƟĥÓ~sÑL¤µaÅY¦ocyZ{y c]{Ta©`U_Ěē£ωÊƍKùK¶ȱÝƷ§{û»ÅÁȹÍéuĳ|¹cÑdìUYOuFÕÈYvÁCqÓTǢí§·S¹NgV¬ë÷Át°DØ¯C´ŉƒópģ}ċcEËFéGU¥×K§­¶³BČ}C¿åċ`wġB·¤őcƭ²ő[Å^axwQOÿEËßŚĤNĔwƇÄńwĪ­o[_KÓª³ÙnKÇěÿ]ďă_d©·©Ýŏ°Ù®g]±ßå¬÷m\\iaǑkěX{¢|ZKlçhLtŇîŵœè[É@ƉĄEtƇÏ³­ħZ«mJ×¾MtÝĦ£IwÄå\\Õ{OwĬ©LÙ³ÙgBƕŀrÌĢŭO¥lãyC§HÍ£ßEñX¡­°ÙCgpťzb`wIvA|§hoĕ@E±iYd¥OĻ¹S|}F@¾oAO²{tfÜ¢FǂÒW²°BĤh^Wx{@¬­F¸¡ķn£P|ªĴ@^ĠĈæbÔc¶lYi^MicĎ°Â[ävï¶gv@ÀĬ·lJ¸sn|¼u~a]ÆÈtŌºJpþ£KKf~¦UbyäIĺãnÔ¿^­ŵMThĠÜ¤ko¼Ŏìąǜh`[tRd²Ĳ_XPrɲlXiL§à¹H°Ȧqº®QCbAŌJ¸ĕÚ³ĺ§ `d¨YjiZvRĺ±öVKkjGȊÄePĞZmļKÀ[`ösìhïÎoĬdtKÞ{¬èÒÒBÔpĲÇĬJŊ¦±J«Y§@·pHµàåVKepWftsAÅqC·¬ko«pHÆuK@oHĆÛķhxenS³àǍrqƶRbzy¸ËÐl¼EºpĤ¼x¼½~Ğà@ÚüdK^mÌSj"],encodeOffsets:[[110234,38774]]},properties:{cp:[108.948024,34.263161],name:"陕西",childNum:1}},{id:"620000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@VuUv"],["@@ũEĠtt~nkh`Q¦ÅÄÜdwAb×ĠąJ¤DüègĺqBqj°lI¡ĨÒ¤úSHbjÎB°aZ¢KJO[|A£Dx}NĂ¬HUnrk kp¼Y kMJn[aGáÚÏ[½rc}aQxOgsPMnUsncZsKúvAtÞġ£®ĀYKdnFw¢JE°Latf`¼h¬we|Æbj}GA·~W`¢MC¤tL©Ĳ°qdfObÞĬ¹ttu`^ZúE`[@Æsîz®¡CƳƜG²R¢RmfwĸgÜą G@pzJM½mhVy¸uÈÔO±¨{LfæU¶ßGĂq\\ª¬²I¥IŉÈīoıÓÑAçÑ|«LÝcspīðÍgtë_õ\\ĉñLYnĝgRǡÁiHLlõUĹ²uQjYi§Z_c¨´ĹĖÙ·ŋIaBD­R¹ȥr¯GºßK¨jWkɱOqWĳ\\a­Q\\sg_ĆǛōëp»£lğÛgSŶN®À]ÓämĹãJaz¥V}Le¤Lýo¹IsŋÅÇ^bz³tmEÁ´a¹cčecÇNĊãÁ\\č¯dNj]jZµkÓdaćå]ğĳ@ ©O{¤ĸm¢E·®«|@Xwg]Aģ±¯XǁÑǳªcwQÚŝñsÕ³ÛV_ý¥\\ů¥©¾÷w©WÕÊĩhÿÖÁRo¸V¬âDb¨hûxÊ×ǌ~Zâg|XÁnßYoº§ZÅŘv[ĭÖʃuďxcVbnUSfB¯³_TzºÎO©çMÑ~M³]µ^püµÄY~y@X~¤Z³[Èōl@®Å¼£QK·Di¡ByÿQ_´D¥hŗy^ĭÁZ]cIzýah¹MĪğPs{ò²Vw¹t³ŜË[Ñ}X\\gsF£sPAgěp×ëfYHāďÖqēŭOÏëdLü\\it^c®RÊº¶¢H°mrY£B¹čIoľu¶uI]vģSQ{UŻÅ}QÂ|Ì°ƅ¤ĩŪU ęĄÌZÒ\\v²PĔ»ƢNHĂyAmƂwVm`]ÈbH`Ì¢²ILvĜH®¤Dlt_¢JJÄämèÔDëþgºƫaʎÌrêYi~ Îİ¤NpÀA¾Ĕ¼bð÷®üszMzÖĖQdȨýv§Tè|ªHÃ¾a¸|Ð ƒwKĢx¦ivr^ÿ ¸l öæfƟĴ·PJv}n\\h¹¶v·À|\\ƁĚN´ĜçèÁz]ġ¤²¨QÒŨTIlªťØ}¼˗ƦvÄùØEÂ«FïËIqōTvāÜŏíÛßÛVj³âwGăÂíNOPìyV³ŉĖýZso§HÑiYw[ß\\X¦¥c]ÔƩÜ·«jÐqvÁ¦m^ċ±R¦΋ƈťĚgÀ»IïĨʗƮ°ƝĻþÍAƉſ±tÍEÕÞāNUÍ¡\\ſčåÒʻĘm ƭÌŹöʥëQ¤µ­ÇcƕªoIýIÉ_mkl³ăƓ¦j¡YzŇi}Msßõīʋ }ÁVm_[n}eı­Uĥ¼ªI{Î§DÓƻėojqYhĹT©oūĶ£]ďxĩǑMĝq`B´ƃ˺Чç~²ņj@¥@đ´ί}ĥtPńÇ¾V¬ufÓÉCtÓ̻¹£G³]ƖƾŎĪŪĘ̖¨ʈĢƂlɘ۪üºňUðǜȢƢż̌ȦǼĤŊɲĖÂ­Kq´ï¦ºĒǲņɾªǀÞĈĂD½ĄĎÌŗĞrôñnN¼â¾ʄľԆ|Ǆ֦ज़ȗǉ̘̭ɺƅêgV̍ʆĠ·ÌĊv|ýĖÕWĊǎÞ´õ¼cÒÒBĢ͢UĜð͒s¨ňƃLĉÕÝ@ɛƯ÷¿Ľ­ĹeȏĳëCȚDŲyê×Ŗyò¯ļcÂßYtÁƤyAã˾J@ǝrý@¤rz¸oP¹ɐÚyáHĀ[JwcVeȴÏ»ÈĖ}ƒŰŐèȭǢόĀƪÈŶë;Ñ̆ȤМľĮEŔĹŊũ~ËUă{ĻƹɁύȩþĽvĽƓÉ@ēĽɲßǐƫʾǗĒpäWÐxnsÀ^ƆwW©¦cÅ¡Ji§vúF¶¨c~c¼īeXǚ\\đ¾JwÀďksãAfÕ¦L}waoZD½Ml«]eÒÅaÉ²áo½FõÛ]ĻÒ¡wYR£¢rvÓ®y®LFLzĈôe]gx}|KK}xklL]c¦£fRtív¦PĤoH{tK"]],encodeOffsets:[[[108619,36299]],[[108589,36341]]]},properties:{cp:[103.823557,36.058039],name:"甘肃",childNum:2}},{id:"630000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@InJm"],["@@CÆ½OŃĦsΰ~Ē³¦@@Ņi±è}ШƄ˹A³r_ĞǒNĪĐw¤^ŬĵªpĺSZgrpiƼĘÔ¨C|ÍJ©Ħ»®VĲ~f\\m `UnÂ~ʌĬàöNt~ňjy¢ZiƔ¥Ąk´nl`JÊJþ©pdƖ®È£¶ìRʦźõƮËnʼėæÑƀĎ[¢VÎĂMÖÝÎF²sƊƀÎBļýƞ¯ʘƭðħ¼Jh¿ŦęΌƇ¥²Q]Č¥nuÂÏri¸¬ƪÛ^Ó¦d¥[Wàx\\ZjÒ¨GtpþYŊĕ´zUOëPîMĄÁxH´áiÜUàîÜŐĂÛSuŎrJðÌ¬EFÁú×uÃÎkrĒ{V}İ«O_ÌËĬ©ÓŧSRÑ±§Ģ£^ÂyèçěM³Ƃę{[¸¿uºµ[gt£¸OƤĿéYõ·kĀq]juw¥DĩƍõÇPéÄ½G©ã¤GuȧþRcÕĕNyyût­øï»a½ē¿BMoį£Íj}éZËqbʍƬh¹ìÿÓAçãnIÃ¡I`ks£CG­ěUy×Cy@¶ʡÊBnāzGơMē¼±O÷õJËĚăVĪũƆ£¯{ËL½ÌzżVR|ĠTbuvJvµhĻĖHAëáa­OÇðñęNwœľ·LmI±íĠĩPÉ×®ÿscB³±JKßĊ«`ađ»·QAmOVţéÿ¤¹SQt]]Çx±¯A@ĉĳ¢Óļ©l¶ÅÛrŕspãRk~¦ª]Į­´FRåd­ČsCqđéFn¿ÅƃmÉx{W©ºƝºįkÕƂƑ¸wWūÐ©ÈF£\\tÈ¥ÄRÈýÌJ lGr^×äùyÞ³fjc¨£ÂZ|ǓMĝÏ@ëÜőRĝ÷¡{aïȷPu°ËXÙ{©TmĠ}Y³­ÞIňµç½©C¡į÷¯B»|St»]vųs»}MÓ ÿʪƟǭA¡fs»PY¼c¡»¦cċ­¥£~msĉPSi^o©AecPeǵkgyUi¿h}aHĉ^|á´¡HØûÅ«ĉ®]m¡qĉ¶³ÈyôōLÁstB®wn±ă¥HSòė£Së@×œÊăxÇN©©T±ª£Ĳ¡fb®Þbb_Ą¥xu¥B{łĝ³«`dƐt¤ťiñÍUuºí`£^tƃĲc·ÛLO½sç¥Ts{ă\\_»kÏ±q©čiìĉ|ÍI¥ć¥]ª§D{ŝŖÉR_sÿc³ĪōƿÎ§p[ĉc¯bKmR¥{³Ze^wx¹dƽÅ½ôIg §Mĕ ƹĴ¿ǣÜÍ]Ý]snåA{eƭ`ǻŊĿ\\ĳŬűYÂÿ¬jĖqßb¸L«¸©@ěĀ©ê¶ìÀEH|´bRľÓ¶rÀQþvl®ÕETzÜdb hw¤{LRdcb¯ÙVgƜßzÃôì®^jUèXÎ|UäÌ»rK\\ªN¼pZCüVY¤ɃRi^rPŇTÖ}|br°qňbĚ°ªiƶGQ¾²x¦PmlŜ[Ĥ¡ΞsĦÔÏâ\\ªÚŒU\\f¢N²§x|¤§xĔsZPòʛ²SÐqF`ªVÞŜĶƨVZÌL`¢dŐIqr\\oäõFÎ·¤»Ŷ×h¹]ClÙ\\¦ďÌį¬řtTӺƙgQÇÓHţĒ´ÃbEÄlbʔC|CŮkƮ[ʼ¬ň´KŮÈΰÌĪ¶ƶlðļATUvdTGº̼ÔsÊDÔveOg"]],encodeOffsets:[[[105308,37219]],[[95370,40081]]]},properties:{cp:[101.778916,36.623178],name:"青海",childNum:2}},{id:"640000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@KëÀęĞ«Oęȿȕı]ŉ¡åįÕÔ«ǴõƪĚQÐZhv K°öqÀÑS[ÃÖHƖčËnL]ûcÙß@ĝ¾}w»»oģF¹»kÌÏ·{zP§B­¢íyÅt@@á]Yv_ssģ¼ißĻL¾ġsKD£¡N_X¸}B~HaiÅf{«x»ge_bsKF¯¡IxmELcÿZ¤­ĢÝsuBLùtYdmVtNmtOPhRw~bd¾qÐ\\âÙH\\bImlNZ»loqlVmGā§~QCw¤{A\\PKNY¯bFkC¥sks_Ã\\ă«¢ħkJi¯rrAhĹûç£CUĕĊ_ÔBixÅÙĄnªÑaM~ħpOu¥sîeQ¥¤^dkKwlL~{L~hw^ófćKyE­K­zuÔ¡qQ¤xZÑ¢^ļöÜ¾Ep±âbÊÑÆ^fk¬NC¾YpxbK~¥eÖäBlt¿Đx½I[ĒǙWf»Ĭ}d§dµùEuj¨IÆ¢¥dXªƅx¿]mtÏwßRĶX¢͎vÆzƂZò®ǢÌʆCrâºMÞzÆMÒÊÓŊZÄ¾r°Î®Ȉmª²ĈUªĚîøºĮ¦ÌĘk^FłĬhĚiĀĖ¾iİbjÕ"],["@@mfwěwMrŢªv@G"]],encodeOffsets:[[[109366,40242]],[[108600,36303]]]},properties:{cp:[106.278179,38.46637],name:"宁夏",childNum:2}},{id:"650000",type:"Feature",geometry:{type:"Polygon",coordinates:["@@QØĔ²X¨~ǘBºjʐßØvKƔX¨vĊOÃ·¢i@~cĝe_«E}QxgɪëÏÃ@sÅyXoŖ{ô«ŸuXêÎf`C¹ÂÿÐGĮÕĞXŪōŸMźÈƺQèĽôe|¿ƸJR¤ĘEjcUóº¯Ĩ_ŘÁMª÷Ð¥OéÈ¿ÖğǤǷÂFÒzÉx[]­Ĥĝœ¦EP}ûƥé¿İƷTėƫœŕƅƱB»Đ±ēO¦E}`cȺrĦáŖuÒª«ĲπdƺÏØZƴwʄ¤ĖGĐǂZĶèH¶}ÚZצʥĪï|ÇĦMŔ»İĝǈì¥Βba­¯¥ǕǚkĆŵĦɑĺƯxūД̵nơʃĽá½M»òmqóŘĝčË¾ăCćāƿÝɽ©ǱŅ¹đ¥³ðLrÁ®ɱĕģŉǻ̋ȥơŻǛȡVï¹Ň۩ûkɗġƁ§ʇė̕ĩũƽō^ƕUv£ƁQïƵkŏ½ΉÃŭÇ³LŇʻ«ƭ\\lŭD{ʓDkaFÃÄa³ŤđÔGRÈƚhSӹŚsİ«ĐË[¥ÚDkº^Øg¼ŵ¸£EÍöůŉT¡c_ËKYƧUśĵÝU_©rETÏʜ±OñtYwē¨{£¨uM³x½şL©Ùá[ÓÐĥ Νtģ¢\\śnkOw¥±T»ƷFɯàĩÞáB¹ÆÑUwŕĽw[mG½Èå~Æ÷QyěCFmĭZīŵVÁƿQƛûXS²b½KÏ½ĉS©ŷXĕ{ĕK·¥Ɨcqq©f¿]ßDõU³h­gËÇïģÉɋwk¯í}I·œbmÉřīJɥĻˁ×xoɹīlc¤³Xù]ǅA¿w͉ì¥wÇN·ÂËnƾƍdÇ§đ®ƝvUm©³G\\}µĿQyŹlăµEwǇQ½yƋBe¶ŋÀůo¥AÉw@{Gpm¿AĳŽKLh³`ñcËtW±»ÕSëüÿďDu\\wwwù³VLŕOMËGh£õP¡erÏd{ġWÁč|yšg^ğyÁzÙs`s|ÉåªÇ}m¢Ń¨`x¥ù^}Ì¥H«YªƅAÐ¹n~ź¯f¤áÀzgÇDIÔ´AňĀÒ¶ûEYospõD[{ù°]uJqU|Soċxţ[õÔĥkŋÞŭZËºóYËüċrw ÞkrťË¿XGÉbřaDü·Ē÷AÃª[ÄäIÂ®BÕĐÞ_¢āĠpÛÄȉĖġDKwbmÄNôfƫVÉviǳHQµâFù­Âœ³¦{YGd¢ĚÜO {Ö¦ÞÍÀP^bƾl[vt×ĈÍEË¨¡Đ~´î¸ùÎhuè`¸HÕŔVºwĠââWò@{ÙNÝ´ə²ȕn{¿¥{l÷eé^eďXj©î\\ªÑòÜìc\\üqÕ[Č¡xoÂċªbØ­ø|¶ȴZdÆÂońéG\\¼C°ÌÆn´nxÊOĨŪƴĸ¢¸òTxÊǪMīĞÖŲÃɎOvʦƢ~FRěò¿ġ~åŊúN¸qĘ[Ĕ¶ÂćnÒPĒÜvúĀÊbÖ{Äî¸~Ŕünp¤ÂH¾ĄYÒ©ÊfºmÔĘcDoĬMŬS¤s²ʘÚžȂVŦ èW°ªB|ĲXŔþÈJĦÆæFĚêYĂªĂ]øªŖNÞüAfɨJ¯ÎrDDĤ`mz\\§~D¬{vJÂ«lµĂb¤pŌŰNĄ¨ĊXW|ų ¿¾ɄĦƐMTòP÷fØĶK¢ȝ˔Sô¹òEð­`Ɩ½ǒÂň×äı§ĤƝ§C~¡hlåǺŦŞkâ~}FøàĲaĞfƠ¥Ŕd®U¸źXv¢aƆúŪtŠųƠjdƺƺÅìnrh\\ĺ¯äɝĦ]èpĄ¦´LƞĬ´ƤǬ˼Ēɸ¤rºǼ²¨zÌPðŀbþ¹ļD¢¹\\ĜÑŚ¶ZƄ³àjĨoâȴLÊȮĐ­ĚăÀêZǚŐ¤qȂ\\L¢ŌİfÆs|zºeªÙæ§΢{Ā´ƐÚ¬¨Ĵà²łhʺKÞºÖTiƢ¾ªì°`öøu®Ê¾ãØ"],encodeOffsets:[[88824,50096]]},properties:{cp:[87.617733,43.792818],name:"新疆",childNum:1}},{id:"110000",type:"Feature",geometry:{type:"Polygon",coordinates:["@@ĽOÁûtŷmiÍt_H»Ĩ±d`¹­{bwYr³S]§§o¹qGtm_SŧoaFLgQN_dV@Zom_ć\\ßcÂ±x¯oœRcfe£o§ËgToÛJíĔóu|wP¤XnO¢ÉŦ¯rNÄā¤zâŖÈRpŢZÚ{GrFt¦Òx§ø¹RóäV¤XdżâºWbwŚ¨Ud®bêņ¾jnŎGŃŶnzÚSeîĜZczî¾i]ÍQaúÍÔiþĩȨWĢü|Ėu[qb[swP@ÅğP¿{\\¥A¨ÏÑ¨j¯X\\¯MKpA³[Hīu}}"],encodeOffsets:[[120023,41045]]},properties:{cp:[116.405285,39.904989],name:"北京",childNum:1}},{id:"120000",type:"Feature",geometry:{type:"Polygon",coordinates:["@@ŬgX§Ü«E¶FÌ¬O_ïlÁgz±AXeµÄĵ{¶]gitgIj·¥îakS¨ÐƎk}ĕ{gBqGf{¿aU^fIư³õ{YıëNĿk©ïËZŏR§òoY×Ógcĥs¡bġ«@dekąI[nlPqCnp{ō³°`{PNdƗqSÄĻNNâyj]äÒD ĬH°Æ]~¡HO¾X}ÐxgpgWrDGpù^LrzWxZ^¨´T\\|~@IzbĤjeĊªz£®ĔvěLmV¾Ô_ÈNW~zbĬvG²ZmDM~~"],encodeOffsets:[[120237,41215]]},properties:{cp:[117.190182,39.125596],name:"天津",childNum:1}},{id:"310000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@ɧư¬EpƸÁxc"],["@@©ª"],["@@MA"],["@@QpİE§ÉC¾"],["@@bŝÕÕEȣÚƥêImɇǦèÜĠÚÃƌÃ͎ó"],["@@ǜûȬɋŭ×^sYɍDŋŽąñCG²«ªč@h_p¯A{oloY¬j@Ĳ`gQÚhr|ǀ^MĲvtbe´R¯Ô¬¨Yô¤r]ìƬį"]],encodeOffsets:[[[124702,32062]],[[124547,32200]],[[124808,31991]],[[124726,32110]],[[124903,32376]],[[124438,32149]]]},properties:{cp:[121.472644,31.231706],name:"上海",childNum:6}},{id:"500000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@vjG~nGŘŬĶȂƀƾ¹¸ØÎezĆT¸}êÐqHðqĖä¥^CÆIj²p\\_ æüY|[YxƊæu°xb®Űb@~¢NQt°¶Sæ Ê~rǉĔëĚ¢~uf`faĔJåĊnÖ]jƎćÊ@£¾a®£Ű{ŶĕFègLk{Y|¡ĜWƔtƬJÑxq±ĢN´òKLÈÃ¼D|s`ŋć]Ã`đMûƱ½~Y°ħ`ƏíW½eI½{aOIrÏ¡ĕŇapµÜƅġ^ÖÛbÙŽŏml½SêqDu[RãË»ÿw`»y¸_ĺę}÷`M¯ċfCVµqŉ÷Zgg`d½pDOÎCn^uf²ènh¼WtƏxRGg¦pVFI±G^Ic´ecGĹÞ½sëĬhxW}KÓe­XsbkF¦LØgTkïƵNï¶}Gyw\\oñ¡nmĈzj@Óc£»Wă¹Ój_m»¹·~MvÛaq»­ê\\ÂoVnÓØÍ²«bq¿efE Ĝ^Q~ Évýş¤²ĮpEİ}zcĺL½¿gÅ¡ýE¡ya£³t\\¨\\vú»¼§·Ñr_oÒý¥u_n»_At©ÞÅ±ā§IVeëY}{VPÀFA¨ąB}q@|Ou\\FmQFÝMwå}]|FmÏCawu_p¯sfÙgYDHl`{QEfNysB¦zG¸rHeN\\CvEsÐùÜ_·ÖĉsaQ¯}_UxÃđqNH¬Äd^ÝŰR¬ã°wećJE·vÝ·HgéFXjÉê`|ypxkAwWĐpb¥eOsmzwqChóUQl¥F^lafanòsrEvfQdÁUVfÎvÜ^eftET¬ôA\\¢sJnQTjPØxøK|nBzĞ»LYFDxÓvr[ehľvN¢o¾NiÂxGpâ¬zbfZo~hGi]öF||NbtOMn eA±tPTLjpYQ|SHYĀxinzDJÌg¢và¥Pg_ÇzIIII£®S¬ØsÎ¼£N"],["@@ifjN@s"]],encodeOffsets:[[[109628,30765]],[[111725,31320]]]},properties:{cp:[106.504962,29.533155],name:"重庆",childNum:2}},{id:"810000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@AlBk"],["@@mn"],["@@EpFo"],["@@ea¢pl¸Eõ¹hj[]ÔCÎ@lj¡uBX´AI¹[yDU]W`çwZkmcMpÅv}IoJlcafŃK°ä¬XJmÐ đhI®æÔtSHnEÒrÈc"],["@@rMUwAS®e"]],encodeOffsets:[[[117111,23002]],[[117072,22876]],[[117045,22887]],[[116975,23082]],[[116882,22747]]]},properties:{cp:[114.173355,22.320048],name:"香港",childNum:5}},{id:"820000",type:"Feature",geometry:{type:"Polygon",coordinates:["@@kÊd°å§s"],encodeOffsets:[[116279,22639]]},properties:{cp:[113.54909,22.198951],name:"澳门",childNum:1}}],UTF8Encoding:!0}):a("ECharts Map is not loaded"):a("ECharts is not Loaded")})},"39d6":function(e,t,a){"use strict";a.d(t,"g",function(){return n}),a.d(t,"c",function(){return s}),a.d(t,"f",function(){return r}),a.d(t,"b",function(){return o}),a.d(t,"d",function(){return l}),a.d(t,"h",function(){return d}),a.d(t,"a",function(){return c}),a.d(t,"e",function(){return u}),a.d(t,"k",function(){return m}),a.d(t,"i",function(){return p}),a.d(t,"j",function(){return f});var i=a("2ade");function n(e){return Object(i["a"])({url:"/eoms/gunHandovers/page",method:"post",data:e})}function s(e){return Object(i["a"])({url:"/eoms/carHandovers/page",method:"post",data:e})}function r(e){return Object(i["a"])({url:"/eoms/gunHandovers/count",method:"post",data:e})}function o(e){return Object(i["a"])({url:"/eoms/carHandovers/count",method:"post",data:e})}function l(e){return Object(i["a"])({url:"/eoms/carHandovers/perform",method:"post",data:e})}function d(e){return Object(i["a"])({url:"/eoms/gunHandovers/perform",method:"post",data:e})}function c(e,t){return Object(i["a"])({url:"/eoms/carHandovers/condition",method:"post",data:e,cancelToken:t})}function u(e){return Object(i["a"])({url:"/eoms/facePersonRelation/selectAll",method:"post",data:e})}function m(e){return Object(i["a"])({url:"/eoms/packageWarehouseInfo/queryPackageWarehouse",method:"post",data:e})}function p(e){return Object(i["a"])({url:"/eoms/packageWarehouseInfo/modifyPackageWarehouse",method:"post",data:e})}function f(e){return Object(i["a"])({url:"/eoms/packageWarehouseRecordInfo/queryByWarehouseId",method:"post",data:e})}},"3a14":function(e,t,a){"use strict";var i=a("3c85"),n=a.n(i);n.a},"3a71":function(e,t,a){},"3bb2":function(e,t,a){"use strict";a.d(t,"a",function(){return n});var i=a("2ade");function n(e){return Object(i["a"])({url:"/carparking/history",method:"post",data:e})}},"3c85":function(e,t,a){},4108:function(e,t,a){},4214:function(e,t,a){"use strict";(function(e){a("4f37"),a("a481"),a("34ef"),a("4f7f"),a("1c4c"),a("55dd"),a("5df3"),a("759f");var i=a("bd86"),n=(a("d25f"),a("7f7f"),a("7514"),a("ac6a"),a("f3e2"),a("cebc")),s=(a("57e7"),a("d256")),r=a("a90f"),o=a("69d9"),l=a("66e8"),d=a("cfe0"),c=void 0,u=function(e,t,a){if(t){if(!t.length)return void a(new Error("请选择编辑的排班类型期"));a()}else a(new Error("请选择编辑的排班类型"))};t["a"]={name:"schedual",components:{myUpload:d["a"]},data:function(){return{power:JSON.parse(sessionStorage.getItem("userInfo")).Power,tableKey:0,list:[],list1:[],list2:[],list3:[],list4:[],total:0,indexMethod:1,indexMethod1:1,indexMethod2:1,indexMethod3:1,listLoading:!0,listQuery:{selectDate:(new Date).setHours(0,0,0,0)},temp:{},modifyRules:{modifyReason:[{required:!0,message:"请填写修改原因",trigger:"blur"}]},pickerOptions:{disabledDate:function(e){return e.getTime()<(new Date).setHours(0,0,0)-864e5}},typeOptions:[{id:2,name:"早送"},{id:1,name:"晚收"},{id:3,name:"早送+晚收"}],typeOptions1:[{id:2,name:"修改早送排班"},{id:1,name:"修改晚收排班"}],statusOptions:[{id:1,name:"正常"},{id:2,name:"取消"}],statusOptions1:[{id:3,name:"正常"},{id:4,name:"取消"}],carOptions:[],geometryOptions:[],teamLeaderOptions:[],driverOptions:[],safetyOptions:[],businessOptions:[],additionSafetyOptions:[],addBusinessOptions:[],modifyTemp:{modifyReason:""},modifyVisible:!1,modifyData:{},addVisible:!1,addTemp:{addDate:this.formatDateTime(new Date),type:2},addRules:{addDate:[{required:!0,message:"请选择",trigger:"change"}],routeId:[{required:!0,message:"请选择",trigger:"change"}],carId:[{required:!0,message:"请选择",trigger:"change"}],leaderId:[{required:!0,message:"请选择",trigger:"change"}],driverId:[{required:!0,message:"请选择",trigger:"change"}],safetyId:[{required:!0,message:"请选择",trigger:"change"}],type:[{required:!0,message:"请选择",trigger:"change"}],status:[{required:!0,message:"请选择",trigger:"change"}]},editVisible:!1,editTemp:{},editRules:{carId:[{required:!0,message:"请选择",trigger:"change"}],leaderId:[{required:!0,message:"请选择",trigger:"change"}],safetyId:[{required:!0,message:"请选择",trigger:"change"}],businessId:[{required:!0,message:"请选择",trigger:"change"}],driverId:[{required:!0,message:"请选择",trigger:"change"}],types:[{required:!0,message:"请选择编辑的排班类型",trigger:"change",validator:u}]},showPublish:!1,groupAlllist:[],getSelectPromises:[],dateDisabled:!1,pagesize:10,currpage:1,pagesize1:10,currpage1:1,pagesize2:10,currpage2:1,pagesize3:10,currpage3:1,timer:null,fullscreenLoading:null,activeName:"first",afternoonTimeObj:{},morningTimeObj:{},addTempRepeatPersons:[],editTempRepeatPersons:[],editTempRepeatCar:null,addTempRepeatCar:null,uploadVisible:!1,importDate:""}},created:function(){this.getSelect(),this.getList()},mounted:function(){this.checkDate()},methods:{importExcel:function(){this.importDate=Object(o["d"])(this.listQuery.selectDate),this.uploadVisible=!0},reqSuccess:function(e){1==e&&this.getList()},leaderChange:function(){var e=this.findItem(this.groupAlllist,"leaderId",this.addTemp.leaderId);this.addTemp.leaderName=e.leaderName,this.addTemp.safetyId=e.safetyId,this.addTemp.safetyName=e.safetyName,this.addTemp.additionSafetyId=e.additionSafetyId,this.addTemp.additionSafetyName=e.additionSafetyName,this.addTemp.businessId=e.businessId,this.addTemp.businessName=e.businessName,this.addTemp.addBusinessId=e.addBusinessId,this.addTemp.addBusinessName=e.addBusinessName,this.addTemp.groupId=e.id,this.addTemp.groupName=e.groupName,this.addTemp.driverId=e.driverId,this.addTemp.driverName=e.driverName,this.groupFilter()},groupFilter:function(){var e=[this.addTemp.leaderId,this.addTemp.driverId,this.addTemp.safetyId,this.addTemp.businessId,this.addTemp.addBusinessId,this.addTemp.additionSafetyId],t=!1,a=!1;this.addTempRepeatPersons=[],this.addTempRepeatCar=null;for(var i=0;i<e.length;i++)this.autoPersonFilter(e[i])&&(t=!0,this.addTempRepeatPersons.push(e[i]));1==t&&this.$message.warning("与其他排班存在重复的排班人员"),this.autoCarFilter(this.addTemp.carId)&&(a=!0,this.addTempRepeatCar=this.addTemp.carId),1==a&&this.$message.warning("与其他排班存在重复的排班车辆")},addCarFilter:function(){this.autoCarFilter(this.addTemp.carId)&&(this.addTempRepeatCar=this.addTemp.carId,this.$message.warning("与其他排班存在重复的排班车辆"))},addPersonFilter:function(e){this.autoPersonFilter(e)&&(-1==this.addTempRepeatPersons.indexOf(e)&&this.addTempRepeatPersons.push(e),this.$message.warning("与其他排班存在重复的排班人员"))},typesSelectChange:function(e){-1==e.indexOf(this.editTemp.type)&&e.push(this.editTemp.type),this.editFilter(void 0,"editType"),this.editCarFilter()},formateType:function(e){var t="";switch(e){case 1:t="晚收";break;case 2:t="早送";break;case 5:t="加钞";break;case 7:t="收款";break}return t},formateStatus:function(e){var t="";switch(e){case 1:t="正常";break;case 2:t="取消";break;case 3:t="正常";break;case 4:t="取消";break}return t},handleCurrentChange:function(t){this.currpage=t,this.indexMethod=(this.currpage-1)*this.pagesize+1,e(".el-tabs__content").scrollTop(0)},handleSizeChange:function(e){this.indexMethod=(this.currpage-1)*this.pagesize+1,this.pagesize=e},handleCurrentChange1:function(t){this.currpage1=t,this.indexMethod1=(this.currpage1-1)*this.pagesize1+1,e(".el-tabs__content").scrollTop(0)},handleSizeChange1:function(e){this.indexMethod1=(this.currpage1-1)*this.pagesize1+1,this.pagesize1=e},handleCurrentChange2:function(t){this.currpage2=t,this.indexMethod2=(this.currpage2-1)*this.pagesize2+1,e(".el-tabs__content").scrollTop(0)},handleSizeChange2:function(e){this.indexMethod2=(this.currpage2-1)*this.pagesize2+1,this.pagesize2=e},handleCurrentChange3:function(t){this.currpage3=t,this.indexMethod3=(this.currpage3-1)*this.pagesize3+1,e(".el-tabs__content").scrollTop(0)},handleSizeChange3:function(e){this.indexMethod3=(this.currpage3-1)*this.pagesize3+1,this.pagesize3=e},checkDate:function(){var e,t,a,i;e=new Date,a=new Date(e.getFullYear(),e.getMonth(),e.getDate()),t=new Date(this.listQuery.selectDate),i=new Date(t.getFullYear(),t.getMonth(),t.getDate()),this.dateDisabled=i<a},formatTime:function(e){return Object(o["e"])(e)},handleCreate:function(){var e=this;this.addTemp={type:2,carId:null,leaderId:null,driverId:null,safetyId:null,additionSafetyId:null,businessId:null,addBusinessId:null},this.addVisible=!0,this.$nextTick(function(){e.$refs["addForm"].clearValidate()})},createData:function(){var e=this;this.$refs["addForm"].validate(function(t){if(!t)return!1;e.addOrEdit(e.addTemp,1)})},handleEdit:function(e){var t=this;this.editVisible=!0,this.editTemp=Object(n["a"])({},e,{types:[e.type]}),this.editTempRepeatPersons=[];var a=[e.leaderId,e.driverId,e.safetyId,e.businessId,e.addBusinessId,e.additionSafetyId];a.forEach(function(a,i){a&&-1!=a&&e[e.id+"-"+a]&&t.editTempRepeatPersons.push(a)}),e.carId&&e[e.id+"car"+e.carId]&&(this.editTempRepeatCar=e.carId)},editData:function(){var e=this;this.$refs["editForm"].validate(function(t){if(!t)return!1;e.addOrEdit(e.editTemp,2)})},saveSubmit:function(e,t){"delete"==t&&(1==e.status?e.status=2:3==e.status&&(e.status=4)),this.addOrEdit(e,2)},findItem:function(e,t,a){var i={};return i=e.find(function(e){return e[t]===a}),void 0==i&&(i={}),i},addOrEdit:function(e,t){var a=this,i=Object(n["a"])({},e);if(1==t){var r=new Date(this.listQuery.selectDate);if(i.planYear=r.getFullYear(),i.planMonth=r.getMonth()+1,i.planDay=r.getDate(),i.status=3,i.routeName=this.findItem(this.geometryOptions,"id",i.routeId).name,i.driverName=this.findItem(this.driverOptions,"id",i.driverId).name,i.safetyName=this.findItem(this.safetyOptions,"id",i.safetyId).name,null==i.additionSafetyId?i.additionSafetyName=null:i.additionSafetyName=this.findItem(this.safetyOptions,"id",i.additionSafetyId).name,null==i.businessId?i.businessName=null:i.businessName=this.findItem(this.businessOptions,"id",i.businessId).name,null==i.addBusinessId?i.addBusinessName=null:i.addBusinessName=this.findItem(this.businessOptions,"id",i.addBusinessId).name,!i.leaderName)return void this.$message.warning("该车组长未绑定车组,请绑定后再选择该车组长");var o=this.findItem(this.carOptions,"id",i.carId);i.carLicenseNo=o.licenseNo}if(void 0!=i.safetyId)if(void 0!=i.driverId){c=1==t?this.$loading({target:"#mydialog1 .el-dialog"}):this.$loading({target:"#mydialog2 .el-dialog"});var l,d=Object(n["a"])({},i);if(delete d.addDate,1==t)l=s["e"];else if(2==t)if(l=s["I"],2==d.status||4==d.status){var u=Object(n["a"])({},d);d=[u]}else d=this.list1.concat(this.list2).filter(function(e,t){var n=!1,s=i.routeId==e.routeId&&a.editTemp.types.indexOf(e.type)>=0&&i.status==e.status&&e.status%2!=0&&a.editTemp.planYear==e.planYear&&a.editTemp.planMonth==e.planMonth&&a.editTemp.planDay==e.planDay;return e.idIdentify==a.editTemp.idIdentify?n=!0:e.type!==a.editTemp.type&&s&&(n=!0),n}),d.forEach(function(e){e.carId=i.carId,e.carLicenseNo=i.carLicenseNo,e.leaderId=i.leaderId,e.leaderName=i.leaderName,e.safetyId=i.safetyId,e.safetyName=i.safetyName,e.additionSafetyId=i.additionSafetyId,e.additionSafetyName=i.additionSafetyName,e.businessId=i.businessId,e.businessName=i.businessName,e.addBusinessId=i.addBusinessId,e.addBusinessName=i.addBusinessName,e.driverId=i.driverId,e.driverName=i.driverName});l(d).then(function(e){0==e.status?(1==t&&(a.addVisible=!1),2==t&&(a.editVisible=!1),a.getSelect(),a.getList(),a.$message.success(e.msg)):a.$message.error(e.msg)}).finally(function(){m()})}else this.$message.warning("该车组未绑定司机");else this.$message.warning("该车组长对应车组未绑定押运员1");function m(){c.close()}},handlePublish:function(){var e=this;this.fullscreenLoading=this.$loading({lock:!0,text:"稍等哦，发布排班中，请勿做任何操作！",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),this.timer&&clearTimeout(this.timer),this.showPublish=!1,Object(s["s"])({dates:[this.listQuery.selectDate]}).then(function(t){0==t.status?e.queryGenerate(t.data):e.$message.error(t.msg)}).catch(function(){e.fullscreenLoading.close()}).finally(function(){})},queryGenerate:function(e){var t=this,a=this;Object(s["A"])({uuid:e}).then(function(i){0==i.status?0==i.data.success?(t.timer&&clearInterval(t.timer),t.timer=setInterval(function(){a.queryGenerate(e)},1e4)):1==i.data.success?(i.data.msg,t.getSelect(),t.getList(),t.timer&&clearInterval(t.timer),t.$message.success("操作成功"),t.fullscreenLoading.close()):2==i.data.success&&(i.data.msg,t.timer&&clearInterval(t.timer),t.$message.error("操作失败"),t.fullscreenLoading.close()):t.$message.error(i.msg)}).catch(function(e){t.timer&&clearInterval(t.timer),t.fullscreenLoading.close()})},gotask:function(e){sessionStorage.schedule="schedule",sessionStorage.schedulingId=e.idIdentify,sessionStorage.schedulingDate=e.planYear+"_"+e.planMonth+"_"+e.planDay,sessionStorage.time=this.listQuery.selectDate,sessionStorage.schedulePublish=e.publish,this.$router.push("/schedualManagement/schedual/task")},selectChange:function(e,t){if("car"==t){this.editCarFilter();for(var a=0;a<this.carOptions.length;a++)this.carOptions[a].id==e.carId&&(e.carLicenseNo=this.carOptions[a].licenseNo)}else if("group"==t){this.editFilter(e.leaderId);for(var i=0;i<this.teamLeaderOptions.length;i++)this.teamLeaderOptions[i].id==e.leaderId&&(e.leaderName=this.teamLeaderOptions[i].name)}else if("driver"==t){this.editFilter(e.driverId);for(var n=0;n<this.driverOptions.length;n++)this.driverOptions[n].id==e.driverId&&(e.driverName=this.driverOptions[n].name)}else if("safety"==t){this.editFilter(e.safetyId);for(var s=0;s<this.safetyOptions.length;s++)this.safetyOptions[s].id==e.safetyId&&(e.safetyName=this.safetyOptions[s].name)}else if("business"==t){this.editFilter(e.businessId);for(var r=0;r<this.businessOptions.length;r++)this.businessOptions[r].id==e.businessId&&(null==this.businessOptions[r].id?e.businessName=null:e.businessName=this.businessOptions[r].name)}else if("additionSafety"==t){this.editFilter(e.additionSafetyId);for(var o=0;o<this.safetyOptions.length;o++)this.safetyOptions[o].id==e.additionSafetyId&&(null==this.safetyOptions[o].id?e.additionSafetyName=null:e.additionSafetyName=this.safetyOptions[o].name)}else if("addBusiness"==t){this.editFilter(e.addBusinessId);for(var l=0;l<this.businessOptions.length;l++)this.businessOptions[l].id==e.addBusinessId&&(null==this.businessOptions[l].id?e.addBusinessName=null:e.addBusinessName=this.businessOptions[l].name)}},handleSelectOptions:function(e,t,a,n,s){for(var r,o=!1,l=0;l<e.length;l++)if(e[l][n]==t)return void(o=!0);!1===o&&(null!==t&&e.unshift((r={},Object(i["a"])(r,n,t),Object(i["a"])(r,s,a),Object(i["a"])(r,"remove",!0),r)))},judgeRemoveIn:function(e,t){var a=!1;e.some(function(e){e.id===t&&!0===e.remove&&(a=!0)});return a},dateChange:function(e){this.checkDate(),this.handleFilter()},formatDateTime:function(e){var t=e.getFullYear(),a=e.getMonth()+1,i=e.getDate(),n=(e.getHours(),e.getMinutes());return n=n<10?"0"+n:n,t+"_"+a+"_"+i},getList:function(){var e=this,t=this;this.listLoading=!0,this.showPublish=!1,Object(s["u"])({times:[this.listQuery.selectDate]}).then(function(a){if(0==a.status){if(t.list=[],t.list1=[],t.list2=[],t.list3=[],t.list4=[],a.data){for(var i in a.data){for(var n=function(n){var s=a.data[i][n];a.data[i][n].sortDate=parseInt(i),2!=a.data[i][n].status&&4!=a.data[i][n].status||(a.data[i][n].statusDisabled=!0),Promise.all(e.getSelectPromises).then(function(){t.handleSelectOptions(t.carOptions,s.carId,s.carLicenseNo,"id","licenseNo"),t.handleSelectOptions(t.teamLeaderOptions,s.leaderId,s.leaderName,"id","name"),t.handleSelectOptions(t.driverOptions,s.driverId,s.driverName,"id","name"),t.handleSelectOptions(t.safetyOptions,s.safetyId,s.safetyName,"id","name"),t.handleSelectOptions(t.businessOptions,s.businessId,s.businessName,"id","name"),t.handleSelectOptions(t.safetyOptions,s.additionSafetyId,s.additionSafetyName,"id","name"),t.handleSelectOptions(t.businessOptions,s.addBusinessId,s.addBusinessName,"id","name")})},s=0;s<a.data[i].length;s++)n(s);t.list=t.list.concat(a.data[i])}if(t.sortByRouteName(t.list),t.list.sort(function(e,t){return e.status%2==0&&t.status%2!=0?1:e.status%2!=0&&t.status%2==0?-1:0}),t.list=t.sortType(t.list),t.getRepeatIds(),t.getCarRepeatIds(),t.list.length){t.showPublish=!1;for(var r=0;r<t.list.length;r++)if(0==t.list[r].publish&&(1==t.list[r].status||3==t.list[r].status)){t.showPublish=!0;break}}else t.showPublish=!1;for(var o=0;o<t.list.length;o++)1==t.list[o].type?t.list2.push(t.list[o]):2==t.list[o].type?t.list1.push(t.list[o]):5==t.list[o].type?t.list3.push(t.list[o]):7==t.list[o].type&&t.list4.push(t.list[o])}}else e.$message.error(a.msg)}).finally(function(){t.listLoading=!1})},sortType:function(e){for(var t=[],a=[],i=[],n=0;n<e.length;n++)1==e[n].type?t.push(e[n]):2==e[n].type?a.push(e[n]):i.push(e[n]);return[].concat(a,t,i)},getSelect:function(){var e=this,t=this,a=new Promise(function(a,i){Object(l["a"])({status:1}).then(function(i){if(0==i.status){if(null==i.data)return;t.carOptions=i.data}else null==i.data&&(e.carOptions=[],e.carOptions.pop()),e.$message.error(i.msg);a()})}),i=new Promise(function(a,i){Object(l["f"])().then(function(i){if(0==i.status){if(null==i.data)return;t.geometryOptions=i.data,i.data.forEach(function(t,a){e.afternoonTimeObj[t.id]=t.afternoonTime,e.morningTimeObj[t.id]=t.morningTime})}else null==i.data&&(e.geometryOptions=[]),e.$message.error(i.msg);a()})}),n=new Promise(function(a,i){Object(l["i"])({workTypes:[1,2,3,4],statusList:[0,2]}).then(function(i){if(0==i.status){if(null==i.data)return;t.teamLeaderOptions=i.data}else null==i.data&&(e.teamLeaderOptions=[]),e.$message.error(i.msg);a()})}),s=new Promise(function(a,i){Object(l["g"])({work:1,status:1}).then(function(i){if(0==i.status){if(null==i.data)return;t.driverOptions=i.data}else null==i.data&&(e.driverOptions=[]),e.$message.error(i.msg);a()})}),o=new Promise(function(a,i){Object(l["g"])({work:3,status:1}).then(function(a){if(0==a.status){if(null==a.data)return;t.safetyOptions=a.data,t.safetyOptions.unshift({id:null,name:"请选择"})}else null==a.data&&(e.safetyOptions=[],t.safetyOptions.unshift({id:null,name:"请选择"})),e.$message.error(a.msg)}),a()}),d=new Promise(function(a,i){Object(l["g"])({work:4,status:1}).then(function(i){if(0==i.status){if(null==i.data)return;t.businessOptions=i.data,t.businessOptions.unshift({id:null,name:"请选择"})}else null==i.data&&(e.businessOptions=[],t.businessOptions.unshift({id:null,name:"请选择"})),e.$message.error(i.msg);a()})}),c=new Promise(function(t,a){Object(r["c"])({status:2}).then(function(a){if(0==a.status){a.data||(a.data=[]);for(var i=a.data,n=i.length-1;n>=0;n--)0==i[n].status&&i.splice(n,1);e.groupAlllist=i}else e.$message.error(a.msg);t()})});this.getSelectPromises=[a,i,n,s,o,d,c]},handleFilter:function(){this.currpage=1,this.currpage1=1,this.getSelect(),this.getList()},autoPersonFilter:function(e,t){var a=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3?arguments[3]:void 0;if(!e)return!1;var s=this.list.filter(function(s,r){return s.idIdentify!=t&&-1==i.indexOf(s.idIdentify)&&(s.type==n&&t||(3==a.addTemp.type||a.addTemp.type==s.type)&&!t)&&s.status%2!=0&&(e==s.addBusinessId||e==s.additionSafetyId||e==s.businessId||e==s.driverId||e==s.leaderId||e==s.safetyId)}),r=!1;return s.length&&(r=!0),r},editFilter:function(e,t){var a=this;if(e||t){e||(this.editTempRepeatPersons=[]);var i=[],n=[],s=!1;i=this.list.filter(function(e,t){var i=!1,s=a.editTemp.routeId==e.routeId&&a.editTemp.types.indexOf(e.type)>=0&&a.editTemp.status==e.status&&e.status%2!=0&&a.editTemp.planYear==e.planYear&&a.editTemp.planMonth==e.planMonth&&a.editTemp.planDay==e.planDay;return e.idIdentify==a.editTemp.idIdentify?i=!0:e.type!=a.editTemp.type&&s&&(i=!0),1==i&&n.push(e.idIdentify),i});for(var r=0;r<i.length;r++)for(var o=i[r],l=e?[e]:[this.editTemp.leaderId,this.editTemp.driverId,this.editTemp.safetyId,this.editTemp.businessId,this.editTemp.addBusinessId,this.editTemp.additionSafetyId],d=0;d<l.length;d++)this.autoPersonFilter(l[d],o.idIdentify,n,o.type)&&(s=!0,-1==this.editTempRepeatPersons.indexOf(l[d])&&this.editTempRepeatPersons.push(l[d]));1==s&&this.$message.warning("与其他排班存在重复的排班人员")}},autoCarFilter:function(e,t){var a=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3?arguments[3]:void 0;if(!e)return!1;var s=this.list.filter(function(s,r){return s.idIdentify!=t&&-1==i.indexOf(s.idIdentify)&&(s.type==n&&t||(3==a.addTemp.type||a.addTemp.type==s.type)&&!t)&&s.status%2!=0&&e==s.carId}),r=!1;return s.length&&(r=!0),r},editCarFilter:function(){var e=this,t=this.editTemp.carId;if(this.editTempRepeatCar=null,t){var a=[],i=[],n=!1;a=this.list.filter(function(t,a){var n=!1,s=e.editTemp.routeId==t.routeId&&e.editTemp.types.indexOf(t.type)>=0&&e.editTemp.status==t.status&&t.status%2!=0&&e.editTemp.planYear==t.planYear&&e.editTemp.planMonth==t.planMonth&&e.editTemp.planDay==t.planDay;return t.idIdentify==e.editTemp.idIdentify?n=!0:t.type!=e.editTemp.type&&s&&(n=!0),1==n&&i.push(t.idIdentify),n});for(var s=0;s<a.length;s++){var r=a[s];this.autoCarFilter(t,r.idIdentify,i,r.type)&&(n=!0,this.editTempRepeatCar!==t&&(this.editTempRepeatCar=t))}1==n&&this.$message.warning("与其他排班存在重复的排班车辆")}},getRepeatIds:function(){var e=this;this.list.forEach(function(t,a){if(t.status%2!=0){var i=Array.from(new Set([t.leaderId,t.driverId,t.safetyId,t.businessId,t.addBusinessId,t.additionSafetyId]));i.forEach(function(e,t){e&&n(e)})}function n(a){for(var i=0;i<e.list.length;i++)t.idIdentify==e.list[i].idIdentify||t.type!=e.list[i].type||e.list[i].status%2===0||a!=e.list[i].addBusinessId&&a!=e.list[i].additionSafetyId&&a!=e.list[i].businessId&&a!=e.list[i].driverId&&a!=e.list[i].leaderId&&a!=e.list[i].safetyId||(t[t.id+"-"+a]=!0)}})},getCarRepeatIds:function(){var e=this;this.list.forEach(function(t,a){if(t.status%2!=0){var i=t.carId;n(i)}function n(a){for(var i=0;i<e.list.length;i++)t.idIdentify!=e.list[i].idIdentify&&t.type==e.list[i].type&&e.list[i].status%2!==0&&a==e.list[i].carId&&(t[t.id+"car"+a]=!0)}})},resetTemp:function(){this.temp={}},tableRowClassName:function(e){e.row;var t=e.rowIndex;return t%2==0?"color-row":t%2==1?"noColor-row":""},exportExcel:function(){var e=this;Object(l["b"])({excelType:19,title:"实际排班表",times:[new Date(this.listQuery.selectDate).getTime()]}).then(function(t){try{var a=new TextDecoder("utf-8"),i=JSON.parse(a.decode(new Uint8Array(t)));e.$message({message:i.msg,type:"warning"})}catch(o){t.headers;var n="实际排班.xls",s=new Blob([t],{type:"application/excel"}),r=document.createElement("a");r.href=window.URL.createObjectURL(s),r.download=n,r.click(),r.remove()}})},sortByRouteName:function(e){var t=this;e.forEach(function(e,t){e.routeName=e.routeName.replace("\t",""),e.routeName=e.routeName.trim()}),e.sort(function(e,a){return t.sortDevName(e.routeName,a.routeName)})},sortDevName:function(e,t){for(var a=0,i=0;i<Math.max(e.length,t.length);i++){var n=e[i]||"",s=this.getChartType(n),r=t[i]||"",o=this.getChartType(r);if(s[0]===o[0]){if(n===r)continue;a="zh"===s[0]?n.localeCompare(r):"en"===s[0]?n.charCodeAt(0)-r.charCodeAt(0):(s[0],n-r);break}a=s[1]-o[1];break}return a},getChartType:function(e){return/^[\u4E00-\u9FA5]+$/.test(e)?["zh",300]:/^[a-zA-Z]$/.test(e)?["en",200]:/^[0-9]$/.test(e)?["number",100]:["others",999]},getMaxStrLength:function(e){return e.sort(function(e,t){return t.routeName.length-e.routeName.length})[0].routeName.length},sortName:function(e){e.forEach(function(e,t){e.routeName=e.routeName.replace("\t",""),e.routeName=e.routeName.trim()});for(var t=this.getMaxStrLength(e),a=function(t){e.sort(function(e,a){var i=e.routeName.substr(0,t+1),n=a.routeName.substr(0,t+1);if(i!==n)return 1})},i=0;i<t;i++)a(i)}}}}).call(this,a("1157"))},4250:function(e,t,a){"use strict";var i=a("1af9"),n=a.n(i);n.a},43194:function(e,t,a){"use strict";var i=a("b9c9"),n=a.n(i);n.a},4503:function(e,t,a){},"4c64":function(e,t,a){"use strict";var i=a("5c7f"),n=a.n(i);n.a},"59b3":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container",attrs:{id:"networkHandoverRecord"}},[a("div",{staticClass:"multidevice filter-container"},[a("div",{staticClass:"selectBox"},[a("el-form",{ref:"mdForm",staticClass:"mdElForm",attrs:{inline:!0,rules:e.mdRule,model:e.mdForm,"label-width":"80px"}},[a("el-form-item",{attrs:{prop:"destinationId"}},[a("el-select",{staticClass:"filter-item",attrs:{placeholder:"按网点搜索"},model:{value:e.mdForm.destinationId,callback:function(t){e.$set(e.mdForm,"destinationId",t)},expression:"mdForm.destinationId"}},e._l(e.networkOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),a("el-input",{staticClass:"filter-item",attrs:{placeholder:"按库包名称搜索"},model:{value:e.mdForm.packageName,callback:function(t){e.$set(e.mdForm,"packageName",t)},expression:"mdForm.packageName"}}),a("el-form-item",{attrs:{prop:"searchDate"}},[a("el-date-picker",{attrs:{type:"daterange",placeholder:"选择日期",clearable:!1,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.mdForm.searchDate,callback:function(t){e.$set(e.mdForm,"searchDate",t)},expression:"mdForm.searchDate"}})],1),a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v("搜索")]),a("el-button",{staticClass:"filter-item filter-item-btn",attrs:{type:"primary",icon:"iconfont icondaochu",loading:e.exportLoading},on:{click:e.exportExcel}},[e._v("导出")])],1)],1)]),a("div",{staticClass:"tableBox"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,fit:"","highlight-current-row":"","row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{label:"序号",prop:"id",fixed:"",sortable:"custom",align:"center",width:"80",type:"index",index:e.indexMethod}}),a("el-table-column",{attrs:{label:"网点","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.destinationName))])]}}])}),a("el-table-column",{attrs:{label:"库包名称","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.packageName))])]}}])}),a("el-table-column",{attrs:{label:"所属银行","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.parentBankName))])]}}])}),a("el-table-column",{attrs:{label:"交接类型","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(3==t.row.inOutType?"入网点":"出网点"))])]}}])}),a("el-table-column",{attrs:{label:"交接时间","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.recordTime))])]}}])})],1)],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.page,limit:e.listQuery.limit,layout:"prev, pager, next, sizes, total, jumper"},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"limit",t)},pagination:e.getList}})],1)},n=[],s=(a("34ef"),a("2caf"),a("ac6a"),a("f3e2"),a("333d")),r=a("01fc"),o=a("69d9"),l=a("66e8"),d=a("bc33"),c={name:"networkHandoverRecord",components:{Pagination:s["a"]},data:function(){return{power:JSON.parse(sessionStorage.getItem("userInfo")).Power,bankerId:JSON.parse(sessionStorage.getItem("userInfo")).PersonId,tableKey:0,list:null,total:0,indexMethod:1,listLoading:!1,listQuery:{page:1,limit:10},mdForm:{searchDate:[new Date,new Date],packageName:"",destinationId:null},mdRule:{searchDate:[{trigger:"change",message:"请选择时间",required:!0}]},exportLoading:!1,networkOptions:[]}},created:function(){this.getSelect(),this.getList()},methods:{handleFilter:function(){this.listQuery.page=1,this.getList()},getSelect:function(){var e=this,t=this;Object(d["b"])({type:-1}).then(function(a){if(0==a.status){if(null===a.data.records)return void(t.networkOptions=[{id:null,name:"请选择"}]);t.networkOptions=a.data,t.networkOptions.unshift({id:null,name:"请选择"})}else null==a.data&&(e.networkOptions=[]),e.$message.error(a.msg)})},formatDate:o["d"],formatDate1:function(e){return e?Object(o["d"])(e,1):"--"},getList:function(){var e=this;this.listLoading=!0;var t={current:this.listQuery.page,limit:this.listQuery.limit,packageName:this.mdForm.packageName,startTime:this.formatDate(this.mdForm.searchDate[0])+" 00:00:00",endTime:this.formatDate(this.mdForm.searchDate[1])+" 00:00:00",recordType:2};this.mdForm.destinationId&&(t.pointId=this.mdForm.destinationId),Object(r["a"])(t).then(function(t){if(0==t.status){e.list=t.data.data,e.total=t.data.count;var a=[];e.list.forEach(function(e,t){a.push(e.taskId)}),Array.isArray(e.list)&&e.list.length,e.indexMethod=(e.listQuery.page-1)*e.listQuery.limit+1}}).finally(function(){e.listLoading=!1})},queryTasksByTasks:function(e){var t=this;Object(l["h"])({ids:e}).then(function(e){if(0==e.status)for(var a=0;a<t.list.length;a++){t.list[a].idIdentify;for(var i=0;i<e.data.length;i++)if(e.data[i].id==t.list[a].taskId){var n="";1==e.data[i].type?n="出网点":2==e.data[i].type&&(n="入网点"),t.$set(t.list[a],"pacTypeText",n)}}}).catch(function(){})},tableRowClassName:function(e){e.row;var t=e.rowIndex;return t%2==0?"color-row":t%2==1?"noColor-row":""},exportExcel:function(){var e=this,t=this;t.$refs["mdForm"].validate(function(a){if(a){e.exportLoading=!0;var i={excelType:34,power:t.power,title:"网点交接记录表",startDate:e.formatDate(e.mdForm.searchDate[0])+" 00:00:00",endDate:e.formatDate(e.mdForm.searchDate[1])+" 00:00:00",personId:e.bankerId,packageName:e.mdForm.packageName,recordType:2};e.mdForm.destinationId&&(i.destinationId=e.mdForm.destinationId),Object(l["b"])(i).then(function(t){try{var a=new TextDecoder("utf-8"),i=JSON.parse(a.decode(new Uint8Array(t)));e.$message({message:i.msg,type:"warning"})}catch(o){t.headers;var n="网点交接记录表.xls",s=new Blob([t],{type:"application/excel"}),r=document.createElement("a");r.href=window.URL.createObjectURL(s),r.download=n,r.click(),r.remove()}}).finally(function(){e.exportLoading=!1})}})}}},u=c,m=(a("7741"),a("2877")),p=Object(m["a"])(u,i,n,!1,null,null,null);t["default"]=p.exports},"5a50":function(e,t,a){"use strict";(function(e){a("4f37"),a("34ef"),a("759f"),a("55dd"),a("6d67"),a("4f7f"),a("5df3"),a("1c4c"),a("d25f"),a("28a5"),a("7f7f"),a("7514"),a("ac6a"),a("f3e2");var i=a("cebc"),n=(a("57e7"),a("a481"),a("bd86")),s=a("333d"),r=a("d256"),o=a("a90f"),l=a("69d9"),d=a("66e8"),c=void 0,u=function(e,t,a){-1==t?a(new Error("请选择")):a()},m=function(e,t,a){if(t){if(!t.length)return void a(new Error("请选择编辑日期"));a()}else a(new Error("请选择编辑日期"))},p=function(e,t,a){if(t){if(!t.length)return void a(new Error("请选择编辑的排班类型期"));a()}else a(new Error("请选择编辑的排班类型"))};t["a"]={name:"schedualChild",components:{Pagination:s["a"]},data:function(){var e,t=this;return e={power:JSON.parse(sessionStorage.getItem("userInfo")).Power,tableKey:0,tableForm:{list:[]},total:0,indexMethod:1,listLoading:!0,listQuery:{selectDate:new Date},temp:{},dialogStatus:"",textMap:{update:"编辑",create:"添加"},carOptions:[{id:-1,licenseNo:"请选择"}],geometryOptions:[{id:-1,name:"请选择"}],typeOptions:[{id:2,name:"修改早送排班"},{id:1,name:"修改晚收排班"}],statusOptions:[{id:1,name:"正常"},{id:2,name:"取消"}],statusOptions1:[{id:3,name:"正常"},{id:4,name:"取消"}],statusOptions2:[{id:5,name:"正常"},{id:6,name:"取消"}],teamLeaderOptions:[{id:-1,name:"请选择"}],rules:{teamName:[{required:!0,message:"请填写大队名称",trigger:"blur"}],status:[{required:!0,message:"请选择大队状态",trigger:"change"}]},listRules:{routeId:[{required:!0,message:"请选择排班信息",trigger:"change",validator:u}],type:[{required:!0,message:"请选择排班信息",trigger:"change",validator:u}],carId:[{required:!0,message:"请选择排班信息",trigger:"change",validator:u}],leaderId:[{required:!0,message:"请选择排班信息",trigger:"change",validator:u}],driverName:[{required:!0,message:"请选择排班信息",trigger:"blur"}],businessName:[{required:!0,message:"请选择排班信息",trigger:"blur"}],safetyName:[{required:!0,message:"请选择排班信息",trigger:"blur"}]},modifyRules:{modifyReason:[{required:!0,message:"请填写修改原因",trigger:"blur"}]},addRules:{addDate:[{required:!0,message:"请选择",trigger:"change"}],routeId:[{required:!0,message:"请选择",trigger:"change"}],carId:[{required:!0,message:"请选择",trigger:"change"}],leaderId:[{required:!0,message:"请选择",trigger:"change"}],type:[{required:!0,message:"请选择",trigger:"change"}],status:[{required:!0,message:"请选择",trigger:"change"}]},editVisible:!1,editTemp:{modifyDates:[],types:[]},editRules:{carId:[{required:!0,message:"请选择",trigger:"change"}],leaderId:[{required:!0,message:"请选择",trigger:"change"}],modifyDates:[{required:!0,message:"请选择编辑日期",trigger:"change",validator:m}],types:[{required:!0,message:"请选择编辑的排班类型",trigger:"change",validator:p}]},pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}],disabledDate:function(e){return e.getTime()>(new Date).getTime()}},pickerOptions1:{disabledDate:function(e){return e.getTime()<t.startTimeTimestamps||e.getTime()>t.startTimeTimestamps+5184e5}},modifyTemp:{modifyReason:""},modifyVisible:!1,modifyData:{},timer:null,addVisible:!1,addTemp:{addDate:this.formatDateTime(new Date)},showGenerate:!1,showPublish:!1,dateArr:[],filteredValue:[],typeArr:[{text:"早送",value:2},{text:"晚收",value:1}],filteredTypeValue:[],fullscreenLoading:null,addVisible1:!1,addTemp1:{},addRules1:{},getSelectPromises:[],dateDisabled:!1,hasNormalSchedule:!1},Object(n["a"])(e,"addRules1",{dates:[{required:!0,message:"请选择",trigger:"change"}],templateDate:[{required:!0,message:"请选择",trigger:"change"}]}),Object(n["a"])(e,"pagesize",5),Object(n["a"])(e,"currpage",1),Object(n["a"])(e,"editTempRepeatPersons",[]),Object(n["a"])(e,"editTempRepeatCar",null),e},computed:{startTimeTimestamps:function(){return new Date(this.getFirstDayOfWeek(this.listQuery.selectDate).replace(/_/g,"/")).getTime()}},created:function(){this.getList(),this.getSelect()},mounted:function(){this.checkDate()},methods:{typesSelectChange:function(e){-1==e.indexOf(this.editTemp.type)&&e.push(this.editTemp.type),this.editFilter(),this.editCarFilter()},modifyDatesSelectChange:function(e){-1==e.indexOf(this.editTemp.sortDate)&&e.push(this.editTemp.sortDate),this.editFilter()},handleFilterChange:function(e){this.filteredValue=e.sortDate,this.filteredTypeValue=e.type},handleCurrentChange:function(t){this.currpage=t,e(".el-tabs__content").scrollTop(0)},handleSizeChange:function(e){this.pagesize=e},formateType:function(e){var t="";switch(e){case 1:t="晚收";break;case 2:t="早送";break;case 5:t="加钞";break;case 7:t="收款";break}return t},formateStatus:function(e){var t="";switch(e){case 1:t="正常";break;case 2:t="取消";break;case 3:t="正常";break;case 4:t="取消";break}return t},leaderChange:function(e){var t=this.findItem(this.groupAlllist,"leaderId",e.leaderId);e.leaderName=t.leaderName,e.safetyId=t.safetyId,e.safetyName=t.safetyName,e.additionSafetyId=t.additionSafetyId,e.additionSafetyName=t.additionSafetyName,e.businessId=t.businessId,e.businessName=t.businessName,e.addBusinessId=t.addBusinessId,e.addBusinessName=t.addBusinessName,e.groupId=t.id,e.groupName=t.groupName,e.driverId=t.driverId,e.driverName=t.driverName,this.editFilter()},isSameWeek:function(e,t){var a=864e5,i=parseInt(e.getTime()/a),n=parseInt(t.getTime()/a);if(parseInt((i+4)/7)<parseInt((n+4)/7))return!0},checkDate:function(){var e=new Date,t=this.listQuery.selectDate;this.isSameWeek(t,e)?this.dateDisabled=!0:this.dateDisabled=!1},changegToGetList:function(e){this.checkDate(),this.getList()},filterTag:function(e,t){return t.sortDate===e},filterTypeTag:function(e,t){return t.type===e},formatTime:function(e){return Object(l["e"])(e)},handleCreate:function(){var e=this;this.addTemp={},this.dialogStatus="create",this.addVisible=!0,this.$nextTick(function(){e.$refs["addForm"].clearValidate()})},handleGenerate:function(){this.fullscreenLoading=this.$loading({lock:!0,text:"稍等哦，自动排班中，请勿做任何操作！",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),this.timer&&clearInterval(this.timer),this.generateSchdule()},handleScehduling:function(){this.addTemp1={},this.addVisible1=!0},generateSchdule:function(){var e=this;Object(r["l"])({startTime:new Date(this.getFirstDayOfWeek(this.listQuery.selectDate).replace(/_/g,"/")).getTime(),days:7,range:7}).then(function(t){0==t.status?e.queryGenerate(t.data):e.$message.error(t.msg)}).catch(function(t){e.fullscreenLoading.close()})},publishSchdule:function(){var e=this;Object(r["t"])({dates:this.formatDates(this.listQuery.selectDate)}).then(function(t){0==t.status?e.queryGenerate(t.data):e.$message.error(t.msg)}).catch(function(t){e.fullscreenLoading.close()})},queryGenerate:function(e){var t=this,a=this;Object(r["A"])({uuid:e}).then(function(i){0==i.status?0==i.data.success?(t.timer&&clearInterval(t.timer),t.timer=setInterval(function(){a.queryGenerate(e)},1e4)):1==i.data.success?(i.data.msg,t.getList(!0),t.timer&&clearInterval(t.timer),t.$message.success("操作成功"),t.fullscreenLoading.close()):2==i.data.success&&(i.data.msg,t.timer&&clearInterval(t.timer),t.$message.error("操作失败"),t.fullscreenLoading.close()):t.$message.error(i.msg)}).catch(function(e){t.timer&&clearInterval(t.timer),t.fullscreenLoading.close()})},formatDateTime:function(e){var t=e.getFullYear(),a=e.getMonth()+1,i=e.getDate(),n=(e.getHours(),e.getMinutes());return n=n<10?"0"+n:n,t+"_"+a+"_"+i},gotask:function(e){sessionStorage.schedule="schedualChild",sessionStorage.schedulingId=e.idIdentify,sessionStorage.schedulingDate=e.planYear+"_"+e.planMonth+"_"+e.planDay,sessionStorage.time=this.listQuery.selectDate,sessionStorage.schedulePublish=e.publish,this.$router.push("/schedualManagement/schedualChild/task")},open:function(){var e=this;this.timer&&clearInterval(this.timer),this.$confirm("此操作审核通过后将不能再修改预排班","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.fullscreenLoading=e.$loading({lock:!0,text:"稍等哦，排班发布中，请勿做任何操作！",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),e.publishSchdule()})},createData:function(){var e=this;this.$refs["addForm"].validate(function(t){if(!t)return!1;e.addOrEdit(e.addTemp,1)})},handleEdit:function(e){var t=this;this.editVisible=!0,this.editTemp=Object(i["a"])({},e,{modifyDates:[e.sortDate],types:[e.type]}),this.editTempRepeatPersons=[];var a=[e.leaderId,e.driverId,e.safetyId,e.businessId,e.addBusinessId,e.additionSafetyId];a.forEach(function(a,i){a&&-1!=a&&e[e.id+"-"+a]&&t.editTempRepeatPersons.push(a)}),e.carId&&e[e.id+"car"+e.carId]&&(this.editTempRepeatCar=e.carId)},editData:function(){var e=this;this.$refs["editForm"].validate(function(t){if(!t)return!1;e.addOrEdit(e.editTemp,2)})},handleCreateData:function(){var e=this;this.$refs["addForm1"].validate(function(t){if(!t)return!1;e.fullscreenLoading=e.$loading({lock:!0,text:"稍等哦，手动排班中，请勿做任何操作！",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),e.timer&&clearInterval(e.timer),Object(r["n"])(e.addTemp1).then(function(t){0==t.status?(e.addVisible1=!1,e.queryGenerate(t.data)):e.$message.error(t.msg)}).finally(function(){e.addVisible1=!1})})},findItem:function(e,t,a){var i={};return i=e.find(function(e){return e[t]===a}),void 0==i&&(i={}),i},addOrEdit:function(e,t){var a=this,n=Object(i["a"])({},e);if(n.routeName=this.findItem(this.geometryOptions,"id",n.routeId).name,1==t){var s=n.addDate.split("_");n.planYear=s[0],n.planMonth=s[1],n.planDay=s[2],n.status=3}if(n.leaderName){var o=this.findItem(this.carOptions,"id",n.carId);n.carLicenseNo=o.licenseNo;var l,d=Object(i["a"])({},n);if(delete d.addDate,1==t)l=r["c"];else if(2==t)if(l=r["L"],2==d.status||4==d.status){delete d.sortDate;var u=Object(i["a"])({},d);d=[u]}else d=this.tableForm.list.filter(function(e,t){var i=!1,s=n.routeId==e.routeId&&a.editTemp.types.indexOf(e.type)>=0&&n.status==e.status&&e.status%2!=0&&a.editTemp.modifyDates.indexOf(e.sortDate)>=0;return e.idIdentify==a.editTemp.idIdentify?i=!0:e.type===a.editTemp.type&&e.sortDate===a.editTemp.sortDate||!s||(i=!0),i}),d.forEach(function(e){e.carId=n.carId,e.carLicenseNo=n.carLicenseNo,e.leaderId=n.leaderId,e.leaderName=n.leaderName,e.safetyId=n.safetyId,e.safetyName=n.safetyName,e.additionSafetyId=n.additionSafetyId,e.additionSafetyName=n.additionSafetyName,e.businessId=n.businessId,e.businessName=n.businessName,e.addBusinessId=n.addBusinessId,e.addBusinessName=n.addBusinessName,e.groupId=n.groupId,e.groupName=n.groupName,e.driverId=n.driverId,e.driverName=n.driverName,delete e.addDate});c=this.$loading({target:"#mydialog .el-dialog"}),l(d).then(function(e){0==e.status?(1==t&&(a.addVisible=!1),2==t&&(a.editVisible=!1),a.getList(!0),a.$message.success(e.msg)):a.$message.error(e.msg)}).finally(function(){m()})}else this.$message.warning("该车组长未绑定车组,请绑定后再选择该车组长");function m(){c.close()}},autoPersonFilter:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3?arguments[3]:void 0,n=this.tableForm.list.filter(function(n,s){return-1==a.indexOf(n.idIdentify)&&n.type==i.type&&t&&n.planYear==i.planYear&&n.planMonth==i.planMonth&&n.planDay==i.planDay&&n.status%2!=0&&(e==n.addBusinessId||e==n.additionSafetyId||e==n.businessId||e==n.driverId||e==n.leaderId||e==n.safetyId)}),s=!1;return n.length&&(s=!0),s},editFilter:function(){var e=this,t=[],a=[],i=!1;this.editTempRepeatPersons=[],t=this.tableForm.list.filter(function(t,i){var n=!1,s=e.editTemp.routeId==t.routeId&&e.editTemp.types.indexOf(t.type)>=0&&e.editTemp.status==t.status&&t.status%2!=0&&e.editTemp.modifyDates.indexOf(t.sortDate)>=0;return t.idIdentify==e.editTemp.idIdentify?n=!0:t.type===e.editTemp.type&&t.sortDate===e.editTemp.sortDate||!s||(n=!0),1==n&&a.push(t.idIdentify),n});for(var n=0;n<t.length;n++)for(var s=t[n],r=[this.editTemp.leaderId,this.editTemp.driverId,this.editTemp.safetyId,this.editTemp.businessId,this.editTemp.addBusinessId,this.editTemp.additionSafetyId],o=0;o<r.length;o++)this.autoPersonFilter(r[o],s.idIdentify,a,s)&&(i=!0,-1==this.editTempRepeatPersons.indexOf(r[o])&&this.editTempRepeatPersons.push(r[o]));1==i&&this.$message.warning("与其他排班存在重复的排班人员")},autoCarFilter:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3?arguments[3]:void 0,n=this.tableForm.list.filter(function(n,s){return-1==a.indexOf(n.idIdentify)&&n.type==i.type&&t&&n.planYear==i.planYear&&n.planMonth==i.planMonth&&n.planDay==i.planDay&&n.status%2!=0&&e==n.carId}),s=!1;return n.length&&(s=!0),s},editCarFilter:function(){var e=this,t=this.editTemp.carId;if(this.editTempRepeatCar=null,t){var a=[],i=[],n=!1;a=this.tableForm.list.filter(function(t,a){var n=!1,s=e.editTemp.routeId==t.routeId&&e.editTemp.types.indexOf(t.type)>=0&&e.editTemp.status==t.status&&t.status%2!=0&&e.editTemp.modifyDates.indexOf(t.sortDate)>=0;return t.idIdentify==e.editTemp.idIdentify?n=!0:t.type===e.editTemp.type&&t.sortDate===e.editTemp.sortDate||!s||(n=!0),1==n&&i.push(t.idIdentify),n});for(var s=0;s<a.length;s++){var r=a[s];this.autoCarFilter(t,r.idIdentify,i,r)&&(n=!0,this.editTempRepeatCar!==t&&(this.editTempRepeatCar=t))}1==n&&this.$message.warning("与其他排班存在重复的排班车辆")}},getRepeatIds:function(){var e=this.tableForm.list;e.forEach(function(t,a){if(t.status%2!=0){var i=Array.from(new Set([t.leaderId,t.driverId,t.safetyId,t.businessId,t.addBusinessId,t.additionSafetyId]));i.forEach(function(e,t){e&&n(e)})}function n(a){for(var i=0;i<e.length;i++)t.idIdentify==e[i].idIdentify||t.type!=e[i].type||e[i].status%2===0||t.planYear!=e[i].planYear||t.planMonth!=e[i].planMonth||t.planDay!=e[i].planDay||a!=e[i].addBusinessId&&a!=e[i].additionSafetyId&&a!=e[i].businessId&&a!=e[i].driverId&&a!=e[i].leaderId&&a!=e[i].safetyId||(t[t.id+"-"+a]=!0)}})},getCarRepeatIds:function(){var e=this.tableForm.list;e.forEach(function(t,a){if(t.status%2!=0){var i=t.carId;n(i)}function n(a){for(var i=0;i<e.length;i++)t.idIdentify!=e[i].idIdentify&&t.type==e[i].type&&e[i].status%2!==0&&t.planYear==e[i].planYear&&t.planMonth==e[i].planMonth&&t.planDay==e[i].planDay&&a==e[i].carId&&(t[t.id+"car"+a]=!0)}})},selectChange:function(e,t){if("car"==t){this.editCarFilter();for(var a=0;a<this.carOptions.length;a++)this.carOptions[a].id==e.carId&&(e.carLicenseNo=this.carOptions[a].licenseNo)}else if("group"==t){for(var i=0;i<this.teamLeaderOptions.length;i++)this.teamLeaderOptions[i].id==e.leaderId&&(e.leaderName=this.teamLeaderOptions[i].name);this.leaderChange(e)}},getFirstDayOfWeek:function(e){var t=e.getDay()||7;return e.setDate(e.getDate()-t+1),e.getFullYear()+"_"+Object(l["c"])(e.getMonth()+1)+"_"+Object(l["c"])(e.getDate())},getList:function(e){var t=this;this.listLoading=!0,this.showGenerate=!1,this.showPublish=!1,this.hasNormalSchedule=!1;new Promise(function(a,i){var n=t.formatDates(t.listQuery.selectDate);t.dateArr=n.map(function(e,t){var a={text:Object(l["d"])(e),value:parseInt(e)};return a});var s=[],o=[];Object(r["D"])({times:n}).then(function(a){if(0==a.status){if(t.tableForm.list=[],a.data){for(var i in a.data){for(var n=function(e){var n=a.data[i][e];a.data[i][e].sortDate=parseInt(i),2==a.data[i][e].status||4==a.data[i][e].status||6==a.data[i][e].status?a.data[i][e].statusDisabled=!0:t.hasNormalSchedule=!0,Promise.all(t.getSelectPromises).then(function(){t.handleSelectOptions(t.carOptions,n.carId,n.carLicenseNo,"id","licenseNo"),t.handleSelectOptions(t.teamLeaderOptions,n.leaderId,n.leaderName,"id","name")})},r=0;r<a.data[i].length;r++)n(r);t.tableForm.list=t.tableForm.list.concat(a.data[i])}t.sortByRouteName(t.tableForm.list),t.tableForm.list.sort(function(e,t){return e.status%2==0&&t.status%2!=0?1:e.status%2!=0&&t.status%2==0?-1:0}),t.tableForm.list=t.sortType(t.tableForm.list),t.tableForm.list.sort(function(e,t){return e.sortDate-t.sortDate}),t.getRepeatIds(),t.getCarRepeatIds();var l=!0;if(t.tableForm.list.length){t.showGenerate=!1;for(var d=0;d<t.tableForm.list.length;d++)if(1==t.tableForm.list[d].publish){l=!1;break}}else t.showGenerate=!0,l=!1;l&&(t.showPublish=!0);var c=t.$refs.tableRef;if(e&&t.filteredValue&&t.filteredValue.length)s=t.filteredValue;else if((new Date).getTime()>=t.dateArr[0].value&&(new Date).getTime()<=t.dateArr[6].value){var u=(new Date).getDay()-1;s=[t.dateArr[u].value]}else s=[t.dateArr[0].value];if(o=e&&t.filteredTypeValue&&t.filteredTypeValue.length?t.filteredTypeValue:[1,2],c){c.columns[c.columns.length-2].filteredValue=s;var m=c.columns[c.columns.length-2];t.$refs.tableRef.store.commit("filterChange",{column:m,values:m.filteredValue,silent:!0}),c.columns[c.columns.length-3].filteredValue=o;var p=c.columns[c.columns.length-3];t.$refs.tableRef.store.commit("filterChange",{column1:p,values:p.filteredValue,silent:!0})}else t.filteredValue=s,t.filteredTypeValue=o}}else t.$message.error(a.msg)}).finally(function(){t.listLoading=!1})})},sortType:function(e){for(var t=[],a=[],i=[],n=0;n<e.length;n++)1==e[n].type?t.push(e[n]):2==e[n].type?a.push(e[n]):i.push(e[n]);return[].concat(a,t,i)},handleSelectOptions:function(e,t,a,i,s){for(var r,o=!1,l=0;l<e.length;l++)if(e[l][i]==t)return void(o=!0);!1===o&&(null!==t&&e.unshift((r={},Object(n["a"])(r,i,t),Object(n["a"])(r,s,a),Object(n["a"])(r,"remove",!0),r)))},judgeRemoveIn:function(e,t){var a=!1;e.some(function(e){e.id===t&&!0===e.remove&&(a=!0)});return a},saveSubmit:function(e,t){"delete"==t&&(1==e.status?e.status=2:3==e.status&&(e.status=4)),this.addOrEdit(e,2)},getSelect:function(){var e=this,t=this,a=new Promise(function(a,i){Object(d["a"])({status:1}).then(function(i){if(0==i.status){if(null==i.data)return void(e.carOptions=[]);t.carOptions=i.data}else null==i.data&&(e.carOptions=[]),e.$message.error(i.msg);a()})}),i=(new Promise(function(a,i){Object(d["f"])().then(function(i){if(0==i.status){if(null==i.data)return void(t.geometryOptions=[]);t.geometryOptions=i.data}else null==i.data&&(e.geometryOptions=[]),e.$message.error(i.msg);a()})}),new Promise(function(a,i){Object(d["g"])({work:2,status:1}).then(function(i){if(0==i.status){if(null==i.data)return void(t.teamLeaderOptions=[]);t.teamLeaderOptions=i.data}else null==i.data&&(e.teamLeaderOptions=[]),e.$message.error(i.msg);a()})}));new Promise(function(t,a){Object(o["c"])({status:2}).then(function(a){if(0==a.status){a.data||(a.data=[]);for(var i=a.data,n=i.length-1;n>=0;n--)0==i[n].status&&i.splice(n,1);e.groupAlllist=i}else e.$message.error(a.msg);t()})});this.getSelectPromises=[a,i]},resetTemp:function(){this.temp={}},tableRowClassName:function(e){e.row;var t=e.rowIndex;return t%2==0?"color-row":t%2==1?"noColor-row":""},formatDates:function(e){for(var t=[],a=new Date(this.getFirstDayOfWeek(e).replace(/_/g,"/")).getTime(),i=0;i<7;i++)t.push(a),a+=864e5;return t},exportExcel:function(){for(var e=this,t=[],a=new Date(this.getFirstDayOfWeek(this.listQuery.selectDate).replace(/_/g,"/")).getTime(),i=0;i<7;i++)t.push(new Date(a).getTime()),a+=864e5;Object(d["b"])({excelType:18,title:"预排班表",times:t}).then(function(t){try{var a=new TextDecoder("utf-8"),i=JSON.parse(a.decode(new Uint8Array(t)));e.$message({message:i.msg,type:"warning"})}catch(o){t.headers;var n="预排班表.xls",s=new Blob([t],{type:"application/excel"}),r=document.createElement("a");r.href=window.URL.createObjectURL(s),r.download=n,r.click(),r.remove()}})},sortByRouteName:function(e){var t=this;e.forEach(function(e,t){e.routeName=e.routeName.replace("\t",""),e.routeName=e.routeName.trim()}),e.sort(function(e,a){return t.sortDevName(e.routeName,a.routeName)})},sortDevName:function(e,t){for(var a=0,i=0;i<Math.max(e.length,t.length);i++){var n=e[i]||"",s=this.getChartType(n),r=t[i]||"",o=this.getChartType(r);if(s[0]===o[0]){if(n===r)continue;a="zh"===s[0]?n.localeCompare(r):"en"===s[0]?n.charCodeAt(0)-r.charCodeAt(0):(s[0],n-r);break}a=s[1]-o[1];break}return a},getChartType:function(e){return/^[\u4E00-\u9FA5]+$/.test(e)?["zh",300]:/^[a-zA-Z]$/.test(e)?["en",200]:/^[0-9]$/.test(e)?["number",100]:["others",999]},sortName:function(e){e.forEach(function(e,t){e.routeName=e.routeName.replace("\t",""),e.routeName=e.routeName.trim()});for(var t=this.getMaxStrLength(e),a=function(t){e.sort(function(e,a){var i=e.routeName.substr(0,t+1),n=a.routeName.substr(0,t+1);if(i!==n)return-1})},i=0;i<t;i++)a(i)}}}}).call(this,a("1157"))},"5ac7":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container",attrs:{id:"package"}},[a("div",{staticClass:"filter-container"},[a("el-input",{staticClass:"filter-item",attrs:{placeholder:"请输入关键字搜索"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.listQuery.name,callback:function(t){e.$set(e.listQuery,"name",t)},expression:"listQuery.name"}}),a("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择银行"},on:{change:e.handleFilter},model:{value:e.listQuery.belongToBankId,callback:function(t){e.$set(e.listQuery,"belongToBankId",t)},expression:"listQuery.belongToBankId"}},e._l(e.bankOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1),a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v("搜索")]),a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:e.handleCreate}},[e._v("添加")]),a("el-button",{staticClass:"filter-item filter-item-btn",attrs:{type:"primary",icon:"iconfont icondaochu",loading:e.exportLoading},on:{click:e.exportExcel}},[e._v("导出")]),a("el-button",{staticClass:"filter-item filter-item-btn",attrs:{type:"primary",icon:"iconfont icondaoru"},on:{click:function(t){e.uploadVisible=!0}}},[e._v("导入")])],1),a("div",{staticClass:"tableBox"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,fit:"","highlight-current-row":"","row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{label:"序号",prop:"id",fixed:"",sortable:"custom",align:"center",width:"80",type:"index",index:e.indexMethod}}),a("el-table-column",{attrs:{label:"库包名称",width:"180px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.name))])]}}])}),a("el-table-column",{attrs:{label:"标签",width:"250px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.rfid))])]}}])}),a("el-table-column",{attrs:{label:"库包类型",width:"180px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(1==i.type?"归属银行":"未定义"))])]}}])}),a("el-table-column",{attrs:{label:"库包状态","min-width":"180px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(1==i.status?"正常":2==i.status?"废弃":"损坏"))])]}}])}),a("el-table-column",{attrs:{label:"所属银行","min-width":"180px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.belongToBankName))])]}}])}),a("el-table-column",{attrs:{label:"目的地","min-width":"180px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.destinationName))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center","min-width":"300",fixed:"right","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("el-button",{attrs:{type:"primary",size:"mini",disabled:4==i.status,icon:"el-icon-edit-outline"},on:{click:function(t){return e.handleUpdate(i)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"warning",size:"mini",disabled:!i.rfid,icon:"iconfont iconjiesuo5"},on:{click:function(t){return e.handleUnbind(i)}}},[e._v("解绑标签")])]}}])})],1)],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.page,limit:e.listQuery.limit,layout:"prev, pager, next, sizes, total, jumper"},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"limit",t)},pagination:e.getList}}),a("el-dialog",{class:{editClass:!0},attrs:{id:"myDialog",title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible,center:""},on:{close:e.scrollTop,"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"dataForm",staticClass:"formStyle",attrs:{rules:e.rules,model:e.temp,"label-position":"left"}},[a("el-form-item",{attrs:{label:"库包名称",prop:"name"}},[a("el-input",{model:{value:e.temp.name,callback:function(t){e.$set(e.temp,"name",t)},expression:"temp.name"}})],1),a("el-form-item",{attrs:{label:"标签",prop:"rfidId"}},[a("el-select",{staticClass:"filter-item",attrs:{filterable:"",placeholder:"请选择"},model:{value:e.temp.rfidId,callback:function(t){e.$set(e.temp,"rfidId",t)},expression:"temp.rfidId"}},e._l(e.rfidOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.rfid,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"库包状态",prop:"status"}},[a("el-select",{staticClass:"filter-item",attrs:{filterable:"",placeholder:"请选择"},model:{value:e.temp.status,callback:function(t){e.$set(e.temp,"status",t)},expression:"temp.status"}},e._l(e.statusOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"所属银行",prop:"belongToBankId"}},[a("el-select",{staticClass:"filter-item",attrs:{filterable:"",placeholder:"请选择"},model:{value:e.temp.belongToBankId,callback:function(t){e.$set(e.temp,"belongToBankId",t)},expression:"temp.belongToBankId"}},e._l(e.bankOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id,disabled:2==e.status}})}),1)],1),a("el-form-item",{attrs:{label:"目的地",prop:"destinationId"}},[a("el-select",{staticClass:"filter-item",attrs:{filterable:""},model:{value:e.temp.destinationId,callback:function(t){e.$set(e.temp,"destinationId",t)},expression:"temp.destinationId"}},e._l(e.networkOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){"create"===e.dialogStatus?e.createData():e.updateData()}}},[e._v("确定")])],1)],1),a("el-dialog",{attrs:{id:"myDialog",title:e.bindMap[e.bindDialogStatus],visible:e.BindDialogFormVisible,center:""},on:{"update:visible":function(t){e.BindDialogFormVisible=t}}},[a("el-form",{ref:"bindForm",staticClass:"formStyle",attrs:{rules:e.bindRules,model:e.bindTemp,"label-position":"left"}},[a("el-form-item",{attrs:{label:e.bindMap[e.bindDialogStatus]+"类型",prop:"type"}},[a("el-select",{staticClass:"filter-item",attrs:{filterable:"",placeholder:"请选择"},model:{value:e.bindTemp.type,callback:function(t){e.$set(e.bindTemp,"type",t)},expression:"bindTemp.type"}},e._l(e.bindTypeOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id,disabled:e.disabled}})}),1)],1),1==e.bindTemp.type&&"bind"==e.bindDialogStatus?a("el-form-item",{attrs:{label:"司机",prop:"driverId"}},[a("el-select",{staticClass:"filter-item",attrs:{filterable:"",placeholder:"请选择"},model:{value:e.bindTemp.driverId,callback:function(t){e.$set(e.bindTemp,"driverId",t)},expression:"bindTemp.driverId "}},e._l(e.driverOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1):e._e(),2==e.bindTemp.type&&"bind"==e.bindDialogStatus?a("el-form-item",{attrs:{label:"所属大队",prop:"teamId"}},[a("el-select",{staticClass:"filter-item",attrs:{filterable:"",placeholder:"请选择"},model:{value:e.bindTemp.teamId,callback:function(t){e.$set(e.bindTemp,"teamId",t)},expression:"bindTemp.teamId "}},e._l(e.largeTeamOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.teamName,value:e.id}})}),1)],1):e._e()],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){"bind"==e.bindDialogStatus?e.bindSubmit():e.unbindSubmit()}}},[e._v("确定")])],1)],1),a("my-upload",{attrs:{visible:e.uploadVisible,uploadData:{type:4}},on:{"update:visible":function(t){e.uploadVisible=t},dataUpdated:e.reqSuccess}})],1)},n=[],s=(a("34ef"),a("cebc")),r=(a("ac6a"),a("f3e2"),a("7f7f"),a("7514"),a("333d")),o=a("98c6"),l=a("c31b"),d=a("a2fc"),c=a("bc33"),u=a("69d9"),m=a("66e8"),p=a("da14"),f=a("4807"),h=[{key:-1,display_name:"请选择"},{key:1,display_name:"使用中"},{key:2,display_name:"维修中"},{key:3,display_name:"保养中"}],g=function(e,t,a){-1==t?a(new Error("请选择")):a()},b=void 0,v={name:"package",components:{Pagination:r["a"],myUpload:o["a"]},data:function(){return{power:JSON.parse(sessionStorage.getItem("userInfo")).Power,tableKey:0,list:null,total:0,listLoading:!0,indexMethod:1,listQuery:{page:1,limit:10,licenseNo:void 0},carUsageOptions:h,runOptions:[{key:-1,display_name:"请选择"},{key:0,display_name:"入库"},{key:1,display_name:"上路"}],groupsOptions:[],largeTeamOptions:[],channelNoOptions:[],temp:{},dialogFormVisible:!1,dialogStatus:"",textMap:{update:"编辑",create:"添加"},rules:{name:[{required:!0,message:"请填写库包名称",trigger:"blur"}],rfidId:[{message:"请选择标签",trigger:"change",required:!0}],belongToBankId:[{message:"请选择所属银行",trigger:"change",required:!0}]},dialogVisible:!1,addAlltemp:{head:void 0,begin:void 0,end:void 0,channelNo:null},bindTypeOptions:[{id:null,name:"请选择"},{id:1,name:"司机"},{id:2,name:"大队"}],bindTemp:{type:1},BindDialogFormVisible:!1,bindDialogStatus:"",bindMap:{bind:"绑定",unbind:"解绑"},bindRules:{type:[{required:!0,message:"请选择绑定类型",trigger:"change",validator:g}],driverId:[{required:!0,message:"请选择绑定司机",trigger:"change",validator:g}],teamId:[{required:!0,message:"请选择绑定大队",trigger:"change",validator:g}]},rfidOptions:[{id:null,rfid:"请选择"}],typeOptions:[{id:1,name:"归属银行"},{id:2,name:"未定义"}],statusOptions:[{id:1,name:"正常"},{id:2,name:"废弃"},{id:3,name:"损坏"}],bankOptions:[{id:-1,name:"请选择"}],uploadVisible:!1,networkOptions:[{id:null,name:"请选择"}],exportLoading:!1}},created:function(){this.getList(),this.getSelect(),this.getChannelNoOptions()},mounted:function(){},methods:{reqSuccess:function(e){1==e&&this.getList()},handleUnbind:function(e){var t=this;b=this.$loading({target:"#myDialog .el-dialog"}),Object(p["e"])({id:e.id}).then(function(e){0==e.status?(t.getList(),t.getSelect(),t.$message.success(e.msg),t.BindDialogFormVisible=!1):t.$message.error(e.msg)}).finally(function(){b.close()})},findItem:function(e,t,a){var i={};return i=e.find(function(e){return e[t]===a}),void 0==i&&(i={}),i},filterObj:function(e){for(var t in e)-1!==e[t]&&null!==e[t]&&void 0!==e[t]||delete e[t];return e},handleBind:function(e){this.bindTypeOptions=[{id:-1,name:"请选择"},{id:1,name:"司机"},{id:2,name:"大队"}],this.bindDialogStatus="bind",this.bindTemp={type:1,carId:e.id,driverId:e.driverId,teamId:e.teamId},this.BindDialogFormVisible=!0},bindSubmit:function(){var e=this;this.$refs["bindForm"].validate(function(t){var a,i;t&&(b=e.$loading({target:"#myDialog .el-dialog"}),1==e.bindTemp.type?(a={carId:e.bindTemp.carId,driverId:e.bindTemp.driverId},i=l["b"]):2==e.bindTemp.type&&(a={carId:e.bindTemp.carId,teamId:e.bindTemp.teamId},i=l["c"]),i(a).then(function(t){0==t.status?(e.getList(),e.getSelect(),e.$message.success(t.msg),e.BindDialogFormVisible=!1):e.$message.error(t.msg)}).finally(function(){b.close()}))})},unbindSubmit:function(){var e=this;this.$refs["bindForm"].validate(function(t){var a,i;t&&(b=e.$loading({target:"#myDialog .el-dialog"}),a={carId:e.bindTemp.carId},1==e.bindTemp.type?i=l["q"]:2==e.bindTemp.type&&(i=l["r"]),i(a).then(function(t){0==t.status?(e.getList(),e.$message.success(t.msg),e.BindDialogFormVisible=!1):e.$message.error(t.msg)}).finally(function(){b.close()}))})},handleFilter:function(){this.listQuery.page=1,this.getList()},getList:function(){var e=this,t=this;t.listLoading=!0;var a={page:this.listQuery.page,limit:this.listQuery.limit,status:[1,3]};this.listQuery.belongToBankId&&(a.belongToBankId=this.listQuery.belongToBankId),this.listQuery.name&&(a.name=this.listQuery.name),Object(p["c"])(a).then(function(a){0==a.status?(e.listLoading=!1,e.list=a.data,e.total=a.count,e.dealData(),e.indexMethod=(t.listQuery.page-1)*t.listQuery.limit+1):e.$message.error(a.msg)}).finally(function(){t.listLoading=!1})},dealData:function(){var e=this;this.list.forEach(function(t,a){e.list[a].broughtTimeShow=Object(u["d"])(t.broughtTime,1),e.list[a].registerTimeShow=Object(u["d"])(t.registerTime,1)})},getChannelNoOptions:function(){this.channelNoOptions=[];for(var e=0;e<17;e++)this.channelNoOptions.push({channelNo:e})},resetTemp:function(){this.temp={name:"",rfidId:null,status:1,belongToBankId:null}},handleCreate:function(){var e=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick(function(){e.$refs["dataForm"].clearValidate()}),this.getRfid({})},createData:function(){var e=this;this.$refs["dataForm"].validate(function(t){if(!t)return!1;b=e.$loading({target:"#myDialog .el-dialog"});var a={};a={name:e.temp.name,rfidId:e.temp.rfidId,type:e.temp.type,status:e.temp.status,destinationId:e.temp.destinationId},a.rfid=e.findItem(e.rfidOptions,"id",e.temp.rfidId).rfid,a.belongToBankId=e.temp.belongToBankId,null!==e.temp.belongToBankId?a.belongToBankName=e.findItem(e.bankOptions,"id",e.temp.belongToBankId).name:(a.belongToBankName=null,a.belongToBankId=null),null!==e.temp.destinationId?a.destinationName=e.findItem(e.networkOptions,"id",e.temp.destinationId).name:(a.destinationId=null,a.destinationName=null),Object(p["d"])(a).then(function(t){0==t.status?(e.getList(),e.$message.success(t.msg),e.dialogFormVisible=!1):e.$message.error(t.msg)}).finally(function(){b.close()})})},handleUpdate:function(e){var t=this;this.getRfid(e),this.temp={id:e.id,name:e.name,rfidId:e.rfidId,rfid:e.rfid,type:e.type,status:e.status,belongToBankId:e.belongToBankId,belongToBankName:e.belongToBankName,destinationId:e.destinationId,destinationName:e.destinationName},this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick(function(){t.$refs["dataForm"].clearValidate()})},updateData:function(){var e=this;this.$refs["dataForm"].validate(function(t){if(!t)return!1;b=e.$loading({target:"#myDialog .el-dialog"});var a=Object(s["a"])({},e.temp);a.rfid=e.findItem(e.rfidOptions,"id",e.temp.rfidId).rfid,null!==e.temp.belongToBankId?a.belongToBankName=e.findItem(e.bankOptions,"id",e.temp.belongToBankId).name:(a.belongToBankName=null,a.belongToBankId=null),null!==e.temp.destinationId?a.destinationName=e.findItem(e.networkOptions,"id",e.temp.destinationId).name:(a.destinationId=null,a.destinationName=null),Object(p["d"])(a).then(function(t){0==t.status?(e.getList(),e.$message.success("编辑成功"),e.dialogFormVisible=!1):e.$message.error(t.msg)}).finally(function(){b.close()})})},getSelect:function(){var e=this,t=this;Object(m["g"])({work:1,status:1}).then(function(a){if(0==a.status){if(null==a.data)return;t.driverOptions=a.data,t.driverOptions.unshift({id:-1,name:"请选择"})}else null==a.data&&(e.driverOptions=[],e.driverOptions.pop()),e.$message.error(a.msg)}),Object(d["d"])().then(function(a){if(0==a.status){if(null==a.data)return void(t.bankOptions=[{id:null,name:"请选择"}]);t.bankOptions=a.data,t.bankOptions.unshift({id:null,name:"请选择"})}else null==a.data&&(e.bankOptions=[]),e.$message.error(a.msg)}),Object(c["b"])({type:-1}).then(function(a){if(0==a.status){if(null===a.data.records)return void(t.networkOptions=[]);t.networkOptions=a.data,t.networkOptions.unshift({id:null,name:"请选择"})}else null==a.data&&(e.networkOptions=[]),e.$message.error(a.msg)})},getRfid:function(e){var t=this,a=this;this.rfidOptions=[],Object(f["b"])({rfidType:[90],status:[0]}).then(function(i){if(0==i.status){if(null==i.data)return;a.rfidOptions=i.data,e.rfidId&&a.rfidOptions.unshift({id:e.rfidId,rfid:e.rfid}),a.rfidOptions.unshift({id:null,rfid:"请选择"})}else null==i.data&&(t.rfidOptions=[],t.rfidOptions.pop()),t.$message.error(i.msg)})},scrollTop:function(){var e=document.querySelector("#myDialog .el-dialog__body");e.scrollTop=0},tableRowClassName:function(e){e.row;var t=e.rowIndex;return t%2==0?"color-row":t%2==1?"noColor-row":""},exportExcel:function(){var e=this;this.exportLoading=!0,Object(m["b"])({excelType:26,title:"库包信息表"}).then(function(t){try{var a=new TextDecoder("utf-8"),i=JSON.parse(a.decode(new Uint8Array(t)));e.$message({message:i.msg,type:"warning"})}catch(o){t.headers;var n="库包信息表.xls",s=new Blob([t],{type:"application/excel"}),r=document.createElement("a");r.href=window.URL.createObjectURL(s),r.download=n,r.click(),r.remove()}}).finally(function(){e.exportLoading=!1})}}},y=v,w=(a("43194"),a("2877")),k=Object(w["a"])(y,i,n,!1,null,null,null);t["default"]=k.exports},"5b9b":function(e,t,a){},"5c7f":function(e,t,a){},"6179b":function(e,t,a){},6356:function(e,t,a){},6585:function(e,t,a){},"660c":function(e,t,a){},"69d9":function(e,t,a){"use strict";a.d(t,"d",function(){return i}),a.d(t,"c",function(){return n}),a.d(t,"e",function(){return s}),a.d(t,"a",function(){return r}),a.d(t,"b",function(){return o});a("ac6a"),a("f3e2"),a("8ea5"),a("a481"),a("0298"),a("df7c");function i(e,t){var a=new Date(e),i=a.getFullYear(),s=n(a.getMonth()+1),r=n(a.getDate()),o=n(a.getHours()),l=n(a.getMinutes()),d=n(a.getSeconds());return 1==t?i+"-"+s+"-"+r+" "+o+":"+l+":"+d:i+"-"+s+"-"+r}function n(e){return e<10?"0"+e:e}function s(e){var t=new Date(e).toJSON();return new Date(+new Date(t)+288e5).toISOString().replace(/T/g," ").replace(/\.[\d]{3}Z/,"")}function r(e){var t=m(e.lat,e.lng),a=new BMap.Point(t[1],t[0]);return a}function o(e){var t=[];return e.forEach(function(e){var a=m(e.lat,e.lng),i=new BMap.Point(a[1],a[0]);t.push(i)}),t}var l=3.141592653589793,d=6378245,c=.006693421622965943,u=52.35987755982988;function m(e,t){var a=f(e,t),i=p(a[0],a[1]);return i}function p(e,t){var a=t,i=e,n=Math.sqrt(a*a+i*i)+2e-5*Math.sin(i*u),s=Math.atan2(i,a)+3e-6*Math.cos(a*u),r=n*Math.cos(s)+.0065,o=n*Math.sin(s)+.006,l=[];return l.push(o),l.push(r),l}function f(e,t){var a=h(t-105,e-35),i=g(t-105,e-35),n=e/180*l,s=Math.sin(n);s=1-c*s*s;var r=Math.sqrt(s);a=180*a/(d*(1-c)/(s*r)*l),i=180*i/(d/r*Math.cos(n)*l);var o=e+a,u=t+i,m=[];return m.push(o),m.push(u),m}function h(e,t){var a=2*e-100+3*t+.2*t*t+.1*e*t+.2*Math.sqrt(Math.abs(e));return a+=2*(20*Math.sin(6*e*l)+20*Math.sin(2*e*l))/3,a+=2*(20*Math.sin(t*l)+40*Math.sin(t/3*l))/3,a+=2*(160*Math.sin(t/12*l)+320*Math.sin(t*l/30))/3,a}function g(e,t){var a=300+e+2*t+.1*e*e+.1*e*t+.1*Math.sqrt(Math.abs(e));return a+=2*(20*Math.sin(6*e*l)+20*Math.sin(2*e*l))/3,a+=2*(20*Math.sin(e*l)+40*Math.sin(e/3*l))/3,a+=2*(150*Math.sin(e/12*l)+300*Math.sin(e/30*l))/3,a}},"6b57":function(e,t,a){"use strict";var i=a("2fb8"),n=(i.roots["default"]||(i.roots["default"]=new i.Root)).addJSON({com:{nested:{beidou:{nested:{proto:{nested:{local:{nested:{RealTimeRfidInfoResponse:{fields:{rfid:{type:"string",id:1},cardReadable:{type:"int32",id:2},enrollId:{type:"int32",id:3}}}}},share:{nested:{DeviceGpsInfo:{fields:{imei:{type:"string",id:1},time:{type:"int64",id:2},type:{type:"int32",id:3},uuid:{type:"string",id:4}}},LocationInfoResponse:{fields:{type:{type:"int32",id:1},imei:{type:"string",id:2},lng:{type:"double",id:3},lat:{type:"double",id:4},speed:{type:"int32",id:5},direction:{type:"int32",id:6},time:{type:"int64",id:7},reportType:{type:"int32",id:8},battery:{type:"int32",id:9},wakeMode:{type:"int32",id:10},signal:{type:"int32",id:11},fake:{type:"int32",id:12},netPower:{type:"int32",id:13},hardDisk:{type:"int32",id:14},cameraLossing:{type:"int32",id:15},videoLossing:{type:"int32",id:16}}},DeviceStatusResponse:{fields:{type:{type:"int32",id:1},imei:{type:"string",id:2},status:{type:"int32",id:3}}},DeviceSignalLosingResponse:{fields:{infos:{rule:"repeated",type:"DeviceGpsInfo",id:1},exType:{type:"int32",id:2}}},DeviceAloneVo:{fields:{imei:{type:"string",id:1},glng:{type:"double",id:2},glat:{type:"double",id:3},carImei:{type:"string",id:4},clng:{type:"double",id:5},clat:{type:"double",id:6},time:{type:"int64",id:7},uuid:{type:"string",id:8},type:{type:"int32",id:9}}},DeviceAloneResponse:{fields:{alarms:{rule:"repeated",type:"DeviceAloneVo",id:1},canceled:{rule:"repeated",type:"DeviceAloneVo",id:2}}},CarAndGunRelation:{fields:{car:{type:"string",id:1},gun:{rule:"repeated",type:"string",id:2},time:{type:"int64",id:3}}},NotEnoughGunResponse:{fields:{relation:{rule:"repeated",type:"CarAndGunRelation",id:1}}},CarCheckInInfo:{fields:{imei:{type:"string",id:1},startTime:{type:"int64",id:2},lng:{type:"double",id:3},lat:{type:"double",id:4},type:{type:"int32",id:5},uuid:{type:"string",id:6}}},CarCheckInTimeoutResponse:{fields:{infos:{rule:"repeated",type:"CarCheckInInfo",id:1}}},CarRoadInfo:{fields:{imei:{type:"string",id:1},time:{type:"int64",id:2},pre:{rule:"repeated",type:"int64",id:3},now:{rule:"repeated",type:"int64",id:4},uuid:{type:"string",id:5}}},CarWarmingResponse:{fields:{type:{type:"int32",id:1},infos:{rule:"repeated",type:"CarRoadInfo",id:2},cancelled:{rule:"repeated",type:"CarRoadInfo",id:3}}},DeviceAlertResponse:{fields:{type:{type:"int32",id:1},imei:{type:"string",id:2},alertType:{type:"int32",id:3},value:{type:"int32",id:4},time:{type:"int64",id:5}}},DeviceBrokenResponse:{fields:{type:{type:"int32",id:1},imei:{type:"string",id:2},time:{type:"int64",id:3},lng:{type:"double",id:4},lat:{type:"double",id:5}}},CarAlarmWarmingResponse:{fields:{imei:{type:"string",id:1},time:{type:"int64",id:2},lng:{type:"double",id:3},lat:{type:"double",id:4},speed:{type:"int32",id:5},direction:{type:"int32",id:6},oil:{type:"float",id:7},mileage:{type:"double",id:8},signalType:{type:"int32",id:9},status:{rule:"repeated",type:"int32",id:10},temperature:{rule:"repeated",type:"float",id:11},alarmType:{type:"int32",id:12},subAlarmType:{type:"int32",id:13},alarmParam:{rule:"repeated",type:"float",id:14},alarmDesc:{type:"string",id:15},brokenCam:{rule:"repeated",type:"int32",id:16}}},RelationVo:{fields:{device:{type:"string",id:1},car:{type:"string",id:2}}},RelationBetweenDeviceResponse:{fields:{relation:{rule:"repeated",type:"RelationVo",id:1}}},BeidouTerminalReceiveResponse:{fields:{id:{type:"string",id:1},content:{type:"string",id:2},time:{type:"int64",id:3},lng:{type:"double",id:4},lat:{type:"double",id:5}}},LoginVerifyRequest:{fields:{bearer:{type:"string",id:1}}},LoginVerifyResponse:{fields:{success:{type:"int32",id:1},msg:{type:"string",id:2}}},QuestionAnswerResponse:{fields:{id:{type:"int64",id:1},time:{type:"int64",id:2}}},CarParkingDetailResponse:{fields:{destinationId:{type:"int64",id:1},time:{type:"int64",id:2},type:{type:"int32",id:3},deviceNo:{type:"string",id:4},licenceNo:{type:"string",id:5},destinationName:{type:"string",id:6}}},CarDeviceTalkCallResponse:{fields:{deviceNo:{type:"string",id:1},time:{type:"int64",id:2},licenseNo:{type:"string",id:3}}},CarOfflineResponse:{fields:{deviceNo:{type:"string",id:1},licenseNo:{type:"string",id:2},changeTime:{type:"int64",id:3},type:{type:"int32",id:4}}},GunReturnResponse:{fields:{type:{type:"int32",id:1},imei:{type:"string",id:2},gunCode:{type:"string",id:3},time:{type:"int64",id:4}}}}},realtime:{nested:{StockManagerInOutInfoResponse:{fields:{workerName:{type:"string",id:1},wokerRfid:{type:"string",id:2},rfids:{rule:"repeated",type:"string",id:3},nullNamePackage:{type:"int32",id:4},nullNameBox:{type:"int32",id:5},templateBox:{type:"string",id:6},templateBoxNum:{type:"int32",id:7},routeName:{type:"string",id:8}}},BankSchedulingApplyResponse:{fields:{comeFrom:{type:"string",id:1},target:{type:"string",id:2},planTime:{type:"string",id:3}}}}}}}}}}}});e.exports=n},"6c69":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container",class:{adminClass:1!==e.power&&2!==e.power},attrs:{id:"carInOut"}},[a("div",{staticClass:"filter-container"},[a("div",{staticClass:"multidevice filter-container"},[a("div",{staticClass:"selectBox"},[a("el-form",{ref:"mdForm",staticClass:"mdElForm",attrs:{inline:!0,rules:e.mdRule,model:e.mdForm,"label-width":"80px"}},[a("el-form-item",{attrs:{prop:"searchDate"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",clearable:!1},model:{value:e.mdForm.searchDate,callback:function(t){e.$set(e.mdForm,"searchDate",t)},expression:"mdForm.searchDate"}})],1),a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.getList}},[e._v("搜索")])],1)],1)])]),a("div",{staticClass:"inOutNum"},[a("div",[e._v("总数 "+e._s(this.totalCount)+" 辆车")]),a("div",[e._v("共出库 "+e._s(this.totalOutbound)+" 次")]),a("div",[e._v("共入库 "+e._s(this.totalInbound)+" 次")])]),a("div",{staticClass:"tableBox"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,fit:"","highlight-current-row":"","row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{label:"序号",prop:"id",fixed:"",sortable:"custom",align:"center",width:"80",type:"index",index:e.indexMethod}}),a("el-table-column",{attrs:{label:"车牌号","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.code))])]}}])}),a("el-table-column",{attrs:{label:"出库","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.outbound))])]}}])}),a("el-table-column",{attrs:{label:"入库","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.inbound))])]}}])})],1)],1)])},n=[],s=a("333d"),r=a("39d6"),o={name:"carInOut",components:{Pagination:s["a"]},data:function(){var e=function(e,t,a){t?a():a(new Error("请选择设备"))};return{power:JSON.parse(sessionStorage.getItem("userInfo")).Power,tableKey:0,list:null,total:0,indexMethod:1,listLoading:!0,listQuery:{page:1,limit:10,keyword:void 0},dialogFormVisible:!1,mdForm:{searchDate:new Date},mdRule:{searchDate:[{trigger:"change",message:"请选择时间",validator:e}]},totalCount:0,totalInbound:0,totalOutbound:0}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.listLoading=!0,Object(r["b"])({date:this.mdForm.searchDate.getTime()}).then(function(t){0==t.status&&(e.listLoading=!1,e.list=t.data.classify,e.totalCount=t.data.totalCount,e.totalInbound=t.data.totalInbound,e.totalOutbound=t.data.totalOutbound,e.indexMethod=(e.listQuery.page-1)*e.listQuery.limit+1)}).finally(function(){e.listLoading=!1})},handleFilter:function(){this.$router.push({name:"gunInoutChild",params:{keyword:this.listQuery.keyword}})},tableRowClassName:function(e){e.row;var t=e.rowIndex;return t%2==0?"color-row":t%2==1?"noColor-row":""}}},l=o,d=(a("f6cb"),a("2877")),c=Object(d["a"])(l,i,n,!1,null,null,null);t["default"]=c.exports},"6d7c":function(e,t,a){"use strict";(function(e){var i,n=a("bd86"),s=(a("6b54"),a("87b3"),a("2caf"),a("57e7"),a("7f7f"),a("7514"),a("34ef"),a("75fc")),r=(a("5df3"),a("6d67"),a("28a5"),a("cebc")),o=(a("d25f"),a("55dd"),a("ac6a"),a("f3e2"),a("c5f6"),a("bc3a")),l=a.n(o),d=a("333d"),c=a("d256"),u=a("bc33"),m=a("66e8"),p=a("69d9"),f=a("da14"),h=a("a90f"),g=a("4807"),b=(a("beab"),a("d2bf")),v=void 0;t["a"]={name:"task",components:{Pagination:d["a"]},data:function(){var e=function(e,t,a){t?a():a(new Error("请选择设备"))},t=function(e,t,a){t<1?a(new Error("请选择类型")):a()},a=function(e,t,a){!isNaN(t)&&t<0||isNaN(t)&&null!=t?a(new Error("请输入正确的数量")):a()},i=function(e,t,a){"number"==typeof t&&t<0||"number"!==typeof t&&t?a(new Error("请输入正确的数量")):a()},n=function(e,t,a){if(t){if(!t.length)return void a(new Error("请选择编辑日期"));a()}else a(new Error("请选择编辑日期"))};return{power:JSON.parse(sessionStorage.getItem("userInfo")).Power,userInfo:JSON.parse(sessionStorage.getItem("userInfo")),tableKey:0,list:[],total:0,indexMethod:1,listLoading:!1,imgVisible:!1,listQuery:{page:1,limit:10,selectDate:sessionStorage.time},temp:{destinationId:-1,rfids:[],rfids1:[],nullNamePackage:null,nullNameBox:null,templateBox:null,templateBoxNum:null,startPoint:[],endPoint:[]},dialogFormVisible:!1,dialogStatus:"",textMap:{update:"编辑",create:"添加",bind:"绑定"},rules:{destinationId:[{required:!0,message:"请选择网点",trigger:"change"}],finish:[{required:!0,message:"请选择完成状态",trigger:"change"}],status:[{required:!0,message:"请选择任务类型",trigger:"change"}],rfids:[{required:!0,message:"请选择绑定库包",trigger:"change"}],rfids1:[{required:!0,message:"请选择解绑库包",trigger:"change"}],destinationIds:[{required:!0,message:"请选择网点",trigger:"change"}],startPoint:[{required:!0,message:"请选择任务起点",trigger:"change"}],endPoint:[{required:!0,message:"请选择任务终点",trigger:"change"}],bankerId:[{required:!0,message:"请选择",trigger:"change"}],routeId:[{required:!0,message:"请选择路线",trigger:"change"}],nullNamePackage:[{trigger:"blur",type:"number",validator:a}],nullNameBox:[{trigger:"blur",type:"number",validator:a}],templateBoxNum:[{trigger:"blur",type:"number",validator:i}]},addRules:{carId:[{required:!0,message:"请选择",trigger:"change"}],leaderId:[{required:!0,message:"请选择",trigger:"change"}],driverId:[{required:!0,message:"请选择",trigger:"change"}],safetyId:[{required:!0,message:"请选择",trigger:"change"}],additionSafetyId:[{required:!0,message:"请选择",trigger:"change"}],businessId:[{required:!0,message:"请选择",trigger:"change"}],addBusinessId:[{required:!0,message:"请选择",trigger:"change"}],type:[{required:!0,message:"请选择",trigger:"change"}],taskStatus:[{required:!0,message:"请选择",trigger:"change"}],destinationId:[{required:!0,message:"请选择",trigger:"change"}]},username:JSON.parse(this.$store.state.user.userInfo).UserName,networkOptions:[],finishOptions:[{id:0,name:"未知"},{id:1,name:"初始化"},{id:2,name:"结束"},{id:3,name:"库管出库"},{id:4,name:"库管入库"},{id:5,name:"银行入库"},{id:6,name:"银行出库"}],statusOptions:[{id:1,name:"正常任务"},{id:2,name:"正常任务取消"},{id:3,name:"临时任务"},{id:4,name:"临时任务取消"},{id:5,name:"银行任务"},{id:6,name:"银行任务取消"}],bindOptions:[],unbindOptions:[],teamStatusOptions:[{key:0,display_name:"正常"},{key:1,display_name:"取消"}],schedulingId:sessionStorage.schedulingId,scheduleType:sessionStorage.schedule,schedulePublish:Number(sessionStorage.schedulePublish),mdRule:{status:[{validator:t,trigger:"change"}],date:[{trigger:"change",message:"请选择时间",validator:e}]},mdForm:{status:[1,3,5],date:new Date},packShow:!1,taskSrc:"",addVisible:!1,addTemp:{},teamLeaderOptions:[{id:-1,name:"请选择"}],carOptions:[{id:-1,licenseNo:"请选择"}],typeOptions:[{id:2,name:"早送"},{id:1,name:"晚收"}],taskStatusOptions:[{id:1,name:"正常任务"},{id:5,name:"加钞"},{id:6,name:"缴款"},{id:7,name:"送款"},{id:8,name:"上门收款"},{id:9,name:"人行提送款"}],taskStatusOptions1:[{id:1,name:"正常任务"}],driverOptions:[],safetyOptions:[],businessOptions:[],cancelRequest:null,cancelRequest1:null,networkOptionsR:[],dialogFormVisibleR:!1,tempR:{destinationIds:[]},geometryOptions:[{id:null,name:"请选择路线"}],dateDisabled:!1,activeName:"first",transformVisible:!1,scheduleOptions:[{id:2,name:"早送"},{id:1,name:"晚收"},{id:3,name:"早送+晚收"}],pickerOptions:{disabledDate:function(e){return e.getTime()<(new Date).setHours(0,0,0)-864e5}},transformRules:{addDate:[{required:!0,message:"请选择",trigger:"change"}],routeId:[{required:!0,message:"请选择",trigger:"change"}],carId:[{required:!0,message:"请选择",trigger:"change"}],leaderId:[{required:!0,message:"请选择",trigger:"change"}],type:[{required:!0,message:"请选择",trigger:"change"}],status:[{required:!0,message:"请选择",trigger:"change"}]},transformTemp:{},groupAlllist:[],taskId:null,taskIds:[],idArr:[],scheduleSelectDate:(new Date).setHours(0,0,0,0),scheduleList:[],currentRow:null,scheduleListLoading:!1,transformAll:!1,rfidOptions:[],rfidOptions1:[],rfidNameObj:{},rfidsRow:[],pagesize:10,currpage:1,routeArr:[],bankerOptions:[{id:null,name:"请选择"}],exportVisible:!1,exportRules:{type:[{required:!0,message:"请选择签字图类型",trigger:"change",validator:n}]},exportTemp:{type:[]},exportOptions:[{id:1,name:"入库签字图"},{id:2,name:"出库签字图"},{id:3,name:"银行出包签字图"},{id:4,name:"银行入包签字图"}],exportLoading1:!1,exportLoading2:!1,exportLoading3:!1,pageshow:!0,editPersonVisible:!1,editPersonTemp:{},editPersonRules:{leaderId:[{required:!0,message:"请选择",trigger:"change"}],driverId:[{required:!0,message:"请选择",trigger:"change"}],safetyId:[{required:!0,message:"请选择",trigger:"change"}],businessId:[{required:!0,message:"请选择",trigger:"change"}]},editTempRepeatPersons:[]}},beforeRouteEnter:function(e,t,a){"/schedualManagement/schedualChild"!==t.path&&"/schedualManagement/schedual"!==t.path&&"/"!==t.path&&"/progress"!==t.path&&(sessionStorage.removeItem("schedulingId"),sessionStorage.removeItem("schedule"),sessionStorage.removeItem("schedulingDate"),sessionStorage.removeItem("time"),sessionStorage.removeItem("schedulePublish")),a()},computed:{},created:function(){this.getSelect(),this.power=JSON.parse(sessionStorage.getItem("userInfo")).Power,this.checkDate()},mounted:function(){this.getList(),this.getSchedule()},beforeDestroy:function(){sessionStorage.removeItem("schedulingId"),sessionStorage.removeItem("schedule"),sessionStorage.removeItem("schedulingDate"),sessionStorage.removeItem("time"),sessionStorage.removeItem("schedulePublish")},methods:(i={addZero:function(e){return e=parseInt(e),e<10?"0"+e:e},handleFilter:function(){var e=this;this.currpage=1,this.indexMethod=(this.currpage-1)*this.pagesize+1,this.pageshow=!1,this.getList(),this.$nextTick(function(){e.pageshow=!0})},formateTaskStartPoint:function(e){var t="",a=e.type;return 2==a?t="宏达押运":1==a||5==a||6==a||8==a||9==a?t=e.destinationName:7==a&&(t=e.otherDestination),t},formateTaskEndPoint:function(e){var t="",a=e.type;return 1==a?t="宏达押运":2==a||7==a?t=e.destinationName:5!=a&&6!=a&&8!=a&&9!=a||(t=e.otherDestination),t},statusChange:function(e){5==e||9==e?this.$set(this.rules.endPoint[0],"required",!1):this.$set(this.rules.endPoint[0],"required",!0),this.$set(this.temp,"startPoint",[]),this.$set(this.temp,"endPoint",[]),this.$set(this.temp,"destinationId",void 0),this.$set(this.temp,"bankerId",null)},changeCheck:function(e,t){!e||"startPoint"!=t||5!=this.temp.status&&7!=this.temp.status&&8!=this.temp.status&&9!=this.temp.status?!e||"endPoint"!=t||6!=this.temp.status&&8!=this.temp.status||this.temp.endPoint.length>1&&this.temp.endPoint.shift():this.temp.startPoint.length>1&&this.temp.startPoint.shift()},filterHandler:function(e,t,a){return t.routeName=e},handleCurrentChange:function(t){this.currpage=t,this.indexMethod=(this.currpage-1)*this.pagesize+1,e(".el-tabs__content").scrollTop(0)},handleSizeChange:function(e){this.pagesize=e,this.indexMethod=(this.currpage-1)*this.pagesize+1},selectable:function(e,t){return 2!==e.status&&4!==e.status&&6!==e.status&&4!==e.finish&&5!==e.finish},handleSelectionChange:function(e){var t=this;this.taskIds=[],e.length?e.forEach(function(e,a){t.taskIds.push(e.id)}):this.taskIds=[]},chooseInstance:function(e){e.length>1?(this.$refs.singleTable.clearSelection(),this.$refs.singleTable.toggleRowSelection(e.pop()),this.currentRow=e[0]):1==e.length?this.currentRow=e[0]:this.currentRow=null},resetTransform:function(){this.activeName="first",this.$refs.singleTable&&this.$refs.singleTable.clearSelection(),this.$refs.transformForm&&this.$refs.transformForm.resetFields(),this.scheduleSelectDate=(new Date).setHours(0,0,0,0),this.transformAll=!1,this.currentRow=null,this.transformTemp={}},formateStatus:function(e){var t="";switch(e){case 1:t="正常";break;case 2:t="取消";break;case 3:t="正常";break;case 4:t="取消";break}return t},dateChange:function(e){this.$refs.singleTable&&this.$refs.singleTable.clearSelection(),this.currentRow=null,this.getSchedule()},getSchedule:function(){var e=this;this.scheduleListLoading=!0;var t=this;Object(c["u"])({times:[this.scheduleSelectDate]}).then(function(a){if(0==a.status){if(t.scheduleList=[],a.data){for(var i in a.data){for(var n=a.data[i].length-1;n>=0;n--){a.data[i][n];a.data[i][n].sortDate=parseInt(i),(2==a.data[i][n].status||4==a.data[i][n].status||sessionStorage.schedulingId==a.data[i][n].idIdentify||t.list&&t.list.length&&t.list[0].carLicenseNo==a.data[i][n].carLicenseNo)&&a.data[i].splice(n,1)}t.scheduleList=t.scheduleList.concat(a.data[i])}t.scheduleList.sort(function(e,t){return e.sortDate-t.sortDate}),t.scheduleList.filter(function(e){return 2!==e.status&&4!==e.status})}}else e.$message.error(a.msg)}).finally(function(){e.scheduleListLoading=!1})},transFormSubmit:function(){var e=this;"first"==this.activeName?this.currentRow?this.transformTask(this.currentRow.idIdentify):this.$message.warning("请选择排班"):this.$refs["transformForm"].validate(function(t){if(!t)return!1;e.addSchedule().then(function(t){e.transformTask(t)}).catch(function(){e.$message.error("生成排班出错啦")})})},transformTask:function(e){var t=this;Object(c["k"])({taskIds:this.taskIds,idIdentity:e}).then(function(e){0==e.status&&(t.$message.success("任务转换成功"),t.transformVisible=!1,t.getList())}).finally(function(){})},addSchedule:function(){var e=this,t=Object(r["a"])({},this.transformTemp),a=t.addDate.split("_");t.planYear=a[0],t.planMonth=a[1],t.planDay=a[2],t.status=3;var i=this.findItem(this.groupAlllist,"leaderId",t.leaderId);if(i){t.leaderName=i.leaderName,t.safetyId=i.safetyId,t.safetyName=i.safetyName,t.additionSafetyId=i.additionSafetyId,t.additionSafetyName=i.additionSafetyName,t.businessId=i.businessId,t.businessName=i.businessName,t.addBusinessId=i.addBusinessId,t.addBusinessName=i.addBusinessName,t.groupId=i.id,t.groupName=i.groupName,t.driverId=i.driverId,t.driverName=i.driverName;var n=this.findItem(this.carOptions,"id",t.carId);if(t.carLicenseNo=n.licenseNo,void 0!=t.safetyId&&void 0!=t.businessId){var s=Object(r["a"])({},t);return delete s.addDate,new Promise(function(t,a){Object(c["j"])(s).then(function(a){0==a.status&&(e.getSchedule(),t(a.data))}).catch(function(){}).finally(function(){})})}this.$message.warning("该车组长对应车组未绑定押运员1或业务员1")}else this.$message.warning("该车组长未绑定车组")},handleTransform:function(){this.resetTransform(),this.transformVisible=!0},tabClick:function(){this.$refs.singleTable&&this.$refs.singleTable.clearSelection(),this.currentRow=null,this.transformTemp={}},formateType:function(e){var t="";switch(e){case 1:t="晚收";break;case 2:t="早送";break;case 5:t="加钞";break;case 7:t="收款";break}return t},formateTaskType:function(e){var t="";switch(e){case 1:t="晚收";break;case 2:t="早送";break;case 5:t="加钞";break;case 6:t="缴款";break;case 7:t="送款";break;case 8:t="上门收款";break;case 9:t="人行提送款";break}return t},checkDate:function(){var e,t,a,i;if(e=new Date,a=new Date(e.getFullYear(),e.getMonth(),e.getDate()),this.scheduleType){t=sessionStorage.schedulingDate;var n=t.split("_");i=new Date(parseInt(n[0]),parseInt(n[1])-1,parseInt(n[2]))}else t=this.mdForm.date,i=new Date(t.getFullYear(),t.getMonth(),t.getDate());this.dateDisabled=i<a},formateFinish:function(e){var t="";switch(e){case 0:t="未知";break;case 1:t="初始化";break;case 2:t="取消";break;case 3:t="库管出库";break;case 5:t="银行入库";break;case 4:t="库管入库";break;case 6:t="银行出库";break}return t},exportImg:function(){var e=this;this.exportVisible=!0,this.exportTemp.type=[],this.$nextTick(function(){e.$refs["exportForm"].clearValidate(),e.$refs["exportForm"].resetFields()})},handleExport:function(){var e=this;v=this.$loading({target:"#myDialog3 .el-dialog"}),this.exportLoading3=!0;var t=[];this.exportTemp.type.forEach(function(a,i){t[i]=new Promise(function(t,i){Object(c["z"])({taskIds:e.idArr,type:a}).then(function(a){var n;0==a.status?a.data&&a.data.length?(n=a.data.map(function(t,a){return{path:t.path,filename:t.fileName,type:t.type,date:""+e.mdForm.date.getFullYear()+(e.mdForm.date.getMonth()+1)+e.mdForm.date.getDate()}}),t(n)):t([]):i(a.msg)}).catch(function(e){i()})})}),Promise.all(t).then(function(t){var a,i,n=(a=[]).concat.apply(a,Object(s["a"])(t));if(!n.length)return e.$message.warning("无数据"),v.close(),e.exportLoading3=!1,void(e.exportVisible=!1);Object(c["i"])((i=[]).concat.apply(i,Object(s["a"])(t))).then(function(t){try{var a=new TextDecoder("utf-8"),i=JSON.parse(a.decode(new Uint8Array(t)));e.$message({message:i.msg,type:"warning"})}catch(o){t.headers;var n="签名.zip",s=new Blob([t],{type:"application/zip"}),r=document.createElement("a");r.href=window.URL.createObjectURL(s),r.download=n,r.click(),r.remove()}}).catch(function(t){e.$message.error(t)}).finally(function(){v.close(),e.exportLoading3=!1,e.exportVisible=!1})}).catch(function(t){e.$message.error(t),v.close(),e.exportLoading3=!1})},popShow:function(e,t){var a,i=this;1==t&&1==e.type?a=1:1==t&&2==e.type?a=2:2==t&&1==e.type?a=3:2==t&&2==e.type&&(a=4),this.taskSrc="";var n=this,s=this.$loading({lock:!0,text:"加载中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Object(c["y"])({taskId:e.id,type:a}).then(function(e){0==e.status?e.data&&e.data.length?Object(c["m"])({path:e.data[0].path,fileName:e.data[0].fileName}).then(function(e){i.imgVisible=!0,n.taskSrc=window.URL.createObjectURL(e)}).catch(function(){i.$message.error("查看失败")}).finally(function(){s.close()}):(s.close(),i.$message.warning("无数据")):(s.close(),i.$message.error(e.msg))}).catch(function(){s.close()}).finally(function(){})},handleDelete:function(e){var t,a,i=this;1==e.status?t=2:3==e.status?t=4:5==e.status&&(t=6),"schedualChild"==this.scheduleType?a=c["K"]:"schedule"==this.scheduleType&&(a=c["J"]),a({id:e.id,status:t,finish:e.finish}).then(function(e){0==e.status?(i.getList(),i.$message.success(e.msg),i.dialogFormVisible=!1):i.$message.error(e.msg)}).finally(function(){})},statusShow:function(e,t){return(1!=e&&2!=e||1!=t&&2!=t)&&((1==e||2==e)&&1!==t&&2!==t||(3!=e&&4!=e||3!=t&&4!=t))},findItem:function(e,t,a){var i={};return i=e.find(function(e){return e[t]===a}),i},formatDateTime:function(e){var t=e.getFullYear(),a=e.getMonth()+1,i=e.getDate(),n=(e.getHours(),e.getMinutes());return n=n<10?"0"+n:n,t+"_"+a+"_"+i},createTask:function(){var e=this;this.$refs["addForm"].validate(function(t){if(!t)return!1;v=e.$loading({target:"#myDialog .el-dialog"}),e.addTemp.carLicenseNo=e.findItem(e.carOptions,"id",e.addTemp.carId).licenseNo,e.addTemp.driverName=e.findItem(e.driverOptions,"id",e.addTemp.driverId).name,e.addTemp.leaderName=e.findItem(e.teamLeaderOptions,"id",e.addTemp.leaderId).name,e.addTemp.safetyName=e.findItem(e.safetyOptions,"id",e.addTemp.safetyId).name,e.addTemp.additionSafetyName=e.findItem(e.safetyOptions,"id",e.addTemp.additionSafetyId).name,e.addTemp.businessName=e.findItem(e.businessOptions,"id",e.addTemp.businessId).name,e.addTemp.addBusinessName=e.findItem(e.businessOptions,"id",e.addTemp.addBusinessId).name,e.addTemp.destinationName=e.findItem(e.networkOptions,"id",e.addTemp.destinationId).name;var a=e.formatDateTime(e.mdForm.date).split("_");e.addTemp.planYear=parseInt(a[0]),e.addTemp.planMonth=parseInt(a[1]),e.addTemp.planDay=parseInt(a[2]);var i=Object(r["a"])({},e.addTemp);delete i.destinationId,delete i.destinationName,delete i.planTime,delete i.taskStatus,Object(c["h"])({data:i,params:{destinationId:e.addTemp.destinationId,destinationName:e.addTemp.destinationName,planTime:e.addTemp.planTime,taskStatus:e.addTemp.taskStatus}}).then(function(t){0==t.status?(e.getList(),e.$message.success(t.msg),e.addVisible=!1):e.$message.error(t.msg)}).finally(function(){v.close()})})},editTaskPerson:function(){var e=this;this.$refs["editPersonForm"].validate(function(t){if(!t)return!1;v=e.$loading({target:"#myDialog4 .el-dialog"}),e.editPersonTemp.driverName=e.findItem(e.driverOptions,"id",e.editPersonTemp.driverId).name,e.editPersonTemp.leaderName=e.findItem(e.teamLeaderOptions,"id",e.editPersonTemp.leaderId).name,e.editPersonTemp.safetyName=e.findItem(e.safetyOptions,"id",e.editPersonTemp.safetyId).name;var a=Object(r["a"])({},e.editPersonTemp);e.editPersonTemp.businessId?a.businessName=e.findItem(e.businessOptions,"id",e.editPersonTemp.businessId).name:(delete a.businessId,delete a.businessName),e.editPersonTemp.additionSafetyId?a.additionSafetyName=e.findItem(e.safetyOptions,"id",e.editPersonTemp.additionSafetyId).name:(delete a.additionSafetyId,delete a.additionSafetyName),e.editPersonTemp.addBusinessId?a.addBusinessName=e.findItem(e.businessOptions,"id",e.editPersonTemp.addBusinessId).name:(delete a.addBusinessId,delete a.addBusinessName),Object(c["p"])(a).then(function(t){0==t.status?(e.getList(),e.$message.success(t.msg),e.editPersonVisible=!1):e.$message.error(t.msg)}).finally(function(){v.close()})})},handleSubmit:function(){switch(this.dialogStatus){case"create":this.createData();break;case"update":this.updateData();break;case"bind":this.bindData();break}},bindData:function(){var e=this;this.$refs["dataForm"].validate(function(t){if(!t)return!1;for(var a,i={},n=[],s=0;s<e.rfidsRow.length;s++)-1==e.temp.rfids.indexOf(e.rfidsRow[s])&&n.push(e.rfidsRow[s]);if(i.taskId=e.temp.id,a=c["f"],e.temp.rfids.length&&(i.rfids=e.temp.rfids),(e.temp.nullNamePackage||0==e.temp.nullNamePackage)&&(i.nullNamePackage=e.temp.nullNamePackage),(e.temp.nullNameBox||0==e.temp.nullNameBox)&&(i.nullNameBox=e.temp.nullNameBox),!e.temp.templateBoxNum||e.temp.templateBox)if(!e.temp.templateBox||e.temp.templateBoxNum){(e.temp.templateBoxNum||0==e.temp.templateBoxNum)&&(i.templateBoxNum=e.temp.templateBoxNum),(e.temp.templateBox||""===e.temp.templateBox||null===e.temp.templateBox)&&(i.templateBox=e.temp.templateBox),v=e.$loading({target:"#myDialog .el-dialog"});var o,l,d,u=Object(r["a"])({},i);delete u.rfids,1==e.temp.isAdd&&(o=new Promise(function(t,a){u.templateBox||(u.templateBox=""),Object(c["o"])(u).then(function(a){0==a.status?t():e.$message.error(a.msg)}).finally(function(){})})),n.length&&(d=new Promise(function(t,a){Object(c["H"])({taskId:e.temp.id,rfids:n}).then(function(a){0==a.status?t():e.$message.error(a.msg)}).finally(function(){})})),l=new Promise(function(t,n){var s={taskId:i.taskId};if(i.rfids&&(s.rfids=i.rfids),e.temp.isAdd){if(!i.rfids)return void t()}else delete u.taskId,s=Object(r["a"])({},s,u),s.templateBox||delete s.templateBox;a(s).then(function(a){0==a.status?t():e.$message.error(a.msg)}).finally(function(){})});var m=[];o&&m.push(o),d&&m.push(d),m.push(l),Promise.all(m).then(function(t){e.getList(),e.$message.success("更新成功"),e.dialogFormVisible=!1,v.close()}).catch(function(){e.$message.error("出错拉")})}else e.$message.warning("周转箱数量与周转箱填写不符合规范");else e.$message.warning("周转箱数量与周转箱填写不符合规范")})},handleBind:function(e){var t=this;this.temp.id=e.id,this.temp.rfids=e.rfids.map(function(e,t){return e.rfid}),this.rfidsRow=Object(s["a"])(this.temp.rfids),this.temp.templateBox=e.templateBox,this.temp.nullNamePackage=e.nullNamePackage,this.temp.nullNameBox=e.nullNameBox,this.temp.templateBoxNum=e.templateBoxNum,this.temp.isAdd=e.isAdd,this.dialogStatus="bind",this.dialogFormVisible=!0,this.$nextTick(function(){t.$refs["dataForm"].clearValidate()}),this.getSelect1(e)},formatTime:function(e){return Object(p["e"])(e)},querySchedulesByTasks:function(e){var t=this;Object(c["v"])({idIdenties:e}).then(function(e){if(0==e.status){for(var a,i=[],n=0;n<t.list.length;n++)a=t.list[n].idIdentify,t.$set(t.list[n],"routeName",e.data[a].routeName),t.$set(t.list[n],"routeId",e.data[a].routeId),t.$set(t.list[n],"carLicenseNo",e.data[a].carLicenseNo),-1==i.indexOf(t.list[n].routeName)&&i.push(t.list[n].routeName);t.routeArr=i.map(function(e,t){return{text:e,value:e}})}}).catch(function(){})},sortByKey:function(e,t,a){var i=e,n=[],s=[];for(var r in i)this.inArray(i[r][a],t)?(i[r]["sort"]=t.indexOf(i[r][a]),n.push(i[r])):s.push(i[r]);return n=n.sort(function(e,t){return e.sort<t.sort?-1:e.sort>t.sort?1:0}),n.concat(s)},inArray:function(e,t){for(var a in t)if(t[a]==e)return!0;return!1},getList:function(){var e=this;this.listLoading=!0,this.checkDate();var t,a=this;if(this.packShow=!1,this.taskIds=[],this.cancelRequest&&(this.cancelRequest(),this.cancelRequest=null),this.cancelRequest1&&(this.cancelRequest1(),this.cancelRequest1=null),"schedualChild"==this.scheduleType)t=c["r"];else{if("schedule"!=this.scheduleType)return t=c["F"],void this.$refs["mdForm"].validate(function(i){if(i){e.listLoading=!0;var n={date:e.mdForm.date.getTime(),status:e.mdForm.status};e.mdForm.routeId&&(n.routeId=e.mdForm.routeId),t(n).then(function(t){if(0==t.status){a.list=t.data,a.list=a.sortByKey(a.list,[2,1],"type"),a.list=a.sortByKey(a.list,[1,3,5],"status");var i=[],n=[];a.list.forEach(function(e,t){i.push(e.id),n.push(e.idIdentify)}),a.idArr=i,Array.isArray(a.list)&&a.list.length&&(e.querySchedulesByTasks(n),e.getBindPak(i),e.getNum(i))}else e.$message.error(t.msg)}).finally(function(){a.listLoading=!1})}});t=c["a"]}this.listLoading=!0,t({uuid:this.schedulingId}).then(function(t){if(0==t.status){a.list=t.data,a.list=a.sortByKey(a.list,[2,1],"type"),a.list=a.sortByKey(a.list,[1,3,5],"status");var i=a.list.map(function(e,t){return e.id}),n=a.list.map(function(e,t){return e.idIdentify});e.querySchedulesByTasks(n),e.getBindPak(i),e.getNum(i)}else e.$message.error(t.msg)}).finally(function(){a.listLoading=!1})},getBindPak:function(e){var t=this;Object(c["w"])(e,new l.a.CancelToken(function(e){t.cancelRequest=e})).then(function(a){if(0==a.status){for(var i=0;i<t.list.length;i++)t.list[i].rfids=a.data[e[i]].filter(function(e,t){return 2!==e.status}),a.data[e[i]].length&&t.$set(t.list[i],"pakNames",t.list[i].rfids.map(function(e,t){return e.packageName}).join());t.packShow=!0}else t.$message.error(a.msg)}).finally(function(){t.listLoading=!1})},getNum:function(e){var t=this;Object(c["B"])(e,new l.a.CancelToken(function(e){t.cancelRequest1=e})).then(function(e){if(0==e.status)for(var a=0;a<t.list.length;a++)for(var i=0;i<e.data.length;i++)t.list[a].id==e.data[i].taskId&&(t.$set(t.list[a],"isAdd",!0),t.$set(t.list[a],"nullNameBox",e.data[i].nullNameBox),t.$set(t.list[a],"nullNamePackage",e.data[i].nullNamePackage),t.$set(t.list[a],"templateBox",e.data[i].templateBox),t.$set(t.list[a],"templateBoxNum",e.data[i].templateBoxNum));else t.$message.error(e.msg)}).finally(function(){t.listLoading=!1})},getSelect1:function(e){var t=this;this.bindOptions=[],this.rfidOptions1=[],Object(f["b"])({status:[1],type:1,belongToBankId:e.parentBankId,belongToBankName:e.parentBankName}).then(function(a){if(0==a.status){if(null==a.data)return t.bindOptions=[],void(t.rfidOptions1=[]);t.bindOptions=a.data;for(var i=t.bindOptions.length-1;i>=0;i--)"00000"!=t.bindOptions[i].rfid.slice(-5)?null!=t.bindOptions[i].rfid&&t.bindOptions[i].destinationId==e.destinationId||t.bindOptions.splice(i,1):(t.$set(t.rfidNameObj,t.bindOptions[i].rfid,t.bindOptions[i].name),t.rfidOptions1.push(t.bindOptions[i]),t.bindOptions.splice(i,1))}else null==a.data&&(t.bindOptions=[],t.rfidOptions1=[]),t.$message.error(a.msg)})},getSelect:function(){var e=this,t=this;if(Object(u["b"])({type:-1}).then(function(a){if(0==a.status){if(null===a.data.records)return void(t.networkOptions=[]);t.networkOptions=a.data}else null==a.data&&(e.networkOptions=[]),e.$message.error(a.msg)}),Object(g["b"])({rfidType:[90],status:[0,1]}).then(function(a){if(0==a.status){if(null==a.data)return;t.rfidOptions=a.data;for(var i=0;i<t.rfidOptions.length;i++)t.rfidNameObj[t.rfidOptions[i].rfid]=t.rfidOptions[i].linkName;t.rfidOptions.unshift({rfid:null,linkName:"请选择"})}else null==a.data&&(e.rfidOptions=[]),e.$message.error(a.msg)}),Object(m["f"])().then(function(a){if(0==a.status){if(null==a.data)return;t.geometryOptions=a.data,e.geometryOptions.unshift({id:null,name:"请选择"})}else null==a.data&&(e.geometryOptions=[],e.geometryOptions.unshift({id:null,name:"请选择"})),e.$message.error(a.msg)}),1===t.power||2===t.power){Object(b["c"])({}).then(function(a){if(0==a.status){if(null==a.data)return void(t.bankerOptions=[]);t.bankerOptions=a.data,t.bankerOptions.unshift({id:null,name:"请选择"})}else null==a.data&&(e.bankerOptions=[]),e.$message.error(a.msg)});new Promise(function(t,a){Object(h["c"])({status:2}).then(function(a){if(0==a.status){a.data||(a.data=[]);for(var i=a.data,n=i.length-1;n>=0;n--)0==i[n].status&&i.splice(n,1);e.groupAlllist=i}else e.$message.error(a.msg);t()})});Object(m["a"])({status:1}).then(function(a){if(0==a.status){if(null==a.data)return void(t.carOptions=[]);t.carOptions=a.data}else null==a.data&&(e.carOptions=[],e.carOptions.pop()),e.$message.error(a.msg)}),Object(m["i"])({workTypes:[1,2,3,4],statusList:[0,2]}).then(function(a){if(0==a.status){if(null==a.data)return void(t.teamLeaderOptions=[]);t.teamLeaderOptions=a.data}else null==a.data&&(e.teamLeaderOptions=[]),e.$message.error(a.msg)}),Object(m["g"])({work:1,status:1}).then(function(a){if(0==a.status){if(null==a.data)return void(t.driverOptions=[]);t.driverOptions=a.data}else null==a.data&&(e.driverOptions=[]),e.$message.error(a.msg)}),Object(m["g"])({work:3,status:1}).then(function(a){if(0==a.status){if(null==a.data)return void(e.safetyOptions=[]);t.safetyOptions=a.data,t.safetyOptions.unshift({id:null,name:"请选择"})}else null==a.data&&(e.safetyOptions=[]),e.$message.error(a.msg)}),Object(m["g"])({work:4,status:1}).then(function(a){if(0==a.status){if(null==a.data)return void(e.businessOptions=[]);t.businessOptions=a.data,t.businessOptions.unshift({id:null,name:"请选择"})}else null==a.data&&(e.businessOptions=[]),e.$message.error(a.msg)})}},resetTemp:function(){this.temp={}},tableRowClassName:function(e){e.row;var t=e.rowIndex;return t%2==0?"color-row":t%2==1?"noColor-row":""},handleCreate:function(){var e=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick(function(){e.$refs["dataForm"].clearValidate()})},handleCreateR:function(e){var t=this;this.tempR={destinationIds:[]},this.dialogFormVisibleR=!0,this.$nextTick(function(){t.$refs["dataFormR"].clearValidate()})},routeChange:function(e){var t=this;v=this.$loading({target:"#myDialog .el-dialog"}),this.tempR.destinationIds=[],this.networkOptionsR=[],Object(u["e"])({routeId:e}).then(function(e){if(0==e.status){if(null===e.data.records)return void(t.networkOptionsR=[]);t.networkOptionsR=e.data}else null==e.data&&(t.networkOptionsR=[]),t.$message.error(e.msg)}).finally(function(){v.close()})},handleAddUnexpectedTask:function(){this.addTemp={},this.addVisible=!0},handleSubmitR:function(){var e=this;this.$refs["dataFormR"].validate(function(t){if(!t)return!1;v=e.$loading({target:"#myDialog .el-dialog"});for(var a=[],i=function(t){for(var i=e.tempR.destinationIds[t],n=0;n<e.networkOptionsR.length;n++)if(e.networkOptionsR[n].id==i){e.tempR.destinationName=e.networkOptionsR[n].name,-1==e.networkOptionsR[n].id&&(e.tempR.destinationName="");break}"schedualChild"==e.scheduleType?e.tempR.planOrActually=0:"schedule"==e.scheduleType&&(e.tempR.planOrActually=1);var s=sessionStorage.schedulingDate,r=parseInt(s.split("_")[0]),o=parseInt(s.split("_")[1]),l=parseInt(s.split("_")[2]),d=e.findItem(e.networkOptionsR,"id",i),u=d.parentBankName,m=d.parentBankId,p=new Promise(function(t,a){Object(c["d"])({idIdentify:e.schedulingId,destinationId:i,destinationName:e.tempR.destinationName,finish:e.tempR.finish,status:e.tempR.status,planOrActually:e.tempR.planOrActually,taskYear:r,taskMonth:o,taskDay:l,parentBankId:m,parentBankName:u,planTime:e.tempR.planTime}).then(function(e){0==e.status&&t("成功了")})});a.push(p)},n=0;n<e.tempR.destinationIds.length;n++)i(n);Promise.all(a).then(function(t){e.getList(),e.$message.success("批量添加成功"),e.dialogFormVisible=!1}).catch(function(t){e.$message.success("添加出错喽")}).finally(function(){v.close()})})},createData:function(){var e=this;this.$refs["dataForm"].validate(function(t){if(!t)return!1;v=e.$loading({target:"#myDialog .el-dialog"});for(var a=0;a<e.networkOptions.length;a++)if(e.networkOptions[a].id==e.temp.destinationId){e.temp.destinationName=e.networkOptions[a].name,-1==e.networkOptions[a].id&&(e.temp.destinationName="");break}"schedualChild"==e.scheduleType?e.temp.planOrActually=0:"schedule"==e.scheduleType&&(e.temp.planOrActually=1);var i=sessionStorage.schedulingDate,n=parseInt(i.split("_")[0]),s=parseInt(i.split("_")[1]),r=parseInt(i.split("_")[2]);if(1==e.temp.status){var o=e.findItem(e.networkOptions,"id",e.temp.destinationId),l=o.parentBankName,d=o.parentBankId;Object(c["d"])({idIdentify:e.schedulingId,destinationId:e.temp.destinationId,destinationName:e.temp.destinationName,finish:e.temp.finish,status:e.temp.status,planOrActually:e.temp.planOrActually,taskYear:n,taskMonth:s,taskDay:r,parentBankId:d,parentBankName:l,planTime:e.temp.planTime}).then(function(t){0==t.status?(e.getList(),e.$message.success("添加成功"),e.dialogFormVisible=!1):e.$message.error(t.msg)}).finally(function(){v.close()})}else{var u={type:e.temp.status,year:n,month:s,day:r,startPoint:JSON.stringify(e.temp.startPoint),identify:e.schedulingId};e.temp.planTime&&(u.planTime=e.temp.planTime),e.temp.endPoint&&e.temp.endPoint.length&&(u.endPoint=JSON.stringify(e.temp.endPoint)),e.temp.bankerId&&(u.bankerId=e.temp.bankerId),Object(c["b"])(u).then(function(t){0==t.status?(e.getList(),e.$message.success("添加成功"),v.close(),e.dialogFormVisible=!1):e.$message.error(t.msg)}).catch(function(){v.close()})}})}},Object(n["a"])(i,"findItem",function(e,t,a){var i={};return i=e.find(function(e){return e[t]===a}),i}),Object(n["a"])(i,"handleUpdate",function(e){var t=this;this.temp={id:e.id,status:e.status,finish:e.finish},this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick(function(){t.$refs["dataForm"].clearValidate()})}),Object(n["a"])(i,"handleUpdatePerson",function(e){var t=this;this.editPersonTemp={id:e.id,leaderId:e.leaderId,driverId:e.driverId,safetyId:e.safetyId,additionSafetyId:e.additionSafetyId,businessId:e.businessId,addBusinessId:e.addBusinessId},this.editPersonVisible=!0,this.$nextTick(function(){t.$refs["editPersonForm"].clearValidate()})}),Object(n["a"])(i,"updateData",function(){var e=this;this.$refs["dataForm"].validate(function(t){if(!t)return!1;var a,i;v=e.$loading({target:"#myDialog .el-dialog"}),"schedualChild"==e.scheduleType?(a=c["K"],i={id:e.temp.id,status:e.temp.status}):"schedule"==e.scheduleType&&(a=c["J"],i={id:e.temp.id,status:e.temp.status,finish:e.temp.finish}),a(i).then(function(t){0==t.status?(e.getList(),e.$message.success(t.msg),e.dialogFormVisible=!1):e.$message.error(t.msg)}).finally(function(){v.close()})})}),Object(n["a"])(i,"exportExcel",function(e){var t,a=this;"all"==e?(this.exportLoading2=!0,t={excelType:30,title:"任务表",status:this.mdForm.status,times:[this.mdForm.date.getTime().toString()]},5==JSON.parse(sessionStorage.getItem("userInfo")).Power&&(t.bankerId=JSON.parse(sessionStorage.getItem("userInfo")).PersonId,t.excelType=33),this.mdForm.routeId&&(t.routeId=this.mdForm.routeId)):(this.exportLoading1=!0,t={excelType:20,title:"任务表",uuid:sessionStorage.schedulingId,status:[1,2,3,4,5,6]}),Object(m["b"])(t).then(function(e){try{var t=new TextDecoder("utf-8"),i=JSON.parse(t.decode(new Uint8Array(e)));a.$message({message:i.msg,type:"warning"})}catch(o){e.headers;var n="任务表.xls",s=new Blob([e],{type:"application/excel"}),r=document.createElement("a");r.href=window.URL.createObjectURL(s),r.download=n,r.click(),r.remove()}}).finally(function(){"all"==e?a.exportLoading2=!1:a.exportLoading1=!1})}),Object(n["a"])(i,"exportExcel1",function(){var e=this;Object(m["b"])({excelType:23,title:"任务库包分配表",times:[this.mdForm.date.getTime().toString()]}).then(function(t){try{var a=new TextDecoder("utf-8"),i=JSON.parse(a.decode(new Uint8Array(t)));e.$message({message:i.msg,type:"warning"})}catch(o){t.headers;var n="任务库包分配表.xls",s=new Blob([t],{type:"application/excel"}),r=document.createElement("a");r.href=window.URL.createObjectURL(s),r.download=n,r.click(),r.remove()}})}),i)}}).call(this,a("1157"))},"6e55":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container",class:{adminClass:1!==e.power&&2!==e.power},attrs:{id:"gunInOut"}},[a("div",{staticClass:"filter-container"},[a("div",{staticClass:"multidevice filter-container"},[a("div",{staticClass:"selectBox"},[a("el-form",{ref:"mdForm",staticClass:"mdElForm",attrs:{inline:!0,rules:e.mdRule,model:e.mdForm,"label-width":"80px"}},[a("el-form-item",{attrs:{prop:"searchDate"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",clearable:!1},model:{value:e.mdForm.searchDate,callback:function(t){e.$set(e.mdForm,"searchDate",t)},expression:"mdForm.searchDate"}})],1),a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.getList}},[e._v("搜索")])],1)],1)])]),a("div",{staticClass:"inOutNum"},[a("div",[e._v("总数 "+e._s(this.totalCount)+" ")]),a("div",[e._v("出库 "+e._s(this.totalOutbound)+" ")]),a("div",[e._v("在库 "+e._s(this.totalInbound)+" ")])]),a("div",{staticClass:"tableBox"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,fit:"","highlight-current-row":"","row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{label:"序号",prop:"id",fixed:"",sortable:"custom",align:"center",width:"80",type:"index",index:e.indexMethod}}),a("el-table-column",{attrs:{label:"枪号","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.code))])]}}])}),a("el-table-column",{attrs:{label:"出库","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.outbound))])]}}])}),a("el-table-column",{attrs:{label:"入库","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.inbound))])]}}])}),a("el-table-column",{attrs:{label:"状态","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(0==t.row.runType?"在库":"出库"))])]}}])})],1)],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.page,limit:e.listQuery.limit,layout:"prev, pager, next, sizes, total, jumper"},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"limit",t)},pagination:e.getList}})],1)},n=[],s=(a("55dd"),a("333d")),r=a("39d6"),o={name:"gunInOut",components:{Pagination:s["a"]},data:function(){var e=function(e,t,a){t?a():a(new Error("请选择设备"))};return{power:JSON.parse(sessionStorage.getItem("userInfo")).Power,tableKey:0,list:null,total:0,indexMethod:1,listLoading:!0,listQuery:{page:1,limit:10,keyword:void 0},mdForm:{searchDate:new Date},mdRule:{searchDate:[{trigger:"change",message:"请选择时间",validator:e}]},totalCount:0,totalInbound:0,totalOutbound:0}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.listLoading=!0,Object(r["f"])({date:this.mdForm.searchDate.getTime()}).then(function(t){0==t.status&&(e.listLoading=!1,e.list=t.data.classify||[],e.list.sort(function(e,t){return t.runType-e.runType}),e.totalCount=t.data.totalCount,e.totalInbound=t.data.totalInbound,e.totalOutbound=t.data.totalOutbound,e.indexMethod=(e.listQuery.page-1)*e.listQuery.limit+1)}).finally(function(){e.listLoading=!1})},tableRowClassName:function(e){e.row;var t=e.rowIndex;return t%2==0?"color-row":t%2==1?"noColor-row":""}}},l=o,d=(a("9857"),a("2877")),c=Object(d["a"])(l,i,n,!1,null,null,null);t["default"]=c.exports},"727e":function(e,t,a){"use strict";var i=a("8513"),n=a.n(i);n.a},7289:function(e,t,a){},7741:function(e,t,a){"use strict";var i=a("6179b"),n=a.n(i);n.a},7968:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container",class:{adminClass:1!==e.power&&2!==e.power},attrs:{id:"gunInOutRecord"}},[a("div",{staticClass:"multidevice filter-container"},[a("div",{staticClass:"selectBox"},[a("el-form",{ref:"mdForm",staticClass:"mdElForm",attrs:{inline:!0,rules:e.mdRule,model:e.mdForm,"label-width":"80px"}},[a("el-form-item",{attrs:{prop:"imeiGun"}},[a("el-cascader",{ref:"myMdGunsCas",attrs:{"popper-class":"myGunCas",placeholder:"选择枪支",props:{expandTrigger:"hover",multiple:!0},options:e.dataGun,"show-all-levels":!1,clearable:"",filterable:"","collapse-tags":""},model:{value:e.mdForm.imeiGun,callback:function(t){e.$set(e.mdForm,"imeiGun",t)},expression:"mdForm.imeiGun"}})],1),a("el-form-item",{attrs:{prop:"searchDate"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",clearable:!1,"picker-options":e.pickerOptions},model:{value:e.mdForm.searchDate,callback:function(t){e.$set(e.mdForm,"searchDate",t)},expression:"mdForm.searchDate"}})],1),a("el-form-item",{staticClass:"btnBox"},[a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v("搜索")]),a("el-button",{staticClass:"filter-item filter-item-btn",attrs:{type:"primary",loading:e.exportLoading1,icon:"iconfont icondaochu"},on:{click:function(t){return e.exportExcel(1)}}},[e._v("按时间段导出")]),a("el-button",{staticClass:"filter-item filter-item-btn",attrs:{type:"primary",loading:e.exportLoading2,icon:"iconfont icondaochu"},on:{click:function(t){return e.exportExcel(2)}}},[e._v("按枪号导出")])],1)],1)],1)]),a("div",{staticClass:"tableBox"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,fit:"","highlight-current-row":"","row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{label:"序号",prop:"id",fixed:"",sortable:"custom",align:"center",width:"80",type:"index",index:e.indexMethod}}),a("el-table-column",{attrs:{label:"枪号","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.gunCode))])]}}])}),a("el-table-column",{attrs:{label:"时间","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.formatDate1(t.row.handoverTime)))])]}}])}),a("el-table-column",{attrs:{label:"动能弹(发)","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){t.row;return[a("span",[e._v("5")])]}}])}),a("el-table-column",{attrs:{label:"押运员","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.safetyName))])]}}])}),a("el-table-column",{attrs:{label:"管理员","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.adminName))])]}}])}),a("el-table-column",{attrs:{label:"管理员","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.additionAdminName))])]}}])}),a("el-table-column",{attrs:{label:"状态","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(1==t.row.status?"领用":"归还"))])]}}])})],1)],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.page,limit:e.listQuery.limit,layout:"prev, pager, next, sizes, total, jumper"},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"limit",t)},pagination:e.getList}})],1)},n=[],s=(a("34ef"),a("7f7f"),a("ac6a"),a("f3e2"),a("333d")),r=a("ad19"),o=a("39d6"),l=a("69d9"),d=a("66e8"),c={name:"gunInOutRecord",components:{Pagination:s["a"]},data:function(){var e=this,t=function(t,a,i){var n=e.mdForm.imeiGun;n.length<1?i(new Error("请选择")):i()},a=function(e,t,a){t&&0!=t.length?a():a(new Error("请选择时间"))};return{power:JSON.parse(sessionStorage.getItem("userInfo")).Power,tableKey:0,list:null,total:0,indexMethod:1,listLoading:!1,listQuery:{page:1,limit:10},mdForm:{imeiGun:[],searchDate:[new Date,new Date]},mdRule:{imeiGun:[{validator:t,trigger:"change"}],searchDate:[{trigger:"change",message:"请选择时间",validator:a}]},dataGun:[],imei2name:{},formVisible:!1,temp:{imeiGun:[],searchDate:[new Date,new Date]},exportLoading1:!1,exportLoading2:!1,selectDate:null,pickerOptions:{disabledDate:function(t){return null!=e.selectDate&&e.selectDate.getMonth()!=t.getMonth()},onPick:function(t){t.minDate&&!t.maxDate?e.selectDate=t.minDate:e.selectDate=null}}}},created:function(){this.getTeamAndGunList()},methods:{intervalDay:function(e,t){var a=t.setHours(0,0,0,0)-e.setHours(0,0,0,0),i=Math.floor(a/864e5);return i},getDateArr:function(e,t){for(var a=[],i=0;i<e+1;i++)a.push(t+24*i*3600*1e3);return a},formatDate:l["d"],formatDate1:function(e){return Object(l["d"])(e,1)},getTeamAndGunList:function(){var e=this,t=this;Object(r["h"])({}).then(function(a){if(0==a.status){t.dataGun=e.formatCas(a.data,"id","code");for(var i=0;i<e.dataGun.length;i++)for(var n=0;n<e.dataGun[i].children.length;n++)t.mdForm.imeiGun.push([t.dataGun[i].value,e.dataGun[i].children[n].value]);t.mdForm.imeiGun.length&&e.handleFilter()}else e.$message.error(a.msg)})},formatCas:function(e,t,a){var i=[],n=0,s=this,r=function(r){var o=[];e[r].forEach(function(e){o.push({value:e[t],label:e[a],name:e.gunCode}),s.imei2name[e[t]]=e[a]}),i.push({value:"i".concat(n++),label:""==r?"未分组":r,children:o})};for(var o in e)r(o);return i},getList:function(){var e=this;Object(o["g"])(this.listQuery).then(function(t){0==t.status&&(e.list=t.data,e.total=t.count,e.indexMethod=(e.listQuery.page-1)*e.listQuery.limit+1)}).finally(function(){e.listLoading=!1})},handleFilter:function(){var e=this;this.$refs["mdForm"].validate(function(t){if(t){e.listLoading=!0,e.listQuery.page=1;for(var a=[],i=0;i<e.mdForm.imeiGun.length;i++)a.push(e.mdForm.imeiGun[i][1]);e.listQuery.startTime=e.formatDate(e.mdForm.searchDate[0])+" 00:00:00",e.listQuery.endTime=e.formatDate(e.mdForm.searchDate[1])+" 23:59:59",e.listQuery.gunIds=a,e.getList()}})},tableRowClassName:function(e){e.row;var t=e.rowIndex;return t%2==0?"color-row":t%2==1?"noColor-row":""},exportExcel:function(e){for(var t=this,a=this,i=[],n=[],s=0;s<this.mdForm.imeiGun.length;s++)i.push(this.mdForm.imeiGun[s][1]);var r=this.intervalDay(this.mdForm.searchDate[0],this.mdForm.searchDate[1]);n=this.getDateArr(r,this.mdForm.searchDate[0].getTime()),a.$refs["mdForm"].validate(function(a){a&&(1==e?t.exportLoading1=!0:2==e&&(t.exportLoading2=!0),Object(d["b"])({mode:e,excelType:21,title:"枪支领用表",gunIds:i,times:n}).then(function(e){try{var a=new TextDecoder("utf-8"),i=JSON.parse(a.decode(new Uint8Array(e)));t.$message({message:i.msg,type:"warning"})}catch(o){e.headers;var n="枪支领用表.xls",s=new Blob([e],{type:"application/excel"}),r=document.createElement("a");r.href=window.URL.createObjectURL(s),r.download=n,r.click(),r.remove()}}).finally(function(){1==e?t.exportLoading1=!1:2==e&&(t.exportLoading2=!1)}))})}}},u=c,m=(a("f5fa"),a("2877")),p=Object(m["a"])(u,i,n,!1,null,null,null);t["default"]=p.exports},"7cc2":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container",attrs:{id:"networkTaskStatistic"}},[a("div",{staticClass:"filter-container"},[a("el-select",{staticClass:"typeSelect",attrs:{placeholder:"请选择"},on:{change:e.typeSelectChange},model:{value:e.typeValue,callback:function(t){e.typeValue=t},expression:"typeValue"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),a("div",{staticClass:"selectBox"},[a("el-form",{ref:"mdForm",staticClass:"filterTool",attrs:{inline:!0,rules:e.mdRule,model:e.mdForm,"label-width":"80px"}},[a("el-form-item",{attrs:{prop:"searchDate"}},[a("el-date-picker",{staticClass:"filter-item",attrs:{type:"daterange","range-separator":"至","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期",clearable:!1},model:{value:e.mdForm.searchDate,callback:function(t){e.$set(e.mdForm,"searchDate",t)},expression:"mdForm.searchDate"}})],1),a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.getTable}},[e._v("搜索")]),a("el-button",{staticClass:"filter-item filter-item-btn",attrs:{type:"primary",icon:"iconfont icondaochu",loading:e.exportLoading},on:{click:e.exportExcel}},[e._v("导出")]),a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"iconfont icontubiao"},on:{click:e.showChartDialog}},[e._v("生成图表")])],1)],1)],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"tableBox"},[e.rowList.length?a("el-table",{key:e.tableKey,staticStyle:{width:"100%"},attrs:{border:"",data:e.rowList,fit:"","highlight-current-row":"",height:"100%"}},[a("el-table-column",{attrs:{label:"序号",prop:"id",fixed:"",sortable:"custom",align:"center",width:"80",type:"index",index:e.indexMethod}}),a("el-table-column",{attrs:{label:"网点名称",prop:"name","min-width":"80px",align:"center"}}),e._l(e.colList,function(t){return a("el-table-column",{attrs:{label:t.name,"min-width":"100px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(i){var n=i.row;return[a("span",[e._v(e._s(e.formateNum(n.id,t.id)))])]}}],null,!0)})})],2):e._e()],1),a("el-dialog",{attrs:{title:"图表",visible:e.dialogTableVisible,width:"90%"},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[a("div",{attrs:{id:"mychart"}})])],1)},n=[],s=(a("34ef"),a("ac6a"),a("5df3"),a("7f7f"),a("6d67"),a("313e")),r=a.n(s),o=a("bc33"),l=a("2ade");function d(e){return Object(l["a"])({url:"/eoms/report/queryPointTaskReport",method:"post",data:e})}var c=a("69d9"),u=a("66e8"),m={name:"networkTaskStatistic",data:function(){var e=function(e,t,a){t?a():a(new Error("请选择设备"))};return{power:JSON.parse(sessionStorage.getItem("userInfo")).Power,bankerId:JSON.parse(sessionStorage.getItem("userInfo")).PersonId,tableKey:0,indexMethod:1,listLoading:!1,mdForm:{searchDate:[this.formatDate((new Date).setHours(0,0,0)),this.formatDate((new Date).setHours(0,0,0))]},mdRule:{searchDate:[{trigger:"change",message:"请选择时间",validator:e}]},rowList:[],colList:[],dataObj:{},exportLoading:!1,dialogTableVisible:!1,echartsData:[],myChart:null,typeValue:1,taskType:[1,2,5,6,7,8],options:[{value:1,label:"网点任务按任务类型统计"},{value:2,label:"网点任务按时间统计"}]}},created:function(){this.getTable()},beforeDestroy:function(){this.myChart&&this.myChart.dispose(),this.myChart=null},methods:{typeSelectChange:function(){this.colList=[],this.rowList=[],this.dataObj={},this.echartsData=[]},formatDate:c["d"],formateNum:function(e,t){var a,i,n=this.dataObj[e];if(1==this.typeValue?i="type":2==this.typeValue&&(i="date"),n)for(var s=0;s<n.length;s++)if(n[s][i]==t){a=n[s].num;break}return a},showChartDialog:function(){var e=this;this.dialogTableVisible=!0,this.$nextTick(function(){e.showChart()})},showChart:function(){var e=[],t=[];t=this.rowList.map(function(e,t){return e.name}),e=this.colList.map(function(e,t){return e.name}),this.myChart&&this.myChart.dispose();var a,i=document.getElementById("mychart");this.myChart=r.a.init(i,!0),a={tooltip:{trigger:"axis",axisPointer:{type:"shadow",label:{show:!0}}},legend:{data:e,itemGap:5},xAxis:{type:"category",data:t,splitLine:{show:!0}},yAxis:{show:!1,type:"value"},dataZoom:[{show:!0,start:0,end:100},{type:"inside",start:0,end:100}],series:this.echartsData},a&&this.myChart.setOption(a)},getTable:function(){var e,t,a=this;this.listLoading=!0,this.colList=[],this.rowList=[],this.dataObj=[],this.echartsData=[],1==this.typeValue?(t=1,this.colList=[{id:1,name:"晚收"},{id:2,name:"早送"},{id:5,name:"加钞"},{id:6,name:"缴款"},{id:7,name:"送款"},{id:8,name:"上门收款"}],e=Promise.resolve([{id:1,name:"晚收"},{id:2,name:"早送"},{id:5,name:"加钞"},{id:6,name:"缴款"},{id:7,name:"送款"},{id:8,name:"上门收款"}])):2==this.typeValue&&(t=2,this.colList=this.dealDate1(),e=Promise.resolve(this.colList));var i=new Promise(function(e,t){Object(o["b"])({type:-1}).then(function(i){0==i.status?(a.rowList=i.data,e(i.data)):t()}).catch(function(){t()})}),n=new Promise(function(e,i){d({startTime:a.mdForm.searchDate[0]+" 00:00:00",endTime:a.mdForm.searchDate[1]+" 00:00:00",reportType:t,taskType:a.taskType}).then(function(t){0==t.status?(a.dataObj=t.data,e(t.data)):i()}).catch(function(){a.dataObj={},i()})});Promise.all([e,i,n]).then(function(e){a.listLoading=!1,a.echartsData=[],1==a.typeValue?a.getDataByDealGroupRoute("id","type","id"):2==a.typeValue&&a.getDataByDealGroupRoute("id","date","id")}).catch(function(){a.listLoading=!1})},getDataByDealGroupRoute:function(e,t,a){for(var i=0;i<this.colList.length;i++){for(var n=[],s=0;s<this.rowList.length;s++){var r=0;if(this.dataObj.hasOwnProperty(this.rowList[s][e])&&this.dataObj[this.rowList[s][e]])for(var o=0;o<this.dataObj[this.rowList[s][e]].length;o++)if(this.dataObj[this.rowList[s][e]][o][t]==this.colList[i][a]){r=this.dataObj[this.rowList[s][e]][o].num;break}n.push(r)}this.echartsData.push({name:this.colList[i].name,data:n,type:"bar"})}},dealDate1:function(){var e=this;function t(e){var t=new Date(e),a=t.getFullYear(),i=t.getMonth()+1,n=t.getDate();return"".concat(a,"-").concat(i,"-").concat(n)}for(var a=864e5,i=new Date(e.mdForm.searchDate[0]).getTime(),n=new Date(e.mdForm.searchDate[1]).getTime()+a-1,s=Math.ceil((n-i)/a),r=[],o=0;o<s;o++){var l=t(i+a*o);r.push({id:l,name:l})}return r},dealDate:function(){var e=this;if(!e.mdForm.searchDate||0==e.mdForm.searchDate.length)return[];for(var t=864e5,a=new Date(e.mdForm.searchDate[0]).getTime(),i=new Date(e.mdForm.searchDate[1]).getTime()+t-1,n=Math.ceil((i-a)/t),s=[],r=0;r<n;r++)s.push(a+t*r);return s},tableRowClassName:function(e){e.row;var t=e.rowIndex;return t%2==0?"color-row":t%2==1?"noColor-row":""},exportExcel:function(){var e=this,t=this;t.$refs["mdForm"].validate(function(a){if(a){e.exportLoading=!0;var i,n,s=36;1==e.typeValue?(n=1,i="网点任务按任务类型统计报表"):2==e.typeValue&&(n=2,i="网点任务按时间统计报表"),Object(u["b"])({excelType:s,title:i,times:[new Date(t.mdForm.searchDate[0]).getTime(),new Date(t.mdForm.searchDate[1]).getTime()],reportType:n,taskType:e.taskType}).then(function(t){try{var a=new TextDecoder("utf-8"),n=JSON.parse(a.decode(new Uint8Array(t)));e.$message({message:n.msg,type:"warning"})}catch(l){t.headers;var s=i+".xls",r=new Blob([t],{type:"application/excel"}),o=document.createElement("a");o.href=window.URL.createObjectURL(r),o.download=s,o.click(),o.remove()}}).finally(function(){e.exportLoading=!1})}})}}},p=m,f=(a("4c64"),a("2877")),h=Object(f["a"])(p,i,n,!1,null,null,null);t["default"]=h.exports},"7eae":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container",class:{adminClass:1!==e.power&&2!==e.power},attrs:{id:"gunInOutProcedure"}},[a("div",{staticClass:"contenBox"},[a("el-card",{staticClass:"box-card headerBox"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"showText",class:{activeColor:1==e.finish}},[e._v(e._s(e.showText)),a("span",{directives:[{name:"show",rawName:"v-show",value:e.showRunType,expression:"showRunType"}],staticClass:"highlight"},[e._v(e._s("（待"+e.showRunType+")"))])])])]),a("div",{staticClass:"box1"},[a("div",{staticClass:"box2"},[a("div",{staticClass:"taskNum"},[e._v("\n          今日任务数："+e._s(e.taskList.length)+"\n          "),a("div",{staticClass:"restartBtn"},[a("el-button",{attrs:{type:"primary"},on:{click:e.restart1}},[e._v("刷新")])],1)]),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("div",[e._v("扫描流程")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:0==e.inOutType||1==e.inOutType||2==e.inOutType,expression:"inOutType==0||inOutType==1||inOutType==2"}],staticClass:"personMes toggleContent1 tableBox"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,attrs:{data:e.procedureList,fit:"","highlight-current-row":"","row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{label:"类别",width:"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.item))])]}}])}),a("el-table-column",{attrs:{label:"名称","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.itemName))])]}}])}),a("el-table-column",{attrs:{label:"枪支/设备号","min-width":"100px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.code?t.row.code:t.row.gunImei))])]}}])}),a("el-table-column",{attrs:{label:"枪支类型","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(1==t.row.type?"普通枪":2==t.row.type?"机动枪":""))])]}}])}),a("el-table-column",{attrs:{label:"动能弹","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.bullet2))])]}}])}),a("el-table-column",{attrs:{label:"刷卡时间","min-width":"150px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.time))])]}}])}),a("el-table-column",{attrs:{label:"完成状态","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("i",{staticClass:"el-icon-success",class:{activeColor:1==e.row.status}})]}}])})],1)],1)])],1),a("div",{staticClass:"personDetail"},[a("div",{staticClass:"detailText"},[e._v("\n          "+e._s(e.personDetail.name)+"\n\n        ")]),a("div",{staticClass:"photo"},[a("img",{attrs:{src:e.personDetail.taskSrc,alt:"暂无图片"}})])])])],1),a("el-dialog",{attrs:{title:"提示",visible:e.centerDialogVisible,width:"30%",top:"36vh",modal:!0,center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[a("div",{staticStyle:{"text-align":"center","font-size":"20px","padding-bottom":"20px"}},[e._v(e._s(e.dialogText))]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.centerDialogVisible=!1}}},[e._v("确 定")])],1)]),a("el-dialog",{staticClass:"dialog-footer-span",attrs:{title:"提示",center:"",visible:e.dialogVisible,width:"50%",top:"36vh","show-close":!0,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("span",{staticStyle:{"text-align":"center","font-size":"40px","padding-bottom":"20px"}},[e._v("读卡器已经关闭，请点击按钮重新打开！")]),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"open",attrs:{type:"primary"},on:{click:e.open}},[e._v("开始刷卡")])],1)])],1)},n=[],s=(a("7f7f"),a("5df3"),a("34ef"),a("262f"),a("4917"),a("57e7"),a("28a5"),a("ac6a"),a("f3e2"),a("4807")),r=a("d256"),o=a("47a3"),l=a("39d6"),d=a("69d9"),c=a("9a3e"),u=a("bc3a"),m=a.n(u),p=void 0,f={name:"gunInOutProcedure",data:function(){return{inOutType:0,tableKey:1,listLoading:!1,procedureList:[{item:"管理员"},{item:"管理员"},{item:"押运员"},{item:"枪支"}],taskList:[],indexMethod:1,rfid:null,cancelRequest1:null,cancelRequest2:null,cancelRequest3:null,finish:0,wsCar:null,wsArr:[],showText:"等待管理员刷卡中......",centerDialogVisible:!1,dialogText:"",dialogTimer:null,gunScheduleDone:!1,personDetail:{},power:null,showRunType:"",scanRfid:{},dialogVisible:!1,facePersonRelationData:{},confirmShow:!1}},created:function(){this.power=JSON.parse(this.$store.state.user.userInfo).Power,this.getFacePersonRelation()},computed:{},mounted:function(){this.webSocketConnect()},beforeDestroy:function(){this.wsCar&&this.wsCar.close();for(var e=0;e<this.wsArr.length;e++)this.wsArr[e]&&(this.wsArr[e].close(),this.wsArr[e]=null)},methods:{formateType:function(e){var t="";switch(e){case 1:t="晚收";break;case 2:t="早送";break;case 5:t="加钞";break;case 7:t="收款";break}return t},speak:function(e){var t=new SpeechSynthesisUtterance(e);t.volume=100,t.rate=1,t.pitch=1.5,speechSynthesis.speak(t)},webSocketConnect:function(){var e=a("6b57");this.wsInit("ws://127.0.0.1:22345",e),this.wsInit("wss://beidoulab.work:11119",e)},findIP:function(e){var t=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection,a=new t({iceServers:[]}),i=function(){},n={},s=/([0-9]{1,3}(\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/g;function r(t){n[t]||e(t),n[t]=!0}a.createDataChannel(""),a.createOffer().then(function(e){e.sdp.split("\n").forEach(function(e){e.indexOf("candidate")<0||e.match(s).forEach(r)}),a.setLocalDescription(e,i,i)}),a.onicecandidate=function(e){e&&e.candidate&&e.candidate.candidate&&e.candidate.candidate.match(s)&&e.candidate.candidate.match(s).forEach(r)}},open:function(){this.wsArr.length&&(this.wsArr[0].send("start"),this.dialogVisible=!1)},wsInit:function(e,t){var a=new WebSocket(e),i=this;switch(this.wsArr.push(a),a.binaryType="arraybuffer",a.readyState){case WebSocket.CONNECTING:console.log("正在连接");break;case WebSocket.OPEN:console.log("连接成功");break;case WebSocket.CLOSING:console.log("正在关闭");break;case WebSocket.CLOSED:console.log("已经关闭，或者打开连接失败");break;default:break}a.onerror=function(e){console.log("error")},a.onclose=function(){console.log("close")},a.onopen=function(){},a.onmessage=function(e){if(e.data instanceof ArrayBuffer){var a=e.data,n=new DataView(a.slice(0,8)),s=n.getInt32(0),r=null,o=new Uint8Array(a.slice(8,s+4));r=t.lookupType("com.beidou.proto.local.RealTimeRfidInfoResponse");var l=r.decode(o);if(-1===l.cardReadable)return void(i.dialogVisible=!1);if(-2===l.cardReadable)return void(i.dialogVisible=!0);1===l.cardReadable&&0==i.dialogVisible?i.dealWebSocketData(l.rfid):2===l.cardReadable&&0==i.dialogVisible&&i.facePersonRelationData.hasOwnProperty(l.enrollId)&&i.dealWebSocketData(i.facePersonRelationData[l.enrollId])}}},dealWebSocketData:function(e){if(1!=this.confirmShow&&!(this.cancelRequest1||this.cancelRequest2||this.cancelRequest3)&&(0!=this.finish||!this.procedureList[3].rfid)&&(1!=this.procedureList[2].status||this.procedureList[3].rfid||-1!=e.indexOf("47554E3031"))&&e!=this.procedureList[0].rfid&&e!=this.procedureList[1].rfid&&(e!=this.procedureList[2].rfid||1!=this.procedureList[2].status||this.procedureList[3].rfid)){var t=new Date;this.scanRfid.hasOwnProperty(e)&&t-this.scanRfid[e]<3e4||this.rfid!==e&&(this.rfid=e,this.queryByRfid(this.rfid))}},updateTime:function(){var e=new Date;(!this.scanRfid.hasOwnProperty(this.rfid)||this.scanRfid.hasOwnProperty(this.rfid)&&e-this.scanRfid[this.rfid]>=3e4)&&(this.scanRfid[this.rfid]=e)},restart1:function(){this.wsArr.length&&(this.wsArr[0].send("start"),this.dialogVisible=!1,this.scanRfid={}),this.rfid=null,this.restart()},restart:function(){this.procedureList.splice(2,2,{item:"押运员"},{item:"枪支"}),this.taskList=[],this.finish=0,this.procedureList[1].rfid?this.showText="等待押运员刷卡中......":this.showText="等待管理员刷卡中......",this.personDetail={},this.showRunType=""},formatDate1:function(e){return Object(d["d"])(e,1)},queryByRfid:function(e){var t=this,a=this;this.cancelRequest1&&(this.cancelRequest1(),this.cancelRequest1=null),Object(s["b"])({rfid:this.rfid},new m.a.CancelToken(function(e){t.cancelRequest1=e})).then(function(i){if(0==i.status){if(a.cancelRequest1=null,i.data&&0==i.data.length)return void a.showDialog("未查询到人员信息");var n=i.data[0];if(!n.linkId)return void a.showDialog("未查询到身份信息");if(null==n.workTypes&&(n.workTypes=[]),-1!==n.workTypes.indexOf(3)&&-1==n.workTypes.indexOf(6)){if(!a.procedureList[1].rfid)return void a.showDialog("管理员还未刷卡，请管理员刷卡");a.updateTime(),a.staffSwipe(n,e)}else 80!==n.rfidType&&-1==n.workTypes.indexOf(6)&&-1==n.workTypes.indexOf(3)?a.showDialog("身份错误"):80===n.rfidType?!a.procedureList[2].status||0==a.taskList.length||a.finish||a.procedureList[3].status||(a.updateTime(),a.gunSwipe(n,e)):-1!==n.workTypes.indexOf(6)&&-1==n.workTypes.indexOf(3)?(a.updateTime(),a.adminSwipe(n,e)):-1!==n.workTypes.indexOf(6)&&-1!==n.workTypes.indexOf(3)&&(a.procedureList[0].status&&a.procedureList[1].status?(a.updateTime(),a.staffSwipe(n,e)):(a.updateTime(),a.adminSwipe(n,e)))}else t.$message.error(i.msg)}).catch(function(e){}).finally(function(){t.cancelRequest1=null})},staffSwipe:function(e,t){var a=this;this.showRunType="";var i={};this.personDetail={},this.taskList=[],this.finish=0,i={item:"押运员",itemName:e.linkName,time:this.formatDate1((new Date).getTime()),status:0,linkId:e.linkId,bullet1:4,bullet2:5,rfid:t},this.procedureList.splice(2,2,i,{item:"枪支"});var n=this.procedureList[2].itemName;this.showText=n+"刷卡",this.speak(this.showText);var s=this.queryPersonDetail(e.linkId),r=this.queryTaskList({personId:e.linkId});s.then(function(e){a.queryPhoto(e).then(function(e){a.showPhoto(e)})}),Promise.all([s,r]).then(function(e){if(a.taskList.length)a.$set(a.procedureList[2],"status",1);else{var t=a.procedureList[2].itemName;a.showText=t+"无任务信息，请下一位押运员刷卡",a.showDialog(a.showText),a.restart()}a.rfid=null}).catch(function(e){a.showDialog("获取任务或人员详情出错")})},gunSwipe:function(e,t){var a=this,i={},n=this,s=this.gunSwipeStatus(e.linkId);s.then(function(s){i={item:"枪支",itemName:e.linkName,time:a.formatDate1((new Date).getTime()),status:0,linkId:e.linkId,bullet1:4,bullet2:5,rfid:t,gunImei:s.iMei,type:s.type,code:s.code},1==s.type&&s.iMei==n.procedureList[2].gunImei||2==s.type?(n.procedureList.splice(3,1,i),n.showRunType=n.getSwipeStatusText(s.runType),n.$set(n.procedureList[3],"status",1),a.handleInOut({safetyId:a.procedureList[2].linkId,adminId:a.procedureList[0].linkId,gunId:a.procedureList[3].linkId,additionAdminId:a.procedureList[1].linkId,killBullet:4,kineticBullet:1})):(n.speak("枪支不匹配"),n.confirmShow=!0,n.$alert('<div class="t-alert-content"">枪支不匹配(该枪号'.concat(s.code,"),请确定是否允许继续出入库</div>"),"提示",{dangerouslyUseHTMLString:!0,showCancelButton:!0,confirmButtonText:"允许",cancelButtonText:"不允许",customClass:"t-confirm",showClose:!1,type:"warning"}).then(function(e){n.procedureList.splice(3,1,i),n.showRunType=n.getSwipeStatusText(s.runType),n.$set(n.procedureList[3],"status",1),a.handleInOut({safetyId:a.procedureList[2].linkId,adminId:a.procedureList[0].linkId,gunId:a.procedureList[3].linkId,additionAdminId:a.procedureList[1].linkId,killBullet:4,kineticBullet:1}),n.confirmShow=!1}).catch(function(){n.confirmShow=!1}))}).catch(function(){n.showDialog("获取枪支详情出错啦")})},gunSwipeStatus:function(e){return new Promise(function(t,a){Object(c["j"])({gunId:e},new m.a.CancelToken(function(e){})).then(function(e){0==e.status&&t(e.data)}).catch(function(e){}).finally(function(){})})},adminSwipe:function(e,t){var a={};a={item:"管理员",itemName:e.linkName,time:this.formatDate1((new Date).getTime()),status:1,linkId:e.linkId,rfid:t},this.procedureList[0].itemName?this.procedureList[0].itemName&&!this.procedureList[1].itemName?this.procedureList.splice(1,1,a):this.procedureList[0].itemName&&this.procedureList[1].itemName&&(this.procedureList.splice(0,1,this.procedureList[1]),this.procedureList.splice(1,1,a)):this.procedureList.splice(0,1,a),this.procedureList[1].rfid?this.showText="管理员"+e.linkName+"刷卡,等待押运员刷卡中......":this.showText="管理员"+e.linkName+"刷卡",this.speak(this.showText)},queryPersonDetail:function(e){var t=this;return new Promise(function(a,i){Object(o["j"])({personId:e},new m.a.CancelToken(function(e){t.cancelRequest2=e})).then(function(e){0==e.status&&(t.personDetail.name=e.data.name,t.personDetail.age=e.data.age,t.personDetail.sex=e.data.sex,t.procedureList[2].gunImei=e.data.gunImei,t.procedureList[2].code=e.data.gunCode,t.procedureList[2].type=e.data.gunType),a(e.data)}).catch(function(e){}).finally(function(){t.cancelRequest2=null})})},queryPhoto:function(e){return new Promise(function(t,a){null!=e.photoId&&Object(r["q"])({id:e.photoId,type:[1]}).then(function(e){if(0==e.status){if(e.data&&0==e.data.length)return;t(e)}}).catch(function(){}).finally(function(){})})},showPhoto:function(e){var t=this;return new Promise(function(a,i){Object(r["m"])({path:e.data[0].path,fileName:e.data[0].fileName}).then(function(e){t.procedureList[2].rfid&&t.$set(t.personDetail,"taskSrc",window.URL.createObjectURL(e))}).finally(function(){})})},queryTaskList:function(e){var t=this;return new Promise(function(a,i){Object(r["E"])(e,new m.a.CancelToken(function(e){t.cancelRequest3=e})).then(function(e){if(0==e.status){for(var i=e.data.length-1;i>=0;i--)(2==e.data[i].status||4==e.data[i].status||6==e.data[i].status||e.data[i].safetyId!=t.procedureList[2].linkId&&e.data[i].additionSafetyId!=t.procedureList[2].linkId)&&e.data.splice(i,1);t.taskList=e.data}else t.taskList=[];a()}).catch(function(e){}).finally(function(){t.cancelRequest3=null})})},handleInOut:function(e,t){var a=this;p=this.$loading({target:"#myDialog .el-dialog"}),Object(l["h"])(e).then(function(e){if(0==e.status){var t=a.procedureList[2].itemName;a.$message.success(e.data),a.finish=1,a.showText=t+e.data+",等待下一位押运员刷卡",a.showRunType="",a.speak(a.showText)}else a.taskList=[]}).catch(function(e){a.showDialog("提交出错啦"),a.restart(),a.cancelRequest1=null}).finally(function(){p.close()})},showDialog:function(e){var t=this;clearTimeout(this.dialogTimer),this.centerDialogVisible=!0,this.dialogTimer=setTimeout(function(){t.centerDialogVisible=!1},5e3),this.dialogText=e},getSwipeStatusText:function(e){var t="";switch(e){case 0:t="领取";break;case 1:t="归还";break;case 2:t="维修";break;case 3:t="保养中";break;case 4:t="报废";break}return t},getFacePersonRelation:function(){var e=this;return new Promise(function(t,a){Object(l["e"])().then(function(a){a.data.forEach(function(t,a){e.facePersonRelationData[t.enrollId]=t.rfid}),t()}).catch(function(){a()}).finally(function(){})})},tableRowClassName:function(e){e.row;var t=e.rowIndex;return t%2==0?"color-row":t%2==1?"noColor-row":""}}},h=f,g=(a("4250"),a("2153"),a("2877")),b=Object(g["a"])(h,i,n,!1,null,"00b5573c",null);t["default"]=b.exports},"7f83":function(e,t,a){"use strict";var i=a("cfa5"),n=a.n(i);n.a},"81ac":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container",class:{adminClass:1!==e.power&&2!==e.power},attrs:{id:"task"}},[a("div",{staticClass:"filter-container"},[a("div",{staticClass:"selectBox"},[a("el-form",{ref:"mdForm",staticClass:"mdElForm",attrs:{inline:!0,rules:e.mdRule,model:e.mdForm,"label-width":"80px"}},[e.scheduleType?e._e():a("el-form-item",{attrs:{prop:"status"}},[a("el-select",{staticClass:"filter-item",attrs:{placeholder:"按路线筛选","collapse-tags":""},on:{change:e.handleFilter},model:{value:e.mdForm.routeId,callback:function(t){e.$set(e.mdForm,"routeId",t)},expression:"mdForm.routeId"}},e._l(e.geometryOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e.scheduleType?e._e():a("el-form-item",{attrs:{prop:"date"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",clearable:!1},on:{change:e.handleFilter},model:{value:e.mdForm.date,callback:function(t){e.$set(e.mdForm,"date",t)},expression:"mdForm.date"}})],1),e.scheduleType?e._e():a("el-form-item",{attrs:{prop:"status"}},[a("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择",multiple:"","collapse-tags":""},on:{change:e.handleFilter},model:{value:e.mdForm.status,callback:function(t){e.$set(e.mdForm,"status",t)},expression:"mdForm.status"}},e._l(e.statusOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),"schedualChild"==e.scheduleType&&1!==e.schedulePublish||"schedule"==e.scheduleType?a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-circle-plus-outline",disabled:e.dateDisabled},on:{click:e.handleCreate}},[e._v("添加")]):e._e(),"schedualChild"==e.scheduleType&&1!==e.schedulePublish||"schedule"==e.scheduleType?a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"iconfont iconpiliangtianjia",disabled:e.dateDisabled},on:{click:e.handleCreateR}},[e._v("批量添加")]):e._e(),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"schedule"==e.scheduleType,expression:"scheduleType=='schedule'"}],staticClass:"filter-item el-icon-refresh",attrs:{type:"primary",disabled:e.dateDisabled||!e.taskIds.length},on:{click:function(t){return e.handleTransform()}}},[e._v("任务转换")]),e.scheduleType?a("el-button",{staticClass:"filter-item filter-item-btn",attrs:{type:"primary",icon:"iconfont icondaochu",loading:e.exportLoading1},on:{click:e.exportExcel}},[e._v("导出")]):e._e(),e.scheduleType?e._e():a("el-button",{staticClass:"filter-item filter-item-btn",attrs:{type:"primary",icon:"iconfont icondaochu",loading:e.exportLoading2},on:{click:function(t){return e.exportExcel("all")}}},[e._v("任务导出")]),e.scheduleType||1!=e.power&&2!=e.power&&5!=e.power?e._e():a("el-button",{staticClass:"filter-item filter-item-btn bigBtn",attrs:{type:"primary",icon:"iconfont icondaochu",loading:e.exportLoading3},on:{click:e.exportImg}},[e._v("交接凭证导出")]),e.scheduleType?a("el-button",{staticClass:"filter-item filter-item-btn",attrs:{type:"primary"},on:{click:function(t){return e.$router.go(-1)}}},[e._v("返回")]):e._e()],1)],1)]),a("div",{staticClass:"tableBox"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,ref:"taskForm",attrs:{height:"100%",data:"schedule"==e.scheduleType?e.list:e.list.slice((e.currpage-1)*e.pagesize,e.currpage*e.pagesize),fit:"","highlight-current-row":"","row-class-name":e.tableRowClassName},on:{"selection-change":e.handleSelectionChange}},["schedule"==e.scheduleType?a("el-table-column",{attrs:{type:"selection",selectable:e.selectable,width:"55"}}):e._e(),a("el-table-column",{attrs:{label:"序号",prop:"id",fixed:"",sortable:"custom",align:"center",width:"80",type:"index",index:e.indexMethod}}),1==e.power?a("el-table-column",{attrs:{label:"id",width:"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.id))])]}}],null,!1,773642443)}):e._e(),a("el-table-column",{attrs:{label:"任务单编号",width:"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(""+t.row.taskYear+e.addZero(t.row.taskMonth)+e.addZero(t.row.taskDay)+t.row.id))])]}}])}),a("el-table-column",{attrs:{label:"路线",width:"70px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.routeName))])]}}])}),a("el-table-column",{attrs:{label:"车牌号",width:"90px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.carLicenseNo))])]}}])}),a("el-table-column",{attrs:{label:"所属银行","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.parentBankName))])]}}])}),a("el-table-column",{attrs:{label:"任务起点","min-width":"100px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.formateTaskStartPoint(t.row)))])]}}])}),a("el-table-column",{attrs:{label:"任务终点","min-width":"100px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.formateTaskEndPoint(t.row)))])]}}])}),a("el-table-column",{attrs:{label:"预约发起点","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.comeFrom))])]}}])}),a("el-table-column",{attrs:{label:"任务类型","min-width":"60px",align:"center",prop:"listProp"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.formateTaskType(t.row.type)))])]}}])}),a("el-table-column",{attrs:{label:"正常/取消",width:"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(e.statusOptions[i.status-1].name))])]}}])}),e.scheduleType?e._e():a("el-table-column",{attrs:{label:"库包",width:"200px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.pakNames))])]}}],null,!1,4165758666)}),e.scheduleType?e._e():a("el-table-column",{attrs:{label:"周转箱数量",width:"70px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.templateBoxNum))])]}}],null,!1,2443530327)}),e.scheduleType?e._e():a("el-table-column",{attrs:{label:"周转箱",width:"100px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(e.rfidNameObj[i.templateBox]))])]}}],null,!1,2772866366)}),e.scheduleType?e._e():a("el-table-column",{attrs:{label:"凭证袋数量",width:"70px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.nullNamePackage))])]}}],null,!1,3979666274)}),e.scheduleType?e._e():a("el-table-column",{attrs:{label:"临时箱数量",width:"70px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.nullNameBox))])]}}],null,!1,2678344717)}),e.scheduleType&&4!=e.power?a("el-table-column",{attrs:{label:"任务进展更新时间","min-width":"150px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(e.formatTime(i.updateTime)))])]}}],null,!1,1054044247)}):e._e(),e.scheduleType&&4!=e.power?a("el-table-column",{attrs:{label:"预计到达时间","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.planTime))])]}}],null,!1,2195967168)}):e._e(),e.scheduleType?e._e():a("el-table-column",{attrs:{label:"出/入库签名","min-width":"76px",align:"center",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",{on:{click:function(t){return e.popShow(i,1)}}},[e._v("点击显示")])]}}],null,!1,2242870005)}),e.scheduleType?e._e():a("el-table-column",{attrs:{label:"银行出/入包签名","min-width":"76px",align:"center",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",{on:{click:function(t){return e.popShow(i,2)}}},[e._v("点击显示")])]}}],null,!1,3901584150)}),a("el-table-column",{attrs:{label:"进展",width:"76px",align:"center",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(e.formateFinish(i.finish)))])]}}])}),5!=e.power?a("el-table-column",{attrs:{label:"操作",align:"center","min-width":"160","class-name":"small-padding fixed-width",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return["schedule"==e.scheduleType?a("el-button",{attrs:{type:"primary",size:"mini",disabled:2==i.status||4==i.status},on:{click:function(t){return e.handleUpdatePerson(i)}}},[e._v("编辑人员")]):e._e(),"schedualChild"==e.scheduleType&&1!==e.schedulePublish||"schedule"==e.scheduleType?a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete",disabled:e.dateDisabled||2==i.status||4==i.status||6==i.status},on:{click:function(t){return e.handleDelete(i)}}},[e._v("删除")]):e._e(),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.packShow&&!e.scheduleType,expression:"packShow&&!scheduleType"}],attrs:{type:"primary",size:"mini",disabled:e.dateDisabled||2==i.status||4==i.status||6==i.status||1!==i.finish||"schedualChild"==e.scheduleType||1==i.type,icon:"el-icon-edit-outline"},on:{click:function(t){return e.handleBind(i)}}},[e._v("库包管理")])]}}],null,!1,2956666421)}):e._e()],1)],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.page,limit:e.listQuery.limit,layout:"prev, pager, next, sizes, total, jumper"},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"limit",t)},pagination:e.getList}}),a("el-dialog",{attrs:{id:"myDialog",title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible,center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"dataForm",staticClass:"formStyle",attrs:{rules:e.rules,model:e.temp,"label-position":"left"}},["create"==e.dialogStatus?a("el-form-item",{attrs:{label:"任务类型",prop:"status"}},[a("el-select",{staticClass:"filter-item",attrs:{filterable:"",placeholder:"请选择"},on:{change:e.statusChange},model:{value:e.temp.status,callback:function(t){e.$set(e.temp,"status",e._n(t))},expression:"temp.status"}},e._l(e.taskStatusOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1):e._e(),"create"!=e.dialogStatus||1!=e.temp.status&&2!=e.temp.status?e._e():a("el-form-item",{attrs:{label:"网点",prop:"destinationId"}},[a("el-select",{staticClass:"filter-item",attrs:{filterable:"",placeholder:"请选择"},model:{value:e.temp.destinationId,callback:function(t){e.$set(e.temp,"destinationId",e._n(t))},expression:"temp.destinationId"}},e._l(e.networkOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),"create"==e.dialogStatus&&1!=e.temp.status&&2!=e.temp.status&&e.temp.status?a("el-form-item",{attrs:{label:"任务起点",prop:"startPoint"}},[a("el-select",{staticClass:"filter-item",attrs:{filterable:"",placeholder:"请选择",multiple:"","collapse-tags":""},on:{change:function(t){return e.changeCheck(t,"startPoint")}},model:{value:e.temp.startPoint,callback:function(t){e.$set(e.temp,"startPoint",t)},expression:"temp.startPoint"}},e._l(e.networkOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1):e._e(),"create"==e.dialogStatus&&1!=e.temp.status&&2!=e.temp.status&&e.temp.status?a("el-form-item",{attrs:{label:"任务终点",prop:"endPoint"}},[a("el-select",{staticClass:"filter-item",attrs:{filterable:"",placeholder:"请选择",multiple:"","collapse-tags":""},on:{change:function(t){return e.changeCheck(t,"endPoint")}},model:{value:e.temp.endPoint,callback:function(t){e.$set(e.temp,"endPoint",t)},expression:"temp.endPoint"}},e._l(e.networkOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1):e._e(),"create"==e.dialogStatus?a("el-form-item",{attrs:{prop:"planTime",label:"预计到达时间"}},[a("el-time-picker",{attrs:{"value-format":"HH:mm:ss","picker-options":{selectableRange:"00:00:00 - 23:59:59"},placeholder:"任务预计到达时间"},model:{value:e.temp.planTime,callback:function(t){e.$set(e.temp,"planTime",t)},expression:"temp.planTime"}})],1):e._e(),"update"==e.dialogStatus&&"schedule"==e.scheduleType?a("el-form-item",{attrs:{label:"完成状态",prop:"finish"}},[a("el-select",{staticClass:"filter-item",attrs:{filterable:"",placeholder:"请选择"},model:{value:e.temp.finish,callback:function(t){e.$set(e.temp,"finish",e._n(t))},expression:"temp.finish"}},e._l(e.finishOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1):e._e(),"update"==e.dialogStatus?a("el-form-item",{attrs:{label:"任务类型",prop:"status"}},[a("el-select",{staticClass:"filter-item",attrs:{filterable:"",placeholder:"请选择"},model:{value:e.temp.status,callback:function(t){e.$set(e.temp,"status",e._n(t))},expression:"temp.status"}},e._l(e.statusOptions,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,disabled:"update"==e.dialogStatus&&e.statusShow(e.temp.status,t.id),value:t.id}})}),1)],1):e._e(),"bind"==e.dialogStatus?a("el-form-item",{attrs:{label:"库包"}},[a("el-select",{staticClass:"filter-item",attrs:{filterable:"",multiple:"","collapse-tags":"",placeholder:"请选择"},model:{value:e.temp.rfids,callback:function(t){e.$set(e.temp,"rfids",t)},expression:"temp.rfids"}},e._l(e.bindOptions,function(e){return a("el-option",{key:e.rfid,attrs:{label:e.name,value:e.rfid}})}),1)],1):e._e(),"bind"==e.dialogStatus?a("el-form-item",{attrs:{label:"凭证袋数量",prop:"nullNamePackage"}},[a("el-input",{model:{value:e.temp.nullNamePackage,callback:function(t){e.$set(e.temp,"nullNamePackage",e._n(t))},expression:"temp.nullNamePackage"}})],1):e._e(),"bind"==e.dialogStatus?a("el-form-item",{attrs:{label:"临时箱数量",prop:"nullNameBox"}},[a("el-input",{model:{value:e.temp.nullNameBox,callback:function(t){e.$set(e.temp,"nullNameBox",e._n(t))},expression:"temp.nullNameBox"}})],1):e._e(),"bind"==e.dialogStatus?a("el-form-item",{attrs:{label:"周转箱"}},[a("el-select",{staticClass:"filter-item",attrs:{filterable:"",placeholder:"请选择"},model:{value:e.temp.templateBox,callback:function(t){e.$set(e.temp,"templateBox",t)},expression:"temp.templateBox"}},e._l(e.rfidOptions1,function(e){return a("el-option",{key:e.rfid,attrs:{label:e.name,value:e.rfid}})}),1)],1):e._e(),"bind"==e.dialogStatus?a("el-form-item",{attrs:{label:"周转箱数量",prop:"templateBoxNum"}},[a("el-input",{model:{value:e.temp.templateBoxNum,callback:function(t){e.$set(e.temp,"templateBoxNum",e._n(t))},expression:"temp.templateBoxNum"}})],1):e._e()],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSubmit()}}},[e._v("确定")])],1)],1),a("el-dialog",{attrs:{title:"批量添加所属路线下任务",visible:e.dialogFormVisibleR,center:""},on:{"update:visible":function(t){e.dialogFormVisibleR=t}}},[a("el-form",{ref:"dataFormR",staticClass:"formStyle",attrs:{rules:e.rules,model:e.tempR,"label-position":"left"}},[a("el-form-item",{attrs:{label:"路线",prop:"routeId"}},[a("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择"},on:{change:e.routeChange},model:{value:e.tempR.routeId,callback:function(t){e.$set(e.tempR,"routeId",e._n(t))},expression:"tempR.routeId"}},e._l(e.geometryOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),a("el-form-item",{attrs:{prop:"planTime",label:"预计到达时间"}},[a("el-time-picker",{attrs:{"value-format":"HH:mm:ss","picker-options":{selectableRange:"00:00:00 - 23:59:59"},placeholder:"任务预计到达时间"},model:{value:e.tempR.planTime,callback:function(t){e.$set(e.tempR,"planTime",t)},expression:"tempR.planTime"}})],1),a("el-form-item",{attrs:{label:"网点",prop:"destinationIds"}},[a("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择",filterable:"",multiple:"","collapse-tags":""},model:{value:e.tempR.destinationIds,callback:function(t){e.$set(e.tempR,"destinationIds",t)},expression:"tempR.destinationIds"}},e._l(e.networkOptionsR,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"任务类型",prop:"status"}},[a("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择",filterable:"",multiple:"","collapse-tags":""},model:{value:e.tempR.status,callback:function(t){e.$set(e.tempR,"status",t)},expression:"tempR.status"}},e._l(e.taskStatusOptions1,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSubmitR()}}},[e._v("确定")])],1)],1),a("el-dialog",{attrs:{id:"myDialog1",title:"图片",visible:e.imgVisible,center:""},on:{"update:visible":function(t){e.imgVisible=t}}},[a("img",{staticClass:"taskSrc",attrs:{src:e.taskSrc,alt:"暂无图片"}})]),a("el-dialog",{staticClass:"addTaskBox",attrs:{title:"添加任务",visible:e.addVisible,"append-to-body":"",center:""},on:{"update:visible":function(t){e.addVisible=t}}},[a("el-form",{ref:"addForm",staticClass:"formStyle",attrs:{model:e.addTemp,"label-position":"left",rules:e.addRules}},[a("el-form-item",{attrs:{label:"车辆",prop:"carId"}},[a("el-select",{staticClass:"filter-item",attrs:{filterable:"",placeholder:"请选择"},model:{value:e.addTemp.carId,callback:function(t){e.$set(e.addTemp,"carId",e._n(t))},expression:"addTemp.carId"}},e._l(e.carOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.licenseNo,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"车组长",prop:"leaderId"}},[a("el-select",{staticClass:"filter-item",attrs:{filterable:"",placeholder:"请选择"},model:{value:e.addTemp.leaderId,callback:function(t){e.$set(e.addTemp,"leaderId",e._n(t))},expression:"addTemp.leaderId"}},e._l(e.teamLeaderOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"司机",prop:"driverId"}},[a("el-select",{staticClass:"filter-item",attrs:{filterable:"",placeholder:"请选择"},model:{value:e.addTemp.driverId,callback:function(t){e.$set(e.addTemp,"driverId",e._n(t))},expression:"addTemp.driverId"}},e._l(e.driverOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"押运员1",prop:"safetyId"}},[a("el-select",{staticClass:"filter-item",attrs:{filterable:"",placeholder:"请选择"},model:{value:e.addTemp.safetyId,callback:function(t){e.$set(e.addTemp,"safetyId",e._n(t))},expression:"addTemp.safetyId"}},e._l(e.safetyOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"押运员2",prop:"additionSafetyId"}},[a("el-select",{staticClass:"filter-item",attrs:{filterable:"",placeholder:"请选择"},model:{value:e.addTemp.additionSafetyId,callback:function(t){e.$set(e.addTemp,"additionSafetyId",e._n(t))},expression:"addTemp.additionSafetyId"}},e._l(e.safetyOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"业务员1",prop:"businessId"}},[a("el-select",{staticClass:"filter-item",attrs:{filterable:"",placeholder:"请选择"},model:{value:e.addTemp.businessId,callback:function(t){e.$set(e.addTemp,"businessId",e._n(t))},expression:"addTemp.businessId"}},e._l(e.businessOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"业务员2",prop:"addBusinessId"}},[a("el-select",{staticClass:"filter-item",attrs:{filterable:"",placeholder:"请选择"},model:{value:e.addTemp.addBusinessId,callback:function(t){e.$set(e.addTemp,"addBusinessId",e._n(t))},expression:"addTemp.addBusinessId"}},e._l(e.businessOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"排班类型",prop:"type"}},[a("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择"},model:{value:e.addTemp.type,callback:function(t){e.$set(e.addTemp,"type",e._n(t))},expression:"addTemp.type"}},e._l(e.typeOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"任务类型",prop:"taskStatus"}},[a("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择"},model:{value:e.addTemp.taskStatus,callback:function(t){e.$set(e.addTemp,"taskStatus",e._n(t))},expression:"addTemp.taskStatus"}},e._l(e.taskStatusOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"网点",prop:"destinationId"}},[a("el-select",{staticClass:"filter-item",attrs:{filterable:"",placeholder:"请选择"},model:{value:e.addTemp.destinationId,callback:function(t){e.$set(e.addTemp,"destinationId",e._n(t))},expression:"addTemp.destinationId"}},e._l(e.networkOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),a("el-form-item",{attrs:{prop:"planTime",label:"预计到达时间"}},[a("el-time-picker",{attrs:{"value-format":"HH:mm:ss","picker-options":{selectableRange:"00:00:00 - 23:59:59"},placeholder:"任务预计到达时间"},model:{value:e.addTemp.planTime,callback:function(t){e.$set(e.addTemp,"planTime",t)},expression:"addTemp.planTime"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.createTask()}}},[e._v("确定")])],1)],1),a("el-dialog",{attrs:{title:"任务转换",id:"transformdialog",visible:e.transformVisible,"append-to-body":"",center:""},on:{"update:visible":function(t){e.transformVisible=t}}},[a("el-tabs",{on:{"tab-click":e.tabClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"选择排班并转换",name:"first"}},[a("div",{staticClass:"scheduleDateDiv"},[a("el-date-picker",{staticClass:"filter-item",attrs:{align:"right",type:"date","value-format":"timestamp",placeholder:"选择日期"},on:{change:e.dateChange},model:{value:e.scheduleSelectDate,callback:function(t){e.scheduleSelectDate=t},expression:"scheduleSelectDate"}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.scheduleListLoading,expression:"scheduleListLoading"}],key:e.tableKey,ref:"singleTable",staticClass:"singleTable",attrs:{data:e.scheduleList,fit:"","highlight-current-row":"","max-height":"500"},on:{"selection-change":e.chooseInstance}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:"序号",prop:"id",fixed:"",sortable:"custom",align:"center",width:"60",type:"index"}}),a("el-table-column",{attrs:{label:"车辆","min-width":"100px",align:"center",prop:"listProp"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.carLicenseNo))])]}}])}),a("el-table-column",{attrs:{label:"车组长","min-width":"90px",align:"center",prop:"listProp"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.leaderName))])]}}])}),a("el-table-column",{attrs:{label:"司机","min-width":"100px",align:"center",prop:"listProp"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.driverName))])]}}])}),a("el-table-column",{attrs:{label:"押运员1","min-width":"100px",align:"center",prop:"listProp"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.safetyName))])]}}])}),a("el-table-column",{attrs:{label:"业务员1","min-width":"100px",align:"center",prop:"listProp"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.businessName))])]}}])}),a("el-table-column",{attrs:{label:"押运员2","min-width":"100px",align:"center",prop:"listProp"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.additionSafetyName))])]}}])}),a("el-table-column",{attrs:{label:"业务员2","min-width":"100px",align:"center",prop:"listProp"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.addBusinessName))])]}}])}),a("el-table-column",{attrs:{label:"排班类型","min-width":"80px",align:"center",prop:"listProp"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.formateTaskType(t.row.type)))])]}}])})],1)],1),a("el-tab-pane",{attrs:{label:"新增排班并转换",name:"second"}},[a("el-form",{ref:"transformForm",staticClass:"formStyle taskformStyle",attrs:{model:e.transformTemp,"label-position":"left",rules:e.transformRules}},[a("el-form-item",{attrs:{label:"日期",prop:"addDate"}},[a("el-date-picker",{staticClass:"filter-item",attrs:{align:"right",type:"date","value-format":"yyyy_M_d",placeholder:"选择日期","picker-options":e.pickerOptions},model:{value:e.transformTemp.addDate,callback:function(t){e.$set(e.transformTemp,"addDate",t)},expression:"transformTemp.addDate"}})],1),a("el-form-item",{attrs:{label:"车辆",prop:"carId"}},[a("el-select",{staticClass:"filter-item",attrs:{filterable:"",placeholder:"请选择"},model:{value:e.transformTemp.carId,callback:function(t){e.$set(e.transformTemp,"carId",e._n(t))},expression:"transformTemp.carId"}},e._l(e.carOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.licenseNo,value:e.id,disabled:e.remove}})}),1)],1),a("el-form-item",{attrs:{label:"车组长",prop:"leaderId"}},[a("el-select",{staticClass:"filter-item",attrs:{filterable:"",placeholder:"请选择"},model:{value:e.transformTemp.leaderId,callback:function(t){e.$set(e.transformTemp,"leaderId",e._n(t))},expression:"transformTemp.leaderId"}},e._l(e.teamLeaderOptions,function(e){return a("el-option",{key:e.id,class:{removeClass:e.remove},attrs:{label:e.name,value:e.id,disabled:e.remove}})}),1)],1),a("el-form-item",{attrs:{label:"排班类型",prop:"type"}},[a("el-select",{staticClass:"filter-item",attrs:{filterable:"",placeholder:"请选择"},model:{value:e.transformTemp.type,callback:function(t){e.$set(e.transformTemp,"type",e._n(t))},expression:"transformTemp.type"}},e._l(e.scheduleOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.transFormSubmit()}}},[e._v("确定")])],1)],1),a("el-dialog",{attrs:{title:"导出",id:"myDialog3",visible:e.exportVisible,center:""},on:{"update:visible":function(t){e.exportVisible=t}}},[a("el-form",{ref:"exportForm",staticClass:"formStyle",attrs:{rules:e.exportRules,model:e.exportTemp,"label-position":"left"}},[a("el-form-item",{attrs:{label:"签字图类型",prop:"type"}},[a("el-select",{staticClass:"filter-item",attrs:{multiple:"",filterable:"","collapse-tags":"",placeholder:"请选择"},model:{value:e.exportTemp.type,callback:function(t){e.$set(e.exportTemp,"type",t)},expression:"exportTemp.type"}},e._l(e.exportOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleExport()}}},[e._v("确定")])],1)],1),a("el-dialog",{attrs:{title:"编辑人员",id:"mydialog4",visible:e.editPersonVisible,"append-to-body":"",center:""},on:{"update:visible":function(t){e.editPersonVisible=t}}},[a("el-form",{ref:"editPersonForm",staticClass:"formStyle",attrs:{model:e.editPersonTemp,"label-position":"left",rules:e.editPersonRules}},[a("el-form-item",{attrs:{label:"车组长",prop:"leaderId"}},[a("el-select",{staticClass:"filter-item",class:{repeatColor:-1!==e.editTempRepeatPersons.indexOf(e.editPersonTemp.leaderId)},attrs:{filterable:"",placeholder:"请选择"},model:{value:e.editPersonTemp.leaderId,callback:function(t){e.$set(e.editPersonTemp,"leaderId",e._n(t))},expression:"editPersonTemp.leaderId"}},e._l(e.teamLeaderOptions,function(e){return a("el-option",{key:e.id,class:{removeClass:e.remove},attrs:{label:e.name,value:e.id,disabled:e.remove}})}),1)],1),a("el-form-item",{attrs:{label:"司机",prop:"driverId"}},[a("el-select",{staticClass:"filter-item",class:{repeatColor:-1!==e.editTempRepeatPersons.indexOf(e.editPersonTemp.driverId)},attrs:{filterable:"",placeholder:"请选择"},model:{value:e.editPersonTemp.driverId,callback:function(t){e.$set(e.editPersonTemp,"driverId",e._n(t))},expression:"editPersonTemp.driverId"}},e._l(e.driverOptions,function(e){return a("el-option",{key:e.id,class:{removeClass:e.remove},attrs:{label:e.name,value:e.id,disabled:e.remove}})}),1)],1),a("el-form-item",{attrs:{label:"押运员1",prop:"safetyId"}},[a("el-select",{staticClass:"filter-item",class:{repeatColor:-1!==e.editTempRepeatPersons.indexOf(e.editPersonTemp.safetyId)},attrs:{filterable:"",placeholder:"请选择"},model:{value:e.editPersonTemp.safetyId,callback:function(t){e.$set(e.editPersonTemp,"safetyId",e._n(t))},expression:"editPersonTemp.safetyId"}},e._l(e.safetyOptions,function(e){return a("el-option",{key:e.id,class:{removeClass:e.remove},attrs:{label:e.name,value:e.id,disabled:null==e.id}})}),1)],1),a("el-form-item",{attrs:{label:"押运员2"}},[a("el-select",{staticClass:"filter-item",class:{repeatColor:-1!==e.editTempRepeatPersons.indexOf(e.editPersonTemp.additionSafetyId)},attrs:{filterable:"",placeholder:"请选择"},model:{value:e.editPersonTemp.additionSafetyId,callback:function(t){e.$set(e.editPersonTemp,"additionSafetyId",e._n(t))},expression:"editPersonTemp.additionSafetyId"}},e._l(e.safetyOptions,function(e){return a("el-option",{key:e.id,class:{removeClass:e.remove},attrs:{label:e.name,value:e.id,disabled:e.remove}})}),1)],1),a("el-form-item",{attrs:{label:"业务员1"}},[a("el-select",{staticClass:"filter-item",class:{repeatColor:-1!==e.editTempRepeatPersons.indexOf(e.editPersonTemp.businessId)},attrs:{filterable:"",placeholder:"请选择"},model:{value:e.editPersonTemp.businessId,callback:function(t){e.$set(e.editPersonTemp,"businessId",e._n(t))},expression:"editPersonTemp.businessId"}},e._l(e.businessOptions,function(e){return a("el-option",{key:e.id,class:{removeClass:e.remove},attrs:{label:e.name,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"业务员2"}},[a("el-select",{staticClass:"filter-item",class:{repeatColor:-1!==e.editTempRepeatPersons.indexOf(e.editPersonTemp.addBusinessId)},attrs:{filterable:"",placeholder:"请选择"},model:{value:e.editPersonTemp.addBusinessId,callback:function(t){e.$set(e.editPersonTemp,"addBusinessId",e._n(t))},expression:"editPersonTemp.addBusinessId"}},e._l(e.businessOptions,function(e){return a("el-option",{key:e.id,class:{removeClass:e.remove},attrs:{label:e.name,value:e.id,disabled:e.remove}})}),1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.editTaskPerson()}}},[e._v("确定")])],1)],1),e.list.length&&!e.scheduleType&&e.pageshow?a("el-pagination",{attrs:{background:"",layout:"prev, pager, next, sizes, total, jumper","page-sizes":[10,15,20],"page-size":e.pagesize,total:e.list.length,"current-page":e.currpage},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}}):e._e()],1)},n=[],s=a("6d7c"),r=s["a"],o=(a("7f83"),a("2877")),l=Object(o["a"])(r,i,n,!1,null,null,null);t["default"]=l.exports},8513:function(e,t,a){},"87ad":function(e,t,a){"use strict";var i=a("f534"),n=a.n(i);n.a},8839:function(e,t,a){"use strict";var i=a("e225"),n=a.n(i);n.a},"88da":function(e,t,a){"use strict";(function(e){var i=a("bd86"),n=(a("c5f6"),a("28a5"),a("6d67"),a("78ce"),a("f3e2"),a("55dd"),a("ac6a"),a("5df3"),a("313e")),s=a("9754");t["a"]={name:"bankRealTimeData",data:function(){return{tasksList:[{name:"早送任务",finishTask:0,taskCount:0,cancelledTask:0},{name:"晚收任务",finishTask:0,taskCount:0,cancelledTask:0}],myChart0:null,myChart1:null,myChart2:null,chartBar:null,mapCanvas:null,addNum:0,payNum:0,receiveNum:0}},created:function(){window.addEventListener("resize",this.throttle(this.echartsResize,1e3),!1)},mounted:function(){var e=this;Promise.all(this.getTask()).then(function(t){e.tasksList=[t[0],t[1]],e.tasksList[0].name="早送任务",e.tasksList[1].name="晚收任务",e.addNum=t[2].taskCount-t[2].cancelledTask,e.payNum=t[3].taskCount-t[3].cancelledTask,e.receiveNum=t[4].taskCount-t[4].cancelledTask;for(var a=0;a<2;a++)e.initPie(a)}),Object(s["g"])({bankerId:JSON.parse(this.$store.state.user.userInfo).PersonId}).then(function(t){if(t.data){var a=[],i=[],n=[],s=[];t.data.sort(function(e,t){return e.sendNumber+e.receiveNumber-(t.sendNumber+t.receiveNumber)}),t.data.forEach(function(e){a.push(e.pointName),i.push(e.sendNumber),n.push(e.receiveNumber),s.push(e.sendNumber+e.receiveNumber)}),e.initBar(a,s,i,n)}else e.initBar()})},beforeDestroy:function(){this.myChart0&&this.myChart0.dispose(),this.myChart1&&this.myChart1.dispose(),this.myChart2&&this.myChart2.dispose(),this.chartBar&&this.chartBar.dispose(),this.mapCanvas&&this.mapCanvas.dispose(),this.myChart0=null,this.myChart1=null,this.myChart2=null,this.chartBar=null,this.mapCanvas=null},methods:{getTask:function(){for(var e,t=this,a=[],i=1;i<6;i++){switch(i){case 1:e=2;break;case 2:e=1;break;case 3:e=5;break;case 4:e=9;break;case 5:e=7;break}var n=new Promise(function(a,i){Object(s["h"])({bankerId:JSON.parse(t.$store.state.user.userInfo).PersonId,type:e}).then(function(e){null==e.data&&(e.data=[]),a(e.data)}).catch(function(){i()})});a.push(n)}return a},throttle:function(e,t){var a=Date.now();return function(){var i=this,n=arguments,s=Date.now();s-a>=t&&(e.apply(i,n),a=Date.now())}},echartsResize:function(){this.myChart0&&this.myChart0.resize(),this.myChart1&&this.myChart1.resize(),this.myChart2&&this.myChart2.resize(),this.chartBar&&this.chartBar.resize(),this.mapCanvas&&this.mapCanvas.resize()},initChartBar:function(){var e,t=document.getElementById("chartBar"),a=n["init"](t);e={tooltip:{trigger:"axis"},grid:{x:80,y:10,x2:10,y2:10},xAxis:{type:"value",show:!1},yAxis:{type:"category",data:["累计任务","已调度","已完成","工作中"],axisLine:{show:!1},axisTick:{show:!1}},series:[{type:"bar",barMinHeight:25,data:[72,0,41,42],itemStyle:{normal:{color:new n["graphic"].LinearGradient(0,0,1,0,[{offset:0,color:"#38BDF6"},{offset:1,color:"#3C7EFE"}],!1)}},barCategoryGap:"35%",label:{show:!0,position:"insideRight",distance:13,color:"#fff"}}]},e&&a.setOption(e)},initChartPie:function(){var e,t=document.getElementById("chartPie"),a=n["init"](t);e={tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{bottom:0,left:"center"},series:[{name:"每日任务",type:"pie",radius:["40%","80%"],avoidLabelOverlap:!1,itemStyle:{borderColor:"#fff",borderWidth:14,color:function(e){var t=[{c1:"#5EBEFF",c2:"#C39CFF"},{c1:" #00C5A5",c2:"#8DDAD5"},{c1:"#E58FE1",c2:"#FA8B8C"},{c1:"#F7E1EB",c2:"#F7E1EB"}];return new n["graphic"].LinearGradient(1,0,0,0,[{offset:0,color:t[e.dataIndex].c1},{offset:1,color:t[e.dataIndex].c2}])}},label:{show:!0,position:"outside"},emphasis:{label:{show:!0,fontSize:"16",fontWeight:"bold"}},labelLine:{smooth:.2,length:10,length2:10},data:[{value:72,name:"累计任务"},{value:30,name:"已调度"},{value:41,name:"已完成"},{value:42,name:"工作中"}]}]},e&&a.setOption(e)},initPie:function(t){var a,i,s,r=document.getElementById("pie"+t),o=this;this["myChart"+t]=n["init"](r),a=this.tasksList[t].finishTask,i=this.tasksList[t].taskCount-this.tasksList[t].finishTask,s={title:{},series:[{name:"当日任务",type:"pie",radius:"75%",center:["50%","50%"],label:{show:!1},data:[{value:a,name:"已完成"},{value:i,name:"未完成"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"},normal:{color:function(e){var t=[{c1:" #38BDF6",c2:"#3C7EFE"},{c1:" #76EBE1",c2:"#76EBE1"}];return new n["graphic"].LinearGradient(1,0,0,0,[{offset:0,color:t[e.dataIndex].c1},{offset:1,color:t[e.dataIndex].c2}])}}}}]},s&&this["myChart"+t].setOption(s);var l=0;l--;var d=s.series[0].data.length;this["myChart"+t].dispatchAction({type:"downplay",seriesIndex:0,dataIndex:l}),l=(l+1)%d,this["myChart"+t].dispatchAction({type:"highlight",seriesIndex:0,dataIndex:l}),e("#pie"+t).mouseenter(function(){o["myChart"+t].dispatchAction({type:"downplay",seriesIndex:0,dataIndex:l})}),e("#pie"+t).mouseleave(function(){o["myChart"+t].dispatchAction({type:"highlight",seriesIndex:0,dataIndex:l})})},drawChina:function(){this.mapCanvas=n["init"](document.getElementById("mapContent")),this.mapCanvas.resize();var e={legend:{data:["北京","天津","上海","重庆","河北","河南","云南","辽宁","黑龙江","湖南","安徽","山东","新疆","江苏","浙江","江西","湖北","广西","甘肃","山西","内蒙古","陕西","吉林","福建","贵州","广东","青海","西藏","四川","宁夏","海南","台湾","香港","澳门"]},series:[{name:"模拟数据",type:"map",mapType:"china",roam:!1,itemStyle:{normal:{label:{show:!1},areaColor:"rgb(216, 229, 255)",color:"rgb(216, 229, 255)",borderColor:"rgb(135, 166, 255)"},emphasis:{label:{show:!0,color:"#2E355E"},areaColor:"rgb(216, 229, 255)",color:"rgb(216, 229, 255)"}},zoom:1.1,top:"center",data:[{name:"北京",value:35e4},{name:"天津",value:12e4},{name:"上海",value:3e5},{name:"重庆",value:92e3},{name:"河北",value:25e3},{name:"河南",value:2e4},{name:"云南",value:500},{name:"辽宁",value:3050},{name:"黑龙江",value:8e4},{name:"湖南",value:2e3},{name:"安徽",value:24580},{name:"山东",value:40629},{name:"新疆",value:36981},{name:"江苏",value:13569},{name:"浙江",value:24956},{name:"江西",value:15194},{name:"湖北",value:41398},{name:"广西",value:41150},{name:"甘肃",value:17630},{name:"山西",value:27370},{name:"内蒙古",value:27370},{name:"陕西",value:97208},{name:"吉林",value:88290},{name:"福建",value:19978},{name:"贵州",value:94485},{name:"广东",value:89426},{name:"青海",value:35484},{name:"西藏",value:97413},{name:"四川",value:54161},{name:"宁夏",value:56515},{name:"海南",value:54871},{name:"台湾",value:48544},{name:"香港",value:49474},{name:"澳门",value:34594}],icon:"circle",itemWidth:10,itemHeight:10,itemGap:20}]};this.mapCanvas.setOption(e)},drawChina1:function(){var e=new BMap.Map("mapContent"),t=new BMap.Point(112.857615,28.228625);e.centerAndZoom(t,7),e.enableScrollWheelZoom(!0);var a=new BMap.Geocoder;a.getLocation(t,function(e){e.addressComponents});var i=new BMap.Boundary;i.get("湖南省",function(t){var a=[];t.boundaries[0].split(";").map(function(e){e=e.split(","),a.push(new BMap.Point(parseFloat(e[0]),parseFloat(e[1])))});var i=new BMap.Polygon(a,{fillColor:"#A8D780",fillOpacity:1,strokeColor:"#000000",strokeOpacity:0,strokeWeight:1});e.addOverlay(i)})},initBar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=document.getElementById("chartBar");this.chartBar=n["init"](r);for(var o=[{type:"linear",x:0,x2:1,y:0,y2:0,colorStops:[{offset:0,color:"#327CD3"},{offset:.5,color:"#327CD3"},{offset:.5,color:"#55A3FF"},{offset:1,color:"#55A3FF"}]},{type:"linear",x:0,x2:1,y:0,y2:0,colorStops:[{offset:0,color:"#E0623A"},{offset:.5,color:"#E0623A"},{offset:.5,color:"#FF8761"},{offset:1,color:"#FF8761"}]}],l=20,d=[],c=[],u=[],m=0;m<t.length;m++)t[m]=Number(t[m]),a[m]=Number(a[m]),u[m]=t[m]-a[m],t[m]<=0?(d.push(0),c.push({value:1,itemStyle:{normal:{borderColor:"rgba(0,0,0,0)",borderWidth:2,color:"rgba(0,0,0,0)"}}})):(a[m]==t[m]?d.push({value:1,itemStyle:{normal:{color:o[1]}}}):d.push(1),a[m]>0?c.push({value:t[m],itemStyle:{normal:{borderColor:"#FFC0AC",borderWidth:2,color:"#FFC0AC"}}}):c.push({value:t[m],itemStyle:{normal:{borderColor:"#71b0f8",borderWidth:2,color:"#71b0f8"}}}));var p={tooltip:{trigger:"axis",formatter:function(e){return e[0].axisValue+"：<br/>送箱："+a[e[0].dataIndex]+"<br/>接箱："+s[e[0].dataIndex]}},legend:{data:["送箱","接箱"],right:40,selectedMode:!1},grid:{left:"3%",right:"3%",top:"15%",bottom:"10%",containLabel:!0},xAxis:{data:e,axisLabel:{show:!0,textStyle:{color:"#000"}},axisLine:{lineStyle:{color:"#E0E0E0"}},axisTick:{show:!1}},yAxis:{axisLine:{lineStyle:{color:"#E0E0E0"}},axisTick:{show:!1},axisLabel:{show:!1},splitLine:{show:!1}},series:[Object(i["a"])({z:1,name:"接箱",type:"bar",barWidth:l,stack:"总量",color:o[0],data:u,borderColor:"#fff",barGap:200,barCategoryGap:200},"barGap","30%"),Object(i["a"])({z:2,name:"送箱",type:"bar",barWidth:l,stack:"总量",color:o[1],data:a,borderColor:"#fff",barGap:200,barCategoryGap:200},"barGap","30%"),{z:3,name:"项目",type:"pictorialBar",data:d,symbol:"diamond",symbolOffset:["0%","50%"],symbolSize:[l,10],itemStyle:{normal:{color:o[0]}},tooltip:{show:!1}},{z:4,name:"项目",type:"pictorialBar",data:u,symbol:"diamond",symbolPosition:"end",symbolOffset:["0%","-50%"],symbolSize:[l,10],itemStyle:{normal:{color:o[1]}},tooltip:{show:!1}},{z:5,name:"项目",type:"pictorialBar",symbolPosition:"end",data:c,symbol:"diamond",symbolOffset:["0%","-50%"],symbolSize:[l-4,10*(l-4)/l],tooltip:{show:!1}}],dataZoom:[{type:"slider",start:0,end:100,bottom:0},{type:"inside",start:0,end:60,bottom:0}]};p&&this.chartBar.setOption(p)}}}}).call(this,a("1157"))},"8b9f":function(e,t,a){"use strict";var i=a("d7d8"),n=a.n(i);n.a},"8bc0":function(e,t,a){"use strict";var i=a("0726"),n=a.n(i);n.a},9433:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container",attrs:{id:"carParkingBySchedule"}},[a("div",{staticClass:"filter-container"},[a("div",{staticClass:"selectBox"},[a("el-form",{ref:"mdForm",staticClass:"mdElForm",attrs:{inline:!0,rules:e.mdRule,model:e.mdForm,"label-width":"80px"}},[a("el-form-item",{attrs:{prop:"selectDate"}},[a("el-date-picker",{staticClass:"filter-item",attrs:{align:"right",type:"date","value-format":"timestamp",placeholder:"选择日期",clearable:!1,"picker-options":e.pickerOptions},on:{change:function(t){return e.getScheduleList()}},model:{value:e.mdForm.selectDate,callback:function(t){e.$set(e.mdForm,"selectDate",t)},expression:"mdForm.selectDate"}})],1),a("el-form-item",{attrs:{prop:"idIdentify"}},[a("el-select",{staticClass:"filter-item",attrs:{filterable:"",placeholder:"请选择",multiple:"","collapse-tags":""},on:{change:e.changeSelect},model:{value:e.mdForm.idIdentify,callback:function(t){e.$set(e.mdForm,"idIdentify",t)},expression:"mdForm.idIdentify"}},[a("el-checkbox",{staticClass:"selectAll",on:{change:e.selectAll},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("全选")]),e._l(e.scheduleOptions,function(e){return a("el-option",{key:e.idIdentify,attrs:{label:e.showName,value:e.idIdentify,disabled:e.statusDisabled}})})],2)],1),a("el-form-item",[a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.popShow}},[e._v("搜索")])],1)],1)],1)]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"tableBox"},e._l(e.taskList,function(t,i){return a("div",{key:i,staticClass:"roadelistBox"},[a("div",[e._v(e._s(e.formateName(i)))]),a("div",{staticClass:"step"},[a("el-steps",{attrs:{"align-center":""}},e._l(t,function(e){return a("el-step",{key:e.id,class:{active:e.active},attrs:{title:e.destinationName,description:e.parkTime,icon:e.active?"el-icon-success":"el-icon-circle-close"}})}),1)],1)])}),0),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.page,limit:e.listQuery.limit,layout:"prev, pager, next, sizes, total, jumper"},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"limit",t)},pagination:e.getList}})],1)},n=[],s=(a("f3e2"),a("ac6a"),a("5df3"),a("75fc")),r=(a("55dd"),a("57e7"),a("6d67"),a("333d")),o=a("f2d7"),l=a("d256"),d=a("3bb2"),c=a("69d9"),u={name:"progress1",components:{Pagination:r["a"]},data:function(){var e=this,t=function(t,a,i){var n=e.mdForm.idIdentify;n.length<1?i(new Error("请选择排班")):i()},a=function(e,t,a){t?a():a(new Error("请选择"))};return{power:JSON.parse(sessionStorage.getItem("userInfo")).Power,tableKey:0,list:[],list1:[],total:0,listLoading:!1,listQuery:{selectDate:(new Date).setHours(0,0,0,0)},textMap:{update:"编辑",create:"添加"},taskList:[],activeName:"first",pickerOptions:{shortcuts:[{text:"今天",onClick:function(e){e.$emit("pick",new Date)}},{text:"昨天",onClick:function(e){var t=new Date;t.setTime(t.getTime()-864e5),e.$emit("pick",t)}},{text:"一周前",onClick:function(e){var t=new Date;t.setTime(t.getTime()-6048e5),e.$emit("pick",t)}}]},mdRule:{idIdentify:[{validator:t,trigger:"change",required:!0}],selectDate:[{trigger:"change",message:"请选择时间",validator:a}]},mdForm:{idIdentify:[],selectDate:(new Date).setHours(0,0,0,0)},scheduleOptions:[],destinationId:null,idIdentifyArr:[],checked:!1,intervalId:null,destinations:[],des:[]}},created:function(){sessionStorage.destinationId&&(this.destinationId=sessionStorage.destinationId),this.getScheduleList("created")},beforeDestroy:function(){sessionStorage.removeItem("destinationId"),this.clear()},methods:{formatDate:c["d"],dataRefreh:function(){var e=this;null==this.intervalId&&(this.intervalId=setInterval(function(){e.getScheduleList()},2e4))},clear:function(){clearInterval(this.intervalId),this.intervalId=null},changeSelect:function(e){e.length===this.scheduleOptions.length?this.checked=!0:this.checked=!1},selectAll:function(){var e=this;this.mdForm.idIdentify=[],this.checked?this.scheduleOptions.map(function(t){e.mdForm.idIdentify.push(t.idIdentify)}):this.mdForm.idIdentify=[]},formateName:function(e){for(var t=0;t<this.scheduleOptions.length;t++)if(this.idIdentifyArr[e]==this.scheduleOptions[t].idIdentify)return this.scheduleOptions[t].showName},formateCarNo:function(e){for(var t=0;t<this.scheduleOptions.length;t++)if(this.idIdentifyArr[e]==this.scheduleOptions[t].idIdentify)return this.scheduleOptions[t].carLicenseNo},getScheduleList:function(e){var t=this;Object(l["u"])({times:[this.mdForm.selectDate]}).then(function(a){if(0==a.status){if(t.scheduleOptions=[],t.mdForm.idIdentify=[],t.taskList=[],a.data){for(var i in a.data){for(var n=0;n<a.data[i].length;n++){a.data[i][n];a.data[i][n].sortDate=parseInt(i),a.data[i][n].showName=a.data[i][n].routeName+"-"+a.data[i][n].carLicenseNo+"-"+(1==a.data[i][n].type?"晚收":"早送"),2!=a.data[i][n].status&&4!=a.data[i][n].status||(a.data[i][n].statusDisabled=!0),t.destinationId&&a.data[i][n].destinationId==t.destinationId&&-1==t.mdForm.idIdentify.indexOf(t.destinationId)&&t.mdForm.idIdentify.push(a.data[i][n].idIdentify)}t.scheduleOptions=t.scheduleOptions.concat(a.data[i])}if(t.scheduleOptions.sort(function(e,t){return e.sortDate-t.sortDate}),"created"==e)for(var s=0;s<t.scheduleOptions.length;s++)(new Date).getHours()>14&&1==t.scheduleOptions[s].type?t.mdForm.idIdentify.push(t.scheduleOptions[s].idIdentify):(new Date).getHours()<=14&&2==t.scheduleOptions[s].type&&t.mdForm.idIdentify.push(t.scheduleOptions[s].idIdentify);else for(var r=0;r<t.scheduleOptions.length;r++)t.mdForm.idIdentify.push(t.scheduleOptions[r].idIdentify);t.mdForm.idIdentify.length&&"created"==e&&t.popShow()}}else t.$message.error(a.msg)}).finally(function(){})},getList:function(){var e=this,t=this;this.listLoading=!0,this.list=[],this.list1=[],Object(o["a"])({date:this.listQuery.selectDate,type:2}).then(function(t){0==t.status?e.list=e.dealData(t.data):e.$message.error(t.msg)}).finally(function(){"first"==e.activeName&&(t.listLoading=!1)}),Object(o["a"])({date:this.listQuery.selectDate,type:1}).then(function(t){0==t.status?e.list1=e.dealData(t.data):e.$message.error(t.msg)}).finally(function(){"second"==e.activeName&&(t.listLoading=!1)})},dealData:function(e){for(var t=0;t<e.length;t++)e[t]=Object.assign(e[t],e[t].schedulingEntityDto);return e},popShow:function(){var e=this,t=this,a=[];this.taskList=[],this.listLoading=!0,this.idIdentifyArr=Object(s["a"])(this.mdForm.idIdentify);for(var i=function(i){var n=new Promise(function(a,n){Object(l["a"])({uuid:e.mdForm.idIdentify[i]}).then(function(e){0==e.status?a(e.data):(t.taskList=[],t.$message.error(e.msg))}).finally(function(){})});a.push(n)},n=0;n<this.mdForm.idIdentify.length;n++)i(n);a&&Promise.all(a).then(function(t){e.taskList=Object(s["a"])(t),e.getDestination()}).finally(function(){e.listLoading=!1})},getDestination:function(){for(var e=this,t=[],a=[],i=function(a){if(-1==e.mdForm.idIdentify.indexOf(e.scheduleOptions[a].idIdentify))return"continue";var i=e.scheduleOptions[a].carLicenseNo,n=new Promise(function(t,a){Object(d["a"])({time:e.mdForm.selectDate,carNo:i}).then(function(e){if(0==e.status){e.data.length&&(e.data.carNo=i);for(var a=0;a<e.data.length;a++)e.data[a].carNo=i;t(e.data)}}).finally(function(){})});t.push(n)},n=0;n<this.scheduleOptions.length;n++)i(n);t.length&&Promise.all(t).then(function(t){a=t.flat(1/0),e.taskList.forEach(function(t,i){t.forEach(function(t,i){a.forEach(function(a,i){var n=!1;t.destinationId==a.destinationId&&a.licenseNo==t.carLicenseNo&&2==t.type&&new Date(a.createTime).getHours()<=14?n=!0:t.destinationId==a.destinationId&&a.licenseNo==t.carLicenseNo&&1==t.type&&new Date(a.createTime).getHours()>14&&(n=!0),n&&(t.active&&new Date(a.createTime).getHours()<new Date(t.parkTime).getHours()?e.$set(t,"parkTime",e.formatDate(a.createTime,1)):t.active||e.$set(t,"parkTime",e.formatDate(a.createTime,1)),e.$set(t,"active",!0))})})})}).finally(function(){e.listLoading=!1})}}},m=u,p=(a("0a50"),a("2877")),f=Object(p["a"])(m,i,n,!1,null,null,null);t["default"]=f.exports},9455:function(e,t,a){},9494:function(e,t,a){},9754:function(e,t,a){"use strict";a.d(t,"b",function(){return n}),a.d(t,"e",function(){return s}),a.d(t,"f",function(){return r}),a.d(t,"a",function(){return o}),a.d(t,"d",function(){return l}),a.d(t,"c",function(){return d}),a.d(t,"h",function(){return c}),a.d(t,"g",function(){return u});var i=a("2ade");function n(e){return Object(i["a"])({url:"/cars/countHandover",method:"post",data:e})}function s(e){return Object(i["a"])({url:"/guns/countHandover",method:"post",data:e})}function r(e){return Object(i["a"])({url:"/eoms/packageRecordInfo/countCurrent",method:"post",data:e})}function o(e){return Object(i["a"])({url:"/eoms/mainpage/bankTask",method:"post",data:e})}function l(e){return Object(i["a"])({url:"/eoms/schedulings/dayOfTask",method:"post",data:e})}function d(e){return Object(i["a"])({url:"/logs/countCurrent",method:"post",data:e})}function c(e){return Object(i["a"])({url:"/eoms/bank/selectTodayTask",method:"post",data:e})}function u(e){return Object(i["a"])({url:"/eoms/bank/selectTodayBankPointPackage",method:"post",data:e})}},9857:function(e,t,a){"use strict";var i=a("1c49"),n=a.n(i);n.a},9964:function(e,t,a){},"9a3e":function(e,t,a){"use strict";a.d(t,"k",function(){return n}),a.d(t,"e",function(){return s}),a.d(t,"n",function(){return r}),a.d(t,"i",function(){return o}),a.d(t,"l",function(){return l}),a.d(t,"f",function(){return d}),a.d(t,"p",function(){return c}),a.d(t,"o",function(){return u}),a.d(t,"a",function(){return m}),a.d(t,"q",function(){return p}),a.d(t,"h",function(){return f}),a.d(t,"d",function(){return h}),a.d(t,"b",function(){return g}),a.d(t,"r",function(){return b}),a.d(t,"c",function(){return v}),a.d(t,"s",function(){return y}),a.d(t,"g",function(){return w}),a.d(t,"m",function(){return k}),a.d(t,"j",function(){return x});var i=a("2ade");function n(e){return Object(i["a"])({url:"/guns/list",method:"post",data:e})}function s(e){return Object(i["a"])({url:"/guns/add",method:"post",data:e})}function r(e){return Object(i["a"])({url:"/guns/update",method:"post",data:e})}function o(e){return Object(i["a"])({url:"/guns/scrap",method:"post",data:e})}function l(e){return Object(i["a"])({url:"/guns/query",method:"post",data:e})}function d(e){return Object(i["a"])({url:"/guns/addBatch",method:"post",data:e})}function c(e){return Object(i["a"])({url:"/qus/list",method:"post",data:e})}function u(e){return Object(i["a"])({url:"/qus/add",method:"post",data:e,headers:{"content-type":"application/json"}})}function m(e){return Object(i["a"])({url:"/qus/answer",method:"post",data:e})}function p(e){return Object(i["a"])({url:"/qus/query",method:"post",data:e})}function f(e){return Object(i["a"])({url:"/card/gunPage",method:"post",data:e})}function h(e){return Object(i["a"])({url:"/card/carPage",method:"post",data:e})}function g(e){return Object(i["a"])({url:"/guns/bindPerson",method:"post",data:e})}function b(e){return Object(i["a"])({url:"/guns/unbindPerson",method:"post",data:e})}function v(e){return Object(i["a"])({url:"/guns/bindTeam",method:"post",data:e})}function y(e){return Object(i["a"])({url:"/guns/unbindTeam",method:"post",data:e})}function w(e){return Object(i["a"])({url:"/guns/bindRfid",method:"post",data:e})}function k(e){return Object(i["a"])({url:"/guns/unbindRfid",method:"post",data:e})}function x(e,t){return Object(i["a"])({url:"/guns/detail",method:"post",data:e,cancelToken:t})}},"9b04":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return"/schedualManagement/schedualChild"!==e.$route.path?a("router-view"):a("div",{staticClass:"app-container",attrs:{id:"schedualChild"}},[a("div",{staticClass:"filter-container"},[a("el-date-picker",{staticClass:"filter-item dateRange",attrs:{type:"week",format:"yyyy 第 WW 周",placeholder:"选择周",clearable:!1,"picker-options":{firstDayOfWeek:1}},on:{change:e.changegToGetList},model:{value:e.listQuery.selectDate,callback:function(t){e.$set(e.listQuery,"selectDate",t)},expression:"listQuery.selectDate"}}),a("el-button",{staticClass:"filter-item",attrs:{type:"primary",disabled:!e.showGenerate&&!e.showPublish||e.dateDisabled||e.hasNormalSchedule,icon:"iconfont iconzidong"},on:{click:e.handleGenerate}},[e._v("自动周排班")]),a("el-button",{staticClass:"filter-item",attrs:{type:"primary",disabled:!e.showGenerate&&!e.showPublish||e.dateDisabled,icon:"iconfont iconshoudong1"},on:{click:e.handleScehduling}},[e._v("手动周排班")]),a("el-button",{staticClass:"filter-item",attrs:{type:"primary",disabled:!e.showPublish||e.dateDisabled,icon:"iconfont iconfabu1"},on:{click:e.open}},[e._v("周排班计划下发")]),a("el-button",{staticClass:"filter-item filter-item-btn",attrs:{type:"primary",disabled:e.showGenerate,icon:"iconfont icondaochu"},on:{click:e.exportExcel}},[e._v("导出")])],1),a("div",{staticClass:"tableBox"},[a("el-form",{ref:"tableForm",attrs:{model:e.tableForm}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,ref:"tableRef",attrs:{height:"100%",data:e.tableForm.list,fit:"","highlight-current-row":"","row-class-name":e.tableRowClassName,rules:e.listRules},on:{"filter-change":e.handleFilterChange}},[a("el-table-column",{attrs:{label:"序号",prop:"id",fixed:"",sortable:"custom",align:"center",width:"80",type:"index",index:e.indexMethod}}),a("el-table-column",{attrs:{label:"路线","min-width":"100px",align:"center",prop:"listProp"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.routeName))])]}}])}),a("el-table-column",{attrs:{label:"排班状态","min-width":"60px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.formateStatus(t.row.status)))])]}}])}),a("el-table-column",{attrs:{label:"车辆","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",{class:{red:1==i[i.id+"car"+i.carId],removeClass:e.judgeRemoveIn(e.carOptions,i.carId)}},[e._v(e._s(i.carLicenseNo))])]}}])}),a("el-table-column",{attrs:{label:"车组长","min-width":"60px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",{class:{red:1==i[i.id+"-"+i.leaderId]}},[e._v(e._s(i.leaderName))])]}}])}),a("el-table-column",{attrs:{label:"司机","min-width":"60px",align:"center",prop:"driverName"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{class:{red:1==t.row[t.row.id+"-"+t.row.driverId]}},[e._v(e._s(t.row.driverName))])]}}])}),a("el-table-column",{attrs:{label:"押运员1","min-width":"60px",align:"center",prop:"safetyName"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{class:{red:1==t.row[t.row.id+"-"+t.row.safetyId]}},[e._v(e._s(t.row.safetyName))])]}}])}),a("el-table-column",{attrs:{label:"押运员2","min-width":"60px",align:"center",prop:"additionSafetyName"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{class:{red:1==t.row[t.row.id+"-"+t.row.additionSafetyId]}},[e._v(e._s(t.row.additionSafetyName))])]}}])}),a("el-table-column",{attrs:{label:"业务员1","min-width":"60px",align:"center",prop:"businessName"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{class:{red:1==t.row[t.row.id+"-"+t.row.businessId]}},[e._v(e._s(t.row.businessName))])]}}])}),a("el-table-column",{attrs:{label:"业务员2","min-width":"60px",align:"center",prop:"addBusinessName"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{class:{red:1==t.row[t.row.id+"-"+t.row.addBusinessId]}},[e._v(e._s(t.row.addBusinessName))])]}}])}),a("el-table-column",{attrs:{label:"发布状态",width:"80px",align:"center",prop:"addBusinessName"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(1==t.row.publish?"已发布":"未发布"))])]}}])}),a("el-table-column",{attrs:{label:"排班类型","min-width":"80px",align:"center",prop:"type","column-key":"type",filters:e.typeArr,"filter-method":e.filterTypeTag,"filtered-value":e.filteredTypeValue},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.formateType(t.row.type)))])]}}])}),a("el-table-column",{attrs:{label:"排班日期","min-width":"80px",fixed:"right",align:"center",prop:"sortDate","column-key":"sortDate",filters:e.dateArr,"filter-method":e.filterTag,"filtered-value":e.filteredValue},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.planYear+"-"+t.row.planMonth+"-"+t.row.planDay))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center",fixed:"right","min-width":"200","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("el-button",{attrs:{type:"primary",size:"mini",disabled:1==i.publish||i.statusDisabled||e.dateDisabled,icon:"el-icon-edit-outline"},on:{click:function(t){return e.handleEdit(i)}}},[e._v("编辑")])]}}])})],1)],1),a("el-dialog",{attrs:{title:"添加预排班",id:"mydialog",visible:e.addVisible,"append-to-body":"",center:""},on:{"update:visible":function(t){e.addVisible=t}}},[a("el-form",{ref:"addForm",staticClass:"formStyle",attrs:{model:e.addTemp,"label-position":"left",rules:e.addRules}},[a("el-form-item",{attrs:{label:"日期",prop:"addDate"}},[a("el-date-picker",{staticClass:"filter-item",attrs:{align:"right",type:"date","value-format":"yyyy_M_d",placeholder:"选择日期","picker-options":e.pickerOptions},model:{value:e.addTemp.addDate,callback:function(t){e.$set(e.addTemp,"addDate",t)},expression:"addTemp.addDate"}})],1),a("el-form-item",{attrs:{label:"道路",prop:"routeId"}},[a("el-select",{staticClass:"filter-item",attrs:{filterable:"",placeholder:"Please select"},model:{value:e.addTemp.routeId,callback:function(t){e.$set(e.addTemp,"routeId",e._n(t))},expression:"addTemp.routeId"}},e._l(e.geometryOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"车辆",prop:"carId"}},[a("el-select",{staticClass:"filter-item",attrs:{filterable:"",placeholder:"Please select"},model:{value:e.addTemp.carId,callback:function(t){e.$set(e.addTemp,"carId",e._n(t))},expression:"addTemp.carId"}},e._l(e.carOptions,function(e){return a("el-option",{key:e.id,class:{removeClass:e.remove},attrs:{label:e.licenseNo,value:e.id,disabled:e.remove}})}),1)],1),a("el-form-item",{attrs:{label:"车组长",prop:"leaderId"}},[a("el-select",{staticClass:"filter-item",attrs:{filterable:"",placeholder:"Please select"},model:{value:e.addTemp.leaderId,callback:function(t){e.$set(e.addTemp,"leaderId",e._n(t))},expression:"addTemp.leaderId"}},e._l(e.teamLeaderOptions,function(e){return a("el-option",{key:e.id,class:{removeClass:e.remove},attrs:{label:e.name,value:e.id,disabled:e.remove}})}),1)],1),a("el-form-item",{attrs:{label:"排班类型",prop:"type"}},[a("el-select",{staticClass:"filter-item",attrs:{filterable:"",placeholder:"Please select"},on:{"":function(e){}},model:{value:e.addTemp.type,callback:function(t){e.$set(e.addTemp,"type",e._n(t))},expression:"addTemp.type"}},e._l(e.typeOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.createData()}}},[e._v("确定")])],1)],1),a("el-dialog",{staticClass:"handleAddBox",attrs:{title:"手动添加排班",visible:e.addVisible1,"append-to-body":"",center:""},on:{"update:visible":function(t){e.addVisible1=t}}},[a("el-form",{ref:"addForm1",staticClass:"formStyle",attrs:{model:e.addTemp1,"label-position":"left",rules:e.addRules1}},[a("el-form-item",{attrs:{label:"排班日期(可多选)",prop:"dates"}},[a("el-date-picker",{staticClass:"filter-item multipleSelectDate",attrs:{align:"right",type:"dates","value-format":"timestamp",placeholder:"选择日期（可多选）","picker-options":e.pickerOptions1},model:{value:e.addTemp1.dates,callback:function(t){e.$set(e.addTemp1,"dates",t)},expression:"addTemp1.dates"}})],1),a("el-form-item",{attrs:{label:"排班模板日期",prop:"templateDate"}},[a("el-date-picker",{staticClass:"filter-item",attrs:{align:"right",type:"date","value-format":"timestamp",placeholder:"选择日期","picker-options":e.pickerOptions},model:{value:e.addTemp1.templateDate,callback:function(t){e.$set(e.addTemp1,"templateDate",t)},expression:"addTemp1.templateDate"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleCreateData()}}},[e._v("确定")])],1)],1)],1),a("el-dialog",{staticClass:"alarmDealBox ",attrs:{title:"编辑",id:"mydialog",visible:e.editVisible,"append-to-body":"",center:""},on:{"update:visible":function(t){e.editVisible=t}}},[a("el-form",{ref:"editForm",staticClass:"formStyle",attrs:{model:e.editTemp,"label-position":"left",rules:e.editRules}},[a("el-form-item",{attrs:{label:"编辑日期",prop:"modifyDates"}},[a("el-select",{staticClass:"filter-item",attrs:{filterable:"",multiple:"","collapse-tags":"",placeholder:"Please select"},on:{change:e.modifyDatesSelectChange},model:{value:e.editTemp.modifyDates,callback:function(t){e.$set(e.editTemp,"modifyDates",t)},expression:"editTemp.modifyDates"}},e._l(e.dateArr,function(e){return a("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})}),1)],1),a("el-form-item",{attrs:{label:"编辑排班类型",prop:"types"}},[a("el-select",{staticClass:"filter-item",attrs:{filterable:"",filterable:"",multiple:"",placeholder:"Please select"},on:{change:e.typesSelectChange},model:{value:e.editTemp.types,callback:function(t){e.$set(e.editTemp,"types",t)},expression:"editTemp.types"}},e._l(e.typeOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"车辆",prop:"carId"}},[a("el-select",{staticClass:"filter-item",class:{repeatColor:e.editTempRepeatCar==e.editTemp.carId,removeClass:e.judgeRemoveIn(e.carOptions,e.editTemp.carId)},attrs:{filterable:"",placeholder:"Please select"},on:{change:function(t){return e.selectChange(e.editTemp,"car")}},model:{value:e.editTemp.carId,callback:function(t){e.$set(e.editTemp,"carId",e._n(t))},expression:"editTemp.carId"}},e._l(e.carOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.licenseNo,value:e.id,disabled:e.remove}})}),1)],1),a("el-form-item",{attrs:{label:"车组长",prop:"leaderId"}},[a("el-select",{staticClass:"filter-item",class:{repeatColor:-1!==e.editTempRepeatPersons.indexOf(e.editTemp.leaderId),removeClass:e.judgeRemoveIn(e.teamLeaderOptions,e.editTemp.leaderId)},attrs:{filterable:"",placeholder:"Please select"},on:{change:function(t){return e.selectChange(e.editTemp,"group")}},model:{value:e.editTemp.leaderId,callback:function(t){e.$set(e.editTemp,"leaderId",e._n(t))},expression:"editTemp.leaderId"}},e._l(e.teamLeaderOptions,function(e){return a("el-option",{key:e.id,class:{removeClass:e.remove},attrs:{label:e.name,value:e.id,disabled:e.remove}})}),1)],1),a("el-form-item",{attrs:{label:"司机"}},[a("div",{staticClass:"editItem",class:{red:-1!==e.editTempRepeatPersons.indexOf(e.editTemp.driverId)}},[e._v(e._s(e.editTemp.driverName))])]),a("el-form-item",{attrs:{label:"押运员1"}},[a("div",{staticClass:"editItem",class:{red:-1!==e.editTempRepeatPersons.indexOf(e.editTemp.safetyId)}},[e._v(e._s(e.editTemp.safetyName))])]),a("el-form-item",{attrs:{label:"押运员2"}},[a("div",{staticClass:"editItem",class:{red:-1!==e.editTempRepeatPersons.indexOf(e.editTemp.additionSafetyId)}},[e._v(e._s(e.editTemp.additionSafetyName))])]),a("el-form-item",{attrs:{label:"业务员1"}},[a("div",{staticClass:"editItem",class:{red:-1!==e.editTempRepeatPersons.indexOf(e.editTemp.businessId)}},[e._v(e._s(e.editTemp.businessName))])]),a("el-form-item",{attrs:{label:"业务员2"}},[a("div",{staticClass:"editItem",class:{red:-1!==e.editTempRepeatPersons.indexOf(e.editTemp.addBusinessId)}},[e._v(e._s(e.editTemp.addBusinessName))])])],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.editData()}}},[e._v("确定")])],1)],1)],1)},n=[],s=a("5a50"),r=s["a"],o=(a("a36f"),a("2877")),l=Object(o["a"])(r,i,n,!1,null,null,null);t["default"]=l.exports},"9fd0":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container",class:{adminClass:1!==e.power&&2!==e.power},attrs:{id:"gunInOut"}},[a("div",{staticClass:"filter-container"},[a("div",{staticClass:"selectBox"},[a("el-form",{ref:"mdForm",staticClass:"mdElForm",attrs:{inline:!0,rules:e.mdRule,model:e.mdForm,"label-width":"80px"}},[a("el-form-item",{attrs:{prop:"searchDate"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",clearable:!1},on:{change:e.getList},model:{value:e.mdForm.searchDate,callback:function(t){e.$set(e.mdForm,"searchDate",t)},expression:"mdForm.searchDate"}})],1),a("el-button",{staticClass:"filter-item filter-item-btn",attrs:{type:"primary",icon:"iconfont icondaochu",loading:e.exportLoading},on:{click:e.exportExcel}},[e._v("导出")])],1)],1)]),a("div",{staticClass:"tableBox"},[6!=e.power?a("div",{staticClass:"tableOne"},[a("div",{staticClass:"title"},[e._v("枪支弹药领用通知书"),a("br"),e._v("\n        (押运部)\n        "),a("div",{staticStyle:{width:"100%","text-align":"right"}},[e._v("N0:"+e._s(e.gunBulletReceiveNo))])]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:"0",ref:"table1",staticStyle:{width:"100%"},attrs:{border:"",data:e.list,fit:"","highlight-current-row":"","row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{label:"押运线路"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.escortRouteName))])]}}],null,!1,279517060)}),a("el-table-column",{attrs:{label:"领用时间","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.escortGunReceiveTime))])]}}],null,!1,3631102168)}),a("el-table-column",{attrs:{label:"枪支领用人","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.escortGunReceiver1))])]}}],null,!1,3514317710)}),a("el-table-column",{attrs:{label:"枪支领用人","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.escortGunReceiver2))])]}}],null,!1,1743138445)}),a("el-table-column",{attrs:{label:"领用枪支名称","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.escortGunName))])]}}],null,!1,823111521)}),a("el-table-column",{attrs:{label:"枪支数量","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.escortGunNumber))])]}}],null,!1,2185643077)}),a("el-table-column",{attrs:{label:"动能弹数量","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.escortBulletNumber))])]}}],null,!1,1975664671)}),a("el-table-column",{attrs:{label:"用途","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.escortUse))])]}}],null,!1,1084299833)})],1)],1):e._e(),a("div",{staticClass:"tableTwo",class:{specialPower:6==e.power}},[a("div",{staticClass:"title"},[e._v("枪支弹药领用通知书"),a("br"),e._v("\n        (枪弹库)\n        "),a("div",{staticStyle:{width:"100%","text-align":"right"}},[e._v("N0:"+e._s(e.gunBulletReceiveNo))])]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:"1",ref:"table2",staticStyle:{width:"100%"},attrs:{border:"",data:e.list,fit:"","highlight-current-row":"","row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{label:"押运线路"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.escortRouteName))])]}}])}),a("el-table-column",{attrs:{label:"领用时间","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.escortGunReceiveTime))])]}}])}),a("el-table-column",{attrs:{label:"枪支领用人","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.escortGunReceiver1))])]}}])}),a("el-table-column",{attrs:{label:"枪支领用人","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.escortGunReceiver2))])]}}])}),a("el-table-column",{attrs:{label:"领用枪支名称","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.escortGunName))])]}}])}),a("el-table-column",{attrs:{label:"枪支数量","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.escortGunNumber))])]}}])}),a("el-table-column",{attrs:{label:"动能弹数量","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.escortBulletNumber))])]}}])}),a("el-table-column",{attrs:{label:"用途","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.escortUse))])]}}])})],1)],1)]),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.page,limit:e.listQuery.limit,layout:"prev, pager, next, sizes, total, jumper"},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"limit",t)},pagination:e.getList}})],1)},n=[],s=(a("34ef"),a("333d")),r=a("2ade");function o(e){return Object(r["a"])({url:"/eoms/schedulings/queryGunBulletNotice",method:"post",data:e})}var l=a("66e8"),d=a("69d9"),c={name:"gunInOut",components:{Pagination:s["a"]},data:function(){var e=function(e,t,a){t?a():a(new Error("请选择设备"))};return{power:JSON.parse(sessionStorage.getItem("userInfo")).Power,tableKey:0,list:null,total:0,indexMethod:1,listLoading:!0,listQuery:{page:1,limit:10,keyword:void 0},mdForm:{searchDate:new Date},mdRule:{searchDate:[{trigger:"change",message:"请选择时间",validator:e}]},totalCount:0,totalInbound:0,totalOutbound:0,exportLoading:!1,gunBulletReceiveNo:""}},created:function(){this.getList()},methods:{formatDate:d["d"],getList:function(){var e=this;this.listLoading=!0,o({actuallyTime:this.formatDate(this.mdForm.searchDate)+" 00:00:00"}).then(function(t){0==t.status&&(e.listLoading=!1,e.gunBulletReceiveNo=t.data.gunBulletReceiveNo,e.list=t.data.maplist||[])}).finally(function(){e.listLoading=!1})},tableRowClassName:function(e){e.row;var t=e.rowIndex;return t%2==0?"color-row":t%2==1?"noColor-row":""},exportExcel:function(){var e=this,t=this;t.$refs["mdForm"].validate(function(t){t&&(e.exportLoading=!0,Object(l["b"])({excelType:42,dates:[e.formatDate(e.mdForm.searchDate)+" 00:00:00"]}).then(function(t){try{var a=new TextDecoder("utf-8"),i=JSON.parse(a.decode(new Uint8Array(t)));e.$message({message:i.msg,type:"warning"})}catch(o){var n="枪弹领用通知单.xls",s=new Blob([t],{type:"application/excel"}),r=document.createElement("a");r.href=window.URL.createObjectURL(s),r.download=n,r.click(),r.remove()}}).finally(function(){e.exportLoading=!1}))})}}},u=c,m=(a("edf5"),a("e9a9"),a("2877")),p=Object(m["a"])(u,i,n,!1,null,"4ec65af8",null);t["default"]=p.exports},a2fc:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"c",function(){return s}),a.d(t,"d",function(){return r}),a.d(t,"b",function(){return o}),a.d(t,"e",function(){return l});var i=a("2ade");function n(e){return Object(i["a"])({url:"/eoms/bankGroups/add",method:"post",data:e})}function s(e){return Object(i["a"])({url:"/eoms/bankGroups/remove",method:"post",data:e})}function r(e){return Object(i["a"])({url:"/eoms/bankGroups/select",method:"post",data:e})}function o(e){return Object(i["a"])({url:"/eoms/bankGroups/page",method:"post",data:e})}function l(e){return Object(i["a"])({url:"/eoms/bankGroups/setRfidHead",method:"post",data:e})}},a36f:function(e,t,a){"use strict";var i=a("bdef"),n=a.n(i);n.a},a619:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container",attrs:{id:"parkRecord"}},[a("div",{staticClass:"multidevice filter-container"}),a("div",{staticClass:"tableBox"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,fit:"","highlight-current-row":"","row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{label:"序号",prop:"id",fixed:"",sortable:"custom",align:"center",width:"80",type:"index",index:e.indexMethod}}),a("el-table-column",{attrs:{label:"车牌号","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.licenseNo))])]}}])}),a("el-table-column",{attrs:{label:"停车超时地址","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.address))])]}}])}),a("el-table-column",{attrs:{label:"停车时间","min-width":"100px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(e.formatDate1(i.offlineTime)))])]}}])}),a("el-table-column",{attrs:{label:"离开时间","min-width":"100px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.onlineTime?e.formatDate1(i.onlineTime):i.onlineTime))])]}}])})],1)],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.page,limit:e.listQuery.limit,layout:"prev, pager, next, sizes, total, jumper"},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"limit",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:"导出",visible:e.formVisible,"append-to-body":"",center:""},on:{"update:visible":function(t){e.formVisible=t}}},[a("el-form",{ref:"addForm",staticClass:"formStyle",attrs:{model:e.temp,"label-position":"left",rules:e.rules}},[a("el-form-item",{attrs:{prop:"imeiCar",label:"车辆"}},[a("el-cascader",{ref:"myMdGunsCas1",staticClass:"myGunCas1",attrs:{"popper-class":"myGunCas1",placeholder:"选择车辆",props:{expandTrigger:"hover",multiple:!0},options:e.dataGun,"show-all-levels":!1,clearable:"",filterable:"","collapse-tags":""},model:{value:e.temp.imeiCar,callback:function(t){e.$set(e.temp,"imeiCar",t)},expression:"temp.imeiCar"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.exportExcel()}}},[e._v("确定")])],1)],1)],1)},n=[],s=(a("34ef"),a("6b54"),a("87b3"),a("7f7f"),a("ac6a"),a("f3e2"),a("bd86")),r=a("333d"),o=a("ad19"),l=a("2ade");function d(e){return Object(l["a"])({url:"/carOfflines/page",method:"post",data:e})}var c=a("69d9"),u=a("66e8"),m={name:"parkRecord",components:{Pagination:r["a"]},data:function(){var e=this,t=function(t,a,i){var n=e.mdForm.imeiCar;n.length<1?i(new Error("请选择设备")):i()},a=function(t,a,i){var n=e.temp.imeiCar;n.length<1?i(new Error("请选择")):i()},i=function(e,t,a){t?a():a(new Error("请选择"))};return Object(s["a"])({power:JSON.parse(sessionStorage.getItem("userInfo")).Power,tableKey:0,list:null,total:0,indexMethod:1,listLoading:!1,listQuery:{page:1,limit:10},mdForm:{imeiCar:[],searchDate:new Date},dataGun:[],imei2name:{},formVisible:!1,temp:{imeiGun:[],searchDate:new Date},rules:{imeiCar:[{validator:a,trigger:"change",required:!0}],searchDate:[{trigger:"change",message:"请选择时间",validator:i,required:!0}]},mdRule:{imeiCar:[{validator:t,trigger:"change"}],searchDate:[{trigger:"change",message:"请选择时间",validator:i}]}},"dataGun",[])},created:function(){this.getList()},methods:{getTeamAndCarList:function(){var e=this,t=this;Object(o["g"])({}).then(function(a){if(0==a.status){t.dataGun=e.formatCas(a.data,"id","licenseNo");for(var i=0;i<e.dataGun.length;i++)for(var n=0;n<e.dataGun[i].children.length;n++)t.mdForm.imeiCar.push([t.dataGun[i].value,e.dataGun[i].children[n].value]);t.mdForm.imeiCar.length&&e.getList()}else e.$message.error(a.msg)})},formatDate1:function(e){return Object(c["d"])(e,1)},formatCas:function(e,t,a){var i=[],n=0,s=this,r=function(r){var o=[];e[r].forEach(function(e){o.push({value:e[t],label:e[a]}),s.imei2name[e[t]]=e[a]}),i.push({value:"i".concat(n++),label:""==r?"未分组":r,children:o})};for(var o in e)r(o);return i},handleFilter:function(){this.listQuery.page=1,this.getList()},getList:function(){var e=this;this.listLoading=!0,d({page:this.listQuery.page,limit:this.listQuery.limit}).then(function(t){0==t.status&&(e.list=t.data,e.total=t.count,e.indexMethod=(e.listQuery.page-1)*e.listQuery.limit+1)}).finally(function(){e.listLoading=!1})},tableRowClassName:function(e){e.row;var t=e.rowIndex;return t%2==0?"color-row":t%2==1?"noColor-row":""},exportExcel:function(){for(var e=this,t=this,a=[],i=0;i<this.temp.imeiCar.length;i++)a.push(t.imei2name[this.temp.imeiCar[i][1]]);t.$refs["addForm"].validate(function(t){t&&Object(u["b"])({excelType:31,title:"报站记录表",imeis:a,times:[e.mdForm.searchDate.getTime().toString()]}).then(function(t){try{var a=new TextDecoder("utf-8"),i=JSON.parse(a.decode(new Uint8Array(t)));e.$message({message:i.msg,type:"warning"})}catch(o){t.headers;var n="报站记录表.xls",s=new Blob([t],{type:"application/excel"}),r=document.createElement("a");r.href=window.URL.createObjectURL(s),r.download=n,r.click(),r.remove()}})})}}},p=m,f=(a("f1eb"),a("2877")),h=Object(f["a"])(p,i,n,!1,null,null,null);t["default"]=h.exports},a632:function(e,t,a){},a82e:function(e,t,a){},a90f:function(e,t,a){"use strict";a.d(t,"f",function(){return n}),a.d(t,"c",function(){return s}),a.d(t,"e",function(){return r}),a.d(t,"g",function(){return o}),a.d(t,"d",function(){return l}),a.d(t,"a",function(){return d}),a.d(t,"k",function(){return c}),a.d(t,"i",function(){return u}),a.d(t,"h",function(){return m}),a.d(t,"b",function(){return p}),a.d(t,"l",function(){return f}),a.d(t,"j",function(){return h});var i=a("2ade");function n(e){return Object(i["a"])({url:"/eoms/groups/page",method:"post",data:e})}function s(e){return Object(i["a"])({url:"/eoms/groups/list",method:"post",data:e})}function r(e){return Object(i["a"])({url:"/eoms/groups/add",method:"post",data:e})}function o(e){return Object(i["a"])({url:"/groups/update",method:"post",data:e})}function l(e){return Object(i["a"])({url:"/eoms/groups/fuzzyQuery",method:"post",data:e})}function d(e){return Object(i["a"])({url:"/eoms/groups/bind",method:"post",data:e})}function c(e){return Object(i["a"])({url:"/eoms/groups/unbind",method:"post",data:e})}function u(e){return Object(i["a"])({url:"/eoms/groups/enable",method:"post",data:e})}function m(e){return Object(i["a"])({url:"/eoms/groups/disable",method:"post",data:e})}function p(e){return Object(i["a"])({url:"/eoms/groups/bindRoute",method:"post",data:e})}function f(e){return Object(i["a"])({url:"/eoms/groups/unbindRoute",method:"post",data:e})}function h(e){return Object(i["a"])({url:"/eoms/groups/queryBindedRoutes",method:"post",data:e})}},ab94:function(e,t,a){},ac46:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container",class:{adminClass:4==e.userInfo.Power},attrs:{id:"bankPackageInOut"}},[a("div",{staticClass:"filter-container"},[a("div",{directives:[{name:"show",rawName:"v-show",value:4==e.userInfo.Power,expression:"userInfo.Power==4"}],staticClass:"title"},[e._v("银行寄库盘点表")]),a("div",[a("div",{staticClass:"selectBox"},[a("el-form",{ref:"mdForm",staticClass:"filterTool",attrs:{inline:!0,rules:e.mdRule,model:e.mdForm,"label-width":"80px"}},[a("el-form-item",{attrs:{prop:"searchDate"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"timestamp",clearable:!1,"picker-options":e.pickerOptions},model:{value:e.mdForm.searchDate,callback:function(t){e.$set(e.mdForm,"searchDate",t)},expression:"mdForm.searchDate"}})],1),a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.getList}},[e._v("搜索")]),a("el-button",{staticClass:"filter-item filter-item-btn",attrs:{type:"primary",icon:"iconfont icondaochu",loading:e.exportLoading},on:{click:e.exportExcel}},[e._v("导出")]),5!=e.userInfo.Power?a("el-button",{staticClass:"filter-item",attrs:{type:"primary"},on:{click:function(t){return e.$router.push("/packageInOut")}}},[e._v("返回")]):e._e()],1)],1)])]),a("div",{staticClass:"tableBox"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{"show-summary":"","cell-class-name":e.getCellClass,"summary-method":e.getSummaries,data:e.list,fit:"","highlight-current-row":"","row-class-name":e.tableRowClassName,"header-cell-style":{textAlign:"center"},"cell-style":{textAlign:"center"}}},[a("el-table-column",{attrs:{label:"网点",width:"150",prop:"pointName"}}),a("el-table-column",{attrs:{label:"早送款箱","min-width":"150"}},[a("el-table-column",{attrs:{label:"尾箱","min-width":"30",prop:"morningTailBoxNum"}}),a("el-table-column",{attrs:{label:"临时箱","min-width":"30",prop:"morningNullNameBoxNum"}}),a("el-table-column",{attrs:{label:"凭证袋","min-width":"30",prop:"morningNullNamePackageNum"}}),a("el-table-column",{attrs:{label:"周转箱","min-width":"30",prop:"morningTemplateBoxNum"}})],1),a("el-table-column",{attrs:{label:"晚收款箱","min-width":"150"}},[a("el-table-column",{attrs:{label:"尾箱","min-width":"30",prop:"nightTailBoxNum"}}),a("el-table-column",{attrs:{label:"临时箱","min-width":"30",prop:"nightNullNameBoxNum"}}),a("el-table-column",{attrs:{label:"凭证袋","min-width":"30",prop:"nightNullNamePackageNum"}}),a("el-table-column",{attrs:{label:"周转箱","min-width":"30",prop:"nightTemplateBoxNum"}})],1),a("el-table-column",{attrs:{label:"寄库款箱(金库盘点数据)","min-width":"150"}},[a("el-table-column",{attrs:{label:"尾箱","min-width":"30",prop:"warehouseTailBoxNum"}}),a("el-table-column",{attrs:{label:"临时箱","min-width":"30",prop:"warehouseNullNameBoxNum"}}),a("el-table-column",{attrs:{label:"凭证袋","min-width":"30",prop:"warehouseNullNamePackageNum"}}),a("el-table-column",{attrs:{label:"周转箱","min-width":"30",prop:"warehouseTemplateBoxNum"}})],1),5!=e.userInfo.Power?a("el-table-column",{attrs:{label:"操作",align:"center",width:"150","class-name":"small-padding fixed-width",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handleModify(i)}}},[e._v("修正")])]}}],null,!1,3993294309)}):e._e(),5!=e.userInfo.Power?a("el-table-column",{attrs:{label:"修正记录",width:"150",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("el-button",{attrs:{type:"primary",size:"mini",disabled:1!=i.beManualModify},on:{click:function(t){return e.showModifyRecord(i)}}},[e._v("查看")])]}}],null,!1,2843739904)}):e._e()],1)],1),a("el-dialog",{attrs:{id:"myDialog",title:"寄库数据修正",visible:e.dialogFormVisible,center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"dataForm",staticClass:"formStyle",attrs:{rules:e.rules,model:e.temp,"label-position":"left"}},[a("el-form-item",{attrs:{label:"尾箱",prop:"warehouseTailBoxNum"}},[a("el-input",{model:{value:e.temp.warehouseTailBoxNum,callback:function(t){e.$set(e.temp,"warehouseTailBoxNum",t)},expression:"temp.warehouseTailBoxNum"}})],1),a("el-form-item",{attrs:{label:"临时箱",prop:"warehouseNullNameBoxNum"}},[a("el-input",{model:{value:e.temp.warehouseNullNameBoxNum,callback:function(t){e.$set(e.temp,"warehouseNullNameBoxNum",t)},expression:"temp.warehouseNullNameBoxNum"}})],1),a("el-form-item",{attrs:{label:"凭证袋",prop:"warehouseNullNamePackageNum"}},[a("el-input",{model:{value:e.temp.warehouseNullNamePackageNum,callback:function(t){e.$set(e.temp,"warehouseNullNamePackageNum",t)},expression:"temp.warehouseNullNamePackageNum"}})],1),a("el-form-item",{attrs:{label:"周转箱",prop:"warehouseTemplateBoxNum"}},[a("el-input",{model:{value:e.temp.warehouseTemplateBoxNum,callback:function(t){e.$set(e.temp,"warehouseTemplateBoxNum",t)},expression:"temp.warehouseTemplateBoxNum"}})],1)],1),a("div",{staticClass:"dialogBottomHint"},[e._v("当盘点数据与寄库数据有差异时可手动调整修正")]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("dataForm")}}},[e._v("确定")])],1)],1),a("el-dialog",{attrs:{title:"寄库修正记录",visible:e.dialogTableVisible},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[a("el-table",{attrs:{data:e.recordData}},[a("el-table-column",{attrs:{property:"operator",label:"操作人","min-width":"80"}}),a("el-table-column",{attrs:{property:"operateTime",label:"操作时间","min-width":"120"}}),a("el-table-column",{attrs:{property:"warehouseTailBoxNumChange",label:"尾箱","min-width":"80"}}),a("el-table-column",{attrs:{property:"warehouseNullNameBoxNumChange",label:"临时箱","min-width":"80"}}),a("el-table-column",{attrs:{property:"warehouseNullNamePackageNumChange",label:"凭证袋","min-width":"80"}}),a("el-table-column",{attrs:{property:"warehouseTemplateBoxNumChange",label:"周转箱","min-width":"80"}})],1)],1)],1)},n=[],s=(a("34ef"),a("55dd"),a("0cd8"),a("2caf"),a("6d67"),a("ac6a"),a("f3e2"),a("c5f6"),a("78ce"),a("333d")),r=a("39d6"),o=a("a2fc"),l=a("66e8"),d=a("d2bf"),c=void 0,u={name:"bankPackageInOut",components:{Pagination:s["a"]},data:function(){var e=function(e,t,a){var i=/^[0-9]+$/;if(void 0==t)return a(new Error("该项不能为空"));setTimeout(function(){i.test(t)?a():a(new Error("请输入数字"))},100)},t=function(e,t,a){t?a():a(new Error("请选择时间"))};return{userInfo:JSON.parse(sessionStorage.getItem("userInfo")),tableKey:0,list:[],total:0,indexMethod:1,listLoading:!0,listQuery:{page:1,limit:10,keyword:void 0},mdForm:{searchDate:null,bankIds:[]},mdRule:{searchDate:[{trigger:"change",message:"请选择时间",validator:t}]},bankObj:{},exportLoading:!1,dialogFormVisible:!1,temp:{},rules:{warehouseTailBoxNum:[{trigger:"blur",required:!0,validator:e}],warehouseNullNameBoxNum:[{trigger:"blur",required:!0,validator:e}],warehouseNullNamePackageNum:[{trigger:"blur",required:!0,validator:e}],warehouseTemplateBoxNum:[{trigger:"blur",required:!0,validator:e}]},dialogTableVisible:!1,recordData:[],pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()}}}},created:function(){var e=this;5!=this.userInfo.Power?(this.mdForm.searchDate=Number(this.$route.query.time),this.mdForm.bankIds=this.$route.query.bankIds,this.getList()):(this.mdForm.searchDate=(new Date).getTime(),this.getPersonDetail(this.userInfo.PersonId).then(function(t){e.mdForm.bankIds=t[0].parentBankId,e.getList()}))},methods:{getCellClass:function(e){var t=e.row,a=e.column;e.columnIndex;return t[a.property]<0?"red":""},getSummaries:function(e){var t=e.columns,a=e.data,i=[];return t.forEach(function(e,t){if(0!==t){var n=a.map(function(t){return Number(t[e.property])});n.every(function(e){return isNaN(e)})?i[t]="--":i[t]=n.reduce(function(e,t){var a=Number(t);return isNaN(a)?e:e+t},0)}else i[t]="合计"}),i},showModifyRecord:function(e){var t=this;this.recordData=[],Object(r["j"])({warehouseId:e.id}).then(function(e){0==e.status&&(t.dialogTableVisible=!0,t.recordData=e.data)})},handleModify:function(e){this.temp={warehouseTailBoxNum:e.warehouseTailBoxNum,warehouseNullNameBoxNum:e.warehouseNullNameBoxNum,warehouseNullNamePackageNum:e.warehouseNullNamePackageNum,warehouseTemplateBoxNum:e.warehouseTemplateBoxNum,pointId:e.pointId},e.id&&(this.temp.id=e.id),this.dialogFormVisible=!0},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;c=t.$loading({target:"#mydialog .el-dialog"});var a=new Date(t.mdForm.searchDate),i=a.getFullYear()+"-"+t.addZero(a.getMonth()+1)+"-"+t.addZero(a.getDate());t.temp.actuallyTime=i+" 00:00:00",Object(r["i"])(t.temp).then(function(e){t.$message.success("修正成功"),t.getList()}).finally(function(){t.dialogFormVisible=!1,c.close()})})},getPersonDetail:function(e){return this.personDetail={},new Promise(function(t,a){Object(d["c"])({id:e}).then(function(e){0==e.status&&t(e.data)}).catch(function(e){}).finally(function(){})})},getSelect:function(){return new Promise(function(e,t){Object(o["d"])().then(function(t){e(t)})})},addZero:function(e){return e<10?"0"+e:e},getList:function(){var e=this;this.listLoading=!0,e.list=[];var t=new Date(this.mdForm.searchDate),a=t.getFullYear()+"-"+this.addZero(t.getMonth()+1)+"-"+this.addZero(t.getDate());Object(r["k"])({actuallyTime:a+" 00:00:00",bankIds:this.mdForm.bankIds}).then(function(t){if(0==t.status)for(var a in e.listLoading=!1,t.data.pointPackage)e.list.push(t.data.pointPackage[a]),e.list.sort(function(e,t){return e.pointId-t.pointId})}).finally(function(){e.listLoading=!1})},handleFilter:function(){this.$router.push({name:"gunInoutChild",params:{keyword:this.listQuery.keyword}})},tableRowClassName:function(e){e.row;var t=e.rowIndex;return t%2==0?"color-row":t%2==1?"noColor-row":""},exportExcel:function(){var e=this,t=this;t.$refs["mdForm"].validate(function(t){t&&(e.exportLoading=!0,Object(l["b"])({excelType:39,title:"银行网点寄库盘点表",times:[new Date(e.mdForm.searchDate).setHours(0,0,0,0)],bankIds:[e.mdForm.bankIds]}).then(function(t){try{var a=new TextDecoder("utf-8"),i=JSON.parse(a.decode(new Uint8Array(t)));e.$message({message:i.msg,type:"warning"})}catch(o){var n="银行网点寄库盘点表.xls",s=new Blob([t],{type:"application/excel"}),r=document.createElement("a");r.href=window.URL.createObjectURL(s),r.download=n,r.click(),r.remove()}}).finally(function(){e.exportLoading=!1}))})}}},m=u,p=(a("f81c"),a("2370"),a("2877")),f=Object(p["a"])(m,i,n,!1,null,"e1cffcc6",null);t["default"]=f.exports},af66:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container",attrs:{id:"bankOrder"}},[a("div",{staticClass:"filter-container"},[a("el-select",{staticClass:"filter-item",on:{change:e.statusChange},model:{value:e.listQuery.status,callback:function(t){e.$set(e.listQuery,"status",t)},expression:"listQuery.status"}},e._l(e.statusOptions,function(e){return a("el-option",{key:e.value,attrs:{selected:1==e.value,label:e.key,value:e.value}})}),1)],1),a("div",{staticClass:"tableBox"},[3==e.listQuery.status?a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,attrs:{height:"100%",data:e.list,fit:"","highlight-current-row":"","row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.taskList,function(t){return a("div",{staticClass:"taskBox"},[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"任务时间"}},[a("span",[e._v(e._s(t.taskYear+"-"+t.taskMonth+"-"+t.taskDay))])]),a("el-form-item",{attrs:{label:"任务起点"}},[a("span",[e._v(e._s(e.formateTaskStartPoint(t)))])]),a("el-form-item",{attrs:{label:"任务终点"}},[a("span",[e._v(e._s(e.formateTaskEndPoint(t)))])]),a("el-form-item",{attrs:{label:"完成状态"}},[a("span",[e._v(e._s(e.formateTaskFinish(t.finish)))])]),a("el-form-item",{attrs:{label:"正常/取消"}},[a("span",[e._v(e._s(e.formateTaskStatus(t.status)))])]),a("el-form-item",{attrs:{label:"操作"}},[a("el-button",{attrs:{type:"danger",disabled:6==t.status,size:"mini",icon:"el-icon-delete"},on:{click:function(a){return e.handleDeleteTask(t)}}},[e._v("删除")])],1)],1)],1)})}}],null,!1,3177888327)}),a("el-table-column",{attrs:{label:"序号",prop:"id",fixed:"",sortable:"custom",align:"center",width:"80",type:"index",index:e.indexMethod}}),a("el-table-column",{attrs:{label:"预约时间",width:"100px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.planYear+"-"+i.planMonth+"-"+i.planDay+(i.planTime?" "+i.planTime:"")))])]}}],null,!1,474360432)}),a("el-table-column",{attrs:{label:"预约状态",width:"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(e.formateOrderStatus(i.status)))])]}}],null,!1,1843600749)}),a("el-table-column",{attrs:{label:"预约类型",width:"80px",align:"center",prop:"listProp"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.formateTaskType(t.row.type)))])]}}],null,!1,1501618028)}),a("el-table-column",{attrs:{label:"预约发起点",width:"120px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.comeFrom))])]}}],null,!1,3610294358)}),a("el-table-column",{attrs:{label:"所属银行",width:"120px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.parentBankName))])]}}],null,!1,179568953)}),a("el-table-column",{attrs:{label:"任务起点","min-width":"120px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(e.formateStartPoint(i)))])]}}],null,!1,560558113)}),a("el-table-column",{attrs:{label:"任务终点","min-width":"120px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(e.formateEndPoint(i)))])]}}],null,!1,1961251246)}),1==e.listQuery.status?a("el-table-column",{attrs:{label:"操作",align:"center",width:"250","class-name":"small-padding fixed-width",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handleCreate(i)}}},[e._v("绑定排班")]),a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(t){return e.handleDelete(i)}}},[e._v("删除")])]}}],null,!1,54507278)}):e._e()],1):a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey1,attrs:{height:"600",data:e.list,fit:"","highlight-current-row":"","row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{label:"序号",prop:"id",fixed:"",sortable:"custom",align:"center",width:"80",type:"index",index:e.indexMethod}}),a("el-table-column",{attrs:{label:"预约时间",width:"100px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.planYear+"-"+i.planMonth+"-"+i.planDay+(i.planTime?" "+i.planTime:"")))])]}}])}),a("el-table-column",{attrs:{label:"预约状态",width:"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(e.formateOrderStatus(i.status)))])]}}])}),a("el-table-column",{attrs:{label:"预约类型",width:"80px",align:"center",prop:"listProp"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.formateTaskType(t.row.type)))])]}}])}),a("el-table-column",{attrs:{label:"预约发起点",width:"120px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.comeFrom))])]}}])}),a("el-table-column",{attrs:{label:"所属银行",width:"120px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.parentBankName))])]}}])}),a("el-table-column",{attrs:{label:"任务起点","min-width":"120px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(e.formateStartPoint(i)))])]}}])}),a("el-table-column",{attrs:{label:"任务终点","min-width":"120px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(e.formateEndPoint(i)))])]}}])}),1==e.listQuery.status?a("el-table-column",{attrs:{label:"操作",align:"center",width:"250","class-name":"small-padding fixed-width",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("el-button",{attrs:{type:"primary",size:"mini",icon:"iconfont iconsuo"},on:{click:function(t){return e.handleCreate(i)}}},[e._v("绑定排班")]),a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(t){return e.handleDelete(i)}}},[e._v("删除")])]}}],null,!1,196607369)}):e._e()],1),a("el-dialog",{staticClass:"alarmDealBox",attrs:{id:"mydialog",title:"绑定排班",visible:e.addVisible,"append-to-body":"",center:""},on:{"update:visible":function(t){e.addVisible=t}}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.scheduleListLoading,expression:"scheduleListLoading"}],key:e.tableKey,ref:"singleTable",staticClass:"singleTable",attrs:{data:e.scheduleList,fit:"","highlight-current-row":"","max-height":"500"},on:{"selection-change":e.chooseInstance}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:"序号",prop:"id",fixed:"",sortable:"custom",align:"center",width:"60",type:"index"}}),a("el-table-column",{attrs:{label:"路线","min-width":"100px",align:"center",prop:"listProp"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.routeName))])]}}])}),a("el-table-column",{attrs:{label:"排班类型","min-width":"80px",align:"center",prop:"listProp"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.formateTaskType(t.row.type)))])]}}])}),a("el-table-column",{attrs:{label:"车辆","min-width":"100px",align:"center",prop:"listProp"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.carLicenseNo))])]}}])}),a("el-table-column",{attrs:{label:"车组长","min-width":"90px",align:"center",prop:"listProp"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.leaderName))])]}}])}),a("el-table-column",{attrs:{label:"司机","min-width":"80px",align:"center",prop:"listProp"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.driverName))])]}}])}),a("el-table-column",{attrs:{label:"押运员1","min-width":"80px",align:"center",prop:"listProp"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.safetyName))])]}}])}),a("el-table-column",{attrs:{label:"业务员1","min-width":"80px",align:"center",prop:"listProp"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.businessName))])]}}])}),a("el-table-column",{attrs:{label:"押运员2","min-width":"80px",align:"center",prop:"listProp"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.additionSafetyName))])]}}])}),a("el-table-column",{attrs:{label:"业务员2","min-width":"80px",align:"center",prop:"listProp"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.addBusinessName))])]}}])})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.createData()}}},[e._v("确定")])],1)],1)],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.page,limit:e.listQuery.limit,layout:"prev, pager, next, sizes, total, jumper"},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"limit",t)},pagination:e.getList}})],1)},n=[],s=(a("d25f"),a("55dd"),a("333d")),r=a("d256"),o=(a("a90f"),a("66e8"),a("69d9")),l=a("beab"),d=void 0,c={name:"bankOrder",components:{Pagination:s["a"]},data:function(){return{power:JSON.parse(sessionStorage.getItem("userInfo")).Power,tableKey:0,tableKey1:1,list:null,total:0,indexMethod:1,listLoading:!0,listQuery:{page:1,limit:10,status:1},temp:{},statusOptions:[{value:1,key:"未发布"},{value:2,key:"已取消"},{value:3,key:"已处理"}],addVisible:!1,addTemp:{addDate:this.formatDateTime(new Date)},addRules:{idIdentify:[{required:!0,message:"请选择",trigger:"change"}],addDate:[{required:!0,message:"请选择",trigger:"change"}],routeId:[{required:!0,message:"请选择",trigger:"change"}],carId:[{required:!0,message:"请选择",trigger:"change"}],leaderId:[{required:!0,message:"请选择",trigger:"change"}],type:[{required:!0,message:"请选择",trigger:"change"}],status:[{required:!0,message:"请选择",trigger:"change"}]},showPublish:!1,scheduleOptions:[],scheduleObj:{},scheduleSelectDate:(new Date).setHours(0,0,0,0),scheduleList:[],currentRow:null,scheduleListLoading:!1}},computed:{},created:function(){this.getList(),sessionStorage.removeItem("schedule"),sessionStorage.removeItem("schedulingId"),sessionStorage.removeItem("time"),sessionStorage.removeItem("schedulingDate")},methods:{statusChange:function(){this.listQuery.page=1,this.listQuery.limit=10,this.getList()},chooseInstance:function(e){e.length>1?(this.$refs.singleTable.clearSelection(),this.$refs.singleTable.toggleRowSelection(e.pop()),this.currentRow=e[0]):1==e.length?this.currentRow=e[0]:this.currentRow=null},scheduleChange:function(e){this.addTemp.addBusinessName=this.scheduleObj[e].addBusinessName,this.addTemp.additionSafetyName=this.scheduleObj[e].additionSafetyName,this.addTemp.businessName=this.scheduleObj[e].businessName,this.addTemp.carLicenseNo=this.scheduleObj[e].carLicenseNo,this.addTemp.driverName=this.scheduleObj[e].driverName,this.addTemp.leaderName=this.scheduleObj[e].leaderName,this.addTemp.safetyName=this.scheduleObj[e].safetyName},formateTaskFinish:function(e){var t="";switch(e){case 0:t="未知";break;case 1:t="初始化";break;case 2:t="取消";break;case 3:t="库管出库";break;case 5:t="银行入库";break;case 4:t="库管入库";break;case 6:t="银行出库";break}return t},formateTaskStatus:function(e){var t="";switch(e){case 1:case 3:case 5:t="正常";break;case 2:case 4:case 6:t="取消";break}return t},formateOrderStatus:function(e){var t="";switch(e){case 0:t="初始化 ";break;case 1:t="待发布";break;case 2:t="已取消";break;case 3:t="已处理";break}return t},formateTaskStartPoint:function(e){var t="",a=e.type;return 2==a?t="宏达押运":1==a||5==a||6==a||8==a?t=e.destinationName:7==a&&(t=e.otherDestination),t},formateTaskEndPoint:function(e){var t="",a=e.type;return 1==a?t="宏达押运":2==a||7==a?t=e.destinationName:5!=a&&6!=a&&8!=a||(t=e.otherDestination),t},formateStartPoint:function(e){var t="",a=e.type;return t=1==a?e.destinationName:2==a?"宏达押运":e.startPointName,t},formateEndPoint:function(e){var t="",a=e.type;return t=1==a?"宏达押运":2==a?e.destinationName:e.endPointName,t},formateTaskType:function(e){var t="";switch(e){case 1:t="晚收";break;case 2:t="早送";break;case 5:t="加钞";break;case 6:t="缴款";break;case 7:t="送款";break;case 8:t="上门收款";break}return t},dateChange:function(e){this.getSchedule()},getSchedule:function(e){var t=this;this.$refs.singleTable&&this.$refs.singleTable.clearSelection(),this.currentRow=null,this.scheduleListLoading=!0,this.scheduleList=[];var a=this;Object(r["u"])({times:[new Date(e.planYear+"-"+e.planMonth+"-"+e.planDay).getTime()]}).then(function(e){if(0==e.status){if(a.scheduleList=[],e.data){for(var i in e.data){for(var n=e.data[i].length-1;n>=0;n--){e.data[i][n];e.data[i][n].sortDate=parseInt(i),(2==e.data[i][n].status||4==e.data[i][n].status||sessionStorage.schedulingId==e.data[i][n].idIdentify||a.list&&a.list.length&&a.list[0].carLicenseNo==e.data[i][n].carLicenseNo)&&e.data[i].splice(n,1)}a.scheduleList=a.scheduleList.concat(e.data[i])}a.scheduleList.sort(function(e,t){return e.sortDate-t.sortDate}),a.scheduleList.filter(function(e){return 2!==e.status&&4!==e.status})}}else t.$message.error(e.msg)}).finally(function(){t.scheduleListLoading=!1})},formatTime:function(e){return Object(o["e"])(e)},handleCreate:function(e){this.addVisible=!0,this.addTemp.bankPlanId=e.id,this.getSchedule(e)},handleDelete:function(e){var t=this;Object(l["a"])({id:e.id}).then(function(e){0==e.status?(t.getList(),t.$message.success(e.msg)):t.$message.error(e.msg)}).finally(function(){})},handleDeleteTask:function(e){var t,a=this;5==e.status&&(t=6),Object(r["J"])({id:e.id,status:t,finish:e.finish}).then(function(e){0==e.status?(a.getList(),a.$message.success(e.msg)):a.$message.error(e.msg)}).finally(function(){})},createData:function(){this.currentRow?this.addOrEdit(this.currentRow):this.$message.warning("请选择排班")},addOrEdit:function(e){var t=this;d=this.$loading({target:"#mydialog .el-dialog"}),Object(l["b"])({idIdentify:this.currentRow.idIdentify,bankPlanId:this.addTemp.bankPlanId}).then(function(e){0==e.status?(t.getList(),t.addVisible=!1,t.$message.success(e.msg)):t.$message.error(e.msg)}).finally(function(){d.close()})},formatDateTime:function(e){var t=e.getFullYear(),a=e.getMonth()+1,i=e.getDate(),n=(e.getHours(),e.getMinutes());return n=n<10?"0"+n:n,t+"_"+a+"_"+i},getList:function(){var e=this,t=this;this.listLoading=!0,this.showPublish=!1,this.list=[],Object(l["c"])({status:this.listQuery.status,page:this.listQuery.page,limit:this.listQuery.limit}).then(function(a){0==a.status?(t.list=[],e.total=a.data.total,a.data.records&&a.data.records.length&&(t.list=a.data.records),e.indexMethod=(e.listQuery.page-1)*e.listQuery.limit+1):e.$message.error(a.msg)}).finally(function(){t.listLoading=!1})},resetTemp:function(){this.temp={}},tableRowClassName:function(e){e.row;var t=e.rowIndex;return t%2==0?"color-row":t%2==1?"noColor-row":""}}},u=c,m=(a("af6d"),a("2877")),p=Object(m["a"])(u,i,n,!1,null,null,null);t["default"]=p.exports},af6d:function(e,t,a){"use strict";var i=a("6585"),n=a.n(i);n.a},afcc:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container",attrs:{id:"networkPacStatistic"}},[a("div",{staticClass:"filter-container"},[a("div",{staticClass:"selectBox"},[a("el-form",{ref:"mdForm",staticClass:"filterTool",attrs:{inline:!0,rules:e.mdRule,model:e.mdForm,"label-width":"80px"}},[a("el-form-item",{attrs:{prop:"bankId"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.mdForm.bankId,callback:function(t){e.$set(e.mdForm,"bankId",t)},expression:"mdForm.bankId"}},e._l(e.bankOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),a("el-form-item",{attrs:{prop:"searchDate"}},[a("el-date-picker",{staticClass:"filter-item",attrs:{type:"daterange","range-separator":"至","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期",clearable:!1},model:{value:e.mdForm.searchDate,callback:function(t){e.$set(e.mdForm,"searchDate",t)},expression:"mdForm.searchDate"}})],1),a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.getTable}},[e._v("搜索")]),a("el-button",{staticClass:"filter-item filter-item-btn",attrs:{type:"primary",icon:"iconfont icondaochu",loading:e.exportLoading},on:{click:e.exportExcel}},[e._v("导出")]),a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"iconfont icontubiao"},on:{click:e.showChartDialog}},[e._v("生成图表")])],1)],1),e._v("\n      --\x3e\n    ")]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"tableBox"},[e.rowList.length?a("el-table",{key:e.tableKey,staticStyle:{width:"100%"},attrs:{border:"",data:e.rowList,fit:"","highlight-current-row":"",height:"100%"}},[a("el-table-column",{attrs:{label:"序号",prop:"id",fixed:"",sortable:"custom",align:"center",width:"80",type:"index",index:e.indexMethod}}),a("el-table-column",{attrs:{label:"网点名称",prop:"name","min-width":"80px",align:"center"}}),e._l(e.colList,function(t){return a("el-table-column",{attrs:{label:t.name,"min-width":"100px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(i){var n=i.row;return[a("span",[e._v(e._s(e.formateNum(n.id,t.id)))])]}}],null,!0)})})],2):e._e()],1),a("el-dialog",{attrs:{title:"图表",visible:e.dialogTableVisible,width:"90%"},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[a("div",{attrs:{id:"mychart"}})])],1)},n=[],s=(a("34ef"),a("ac6a"),a("5df3"),a("7f7f"),a("6d67"),a("313e")),r=a.n(s),o=a("2ade");function l(e){return Object(o["a"])({url:"/eoms/report/queryPointPackageReport",method:"post",data:e})}function d(e){return Object(o["a"])({url:"/map/queryByParentBankId",method:"post",data:e})}var c=a("a2fc"),u=a("69d9"),m=a("66e8"),p={name:"networkPacStatistic",data:function(){var e=function(e,t,a){t?a():a(new Error("请选择设备"))};return{power:JSON.parse(sessionStorage.getItem("userInfo")).Power,bankerId:JSON.parse(sessionStorage.getItem("userInfo")).PersonId,tableKey:0,indexMethod:1,listLoading:!1,mdForm:{searchDate:[this.formatDate((new Date).setHours(0,0,0)),this.formatDate((new Date).setHours(0,0,0))],bankId:-1},mdRule:{searchDate:[{trigger:"change",message:"请选择时间",validator:e}]},rowList:[],colList:[],dataObj:{},exportLoading:!1,dialogTableVisible:!1,echartsData:[],myChart:null,typeValue:1,taskType:[1,2,5,6,7,8],options:[{value:1,label:"网点任务按任务类型统计"},{value:2,label:"网点任务按时间统计"}],bankOptions:[{id:-1,name:"所有银行"}]}},beforeDestroy:function(){this.myChart&&this.myChart.dispose(),this.myChart=null},created:function(){var e=this;Object(c["d"])().then(function(t){e.bankOptions=[],0==t.status?null==t.data&&(t.data=[]):(null==t.data&&(t.data=[]),e.$message.error(t.msg)),e.bankOptions=t.data,e.bankOptions.unshift({id:-1,name:"所有银行"}),e.getTable()})},methods:{typeSelectChange:function(){this.colList=[],this.rowList=[],this.dataObj={},this.echartsData=[]},formatDate:u["d"],formateNum:function(e,t){var a,i=this.dataObj[e],n="type";if(i)for(var s=0;s<i.length;s++)if(i[s][n]==t){a=i[s].num;break}return a},showChartDialog:function(){var e=this;this.dialogTableVisible=!0,this.$nextTick(function(){e.showChart()})},showChart:function(){var e=[],t=[];t=this.rowList.map(function(e,t){return e.name}),e=this.colList.map(function(e,t){return e.name}),this.myChart&&this.myChart.dispose();var a,i=document.getElementById("mychart");this.myChart=r.a.init(i),a={tooltip:{trigger:"axis",axisPointer:{type:"shadow",label:{show:!0}}},legend:{data:e,itemGap:5},xAxis:{type:"category",data:t,splitLine:{show:!0}},yAxis:{show:!1,type:"value"},dataZoom:[{show:!0,start:0,end:100},{type:"inside",start:0,end:100}],series:this.echartsData},a&&this.myChart.setOption(a)},getTable:function(){var e,t=this;this.listLoading=!0,this.colList=[],this.rowList=[],this.dataObj=[],this.echartsData=[],this.colList=[{id:1,name:"晚收"},{id:2,name:"早送"},{id:5,name:"加钞"},{id:6,name:"缴款"},{id:7,name:"送款"},{id:8,name:"上门收款"}],e=Promise.resolve([{id:1,name:"晚收"},{id:2,name:"早送"},{id:5,name:"加钞"},{id:6,name:"缴款"},{id:7,name:"送款"},{id:8,name:"上门收款"}]);var a={};-1!==this.mdForm.bankId&&(a.parentBankId=this.mdForm.bankId);var i=new Promise(function(e,i){d(a).then(function(a){0==a.status?(t.rowList=a.data,e(a.data)):i()}).catch(function(){i()})}),n=new Promise(function(e,a){l({startTime:t.mdForm.searchDate[0]+" 00:00:00",endTime:t.mdForm.searchDate[1]+" 00:00:00"}).then(function(i){0==i.status?(t.dataObj=i.data,e(i.data)):a()}).catch(function(){t.dataObj={},a()})});Promise.all([e,i,n]).then(function(e){t.listLoading=!1,t.echartsData=[],t.getDataByDealGroupRoute("id","type","id")}).catch(function(){t.listLoading=!1})},getDataByDealGroupRoute:function(e,t,a){for(var i=0;i<this.colList.length;i++){for(var n=[],s=0;s<this.rowList.length;s++){var r=0;if(this.dataObj.hasOwnProperty(this.rowList[s][e])&&this.dataObj[this.rowList[s][e]])for(var o=0;o<this.dataObj[this.rowList[s][e]].length;o++)if(this.dataObj[this.rowList[s][e]][o][t]==this.colList[i][a]){r=this.dataObj[this.rowList[s][e]][o].num;break}n.push(r)}this.echartsData.push({name:this.colList[i].name,data:n,type:"bar"})}},dealDate1:function(){var e=this;function t(e){var t=new Date(e),a=t.getFullYear(),i=t.getMonth()+1,n=t.getDate();return"".concat(a,"-").concat(i,"-").concat(n)}for(var a=864e5,i=new Date(e.mdForm.searchDate[0]).getTime(),n=new Date(e.mdForm.searchDate[1]).getTime()+a-1,s=Math.ceil((n-i)/a),r=[],o=0;o<s;o++){var l=t(i+a*o);r.push({id:l,name:l})}return r},dealDate:function(){var e=this;if(!e.mdForm.searchDate||0==e.mdForm.searchDate.length)return[];for(var t=864e5,a=new Date(e.mdForm.searchDate[0]).getTime(),i=new Date(e.mdForm.searchDate[1]).getTime()+t-1,n=Math.ceil((i-a)/t),s=[],r=0;r<n;r++)s.push(a+t*r);return s},tableRowClassName:function(e){e.row;var t=e.rowIndex;return t%2==0?"color-row":t%2==1?"noColor-row":""},exportExcel:function(){var e=this,t=this;t.$refs["mdForm"].validate(function(a){if(a){e.exportLoading=!0;var i,n=38;i="网点库包按任务类型统计报表",Object(m["b"])({excelType:n,title:i,times:[new Date(t.mdForm.searchDate[0]).getTime(),new Date(t.mdForm.searchDate[1]).getTime()]}).then(function(t){try{var a=new TextDecoder("utf-8"),n=JSON.parse(a.decode(new Uint8Array(t)));e.$message({message:n.msg,type:"warning"})}catch(l){t.headers;var s=i+".xls",r=new Blob([t],{type:"application/excel"}),o=document.createElement("a");o.href=window.URL.createObjectURL(r),o.download=s,o.click(),o.remove()}}).finally(function(){e.exportLoading=!1})}})}}},f=p,h=(a("c695"),a("2877")),g=Object(h["a"])(f,i,n,!1,null,null,null);t["default"]=g.exports},b2bc:function(e,t,a){"use strict";var i=a("4503"),n=a.n(i);n.a},b409:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container",attrs:{id:"realTimeData"}},[a(e.active,{tag:"div"})],1)},n=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"mainRealTimeData"}},[e._m(0),a("div",{staticClass:"mainBox"},[e._m(1),a("div",{staticClass:"centerChartBox"},[a("div",{staticClass:"mapBox",class:{parking:!e.mapShow}},[e.mapShow?e._e():a("div",{staticClass:"titleBox"},[a("div",{staticClass:"divider divider-left"}),a("div",{staticClass:"titleText"},[e._v("网点报站信息")]),a("div",{staticClass:"divider divider-right"})]),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.mapShow,expression:"!mapShow"}],staticClass:"carParking"},[a("div",{staticClass:"demo",attrs:{id:"flip-list-demo"}},[a("transition-group",{staticClass:"content",attrs:{name:"list-complete",tag:"div"}},e._l(e.list,function(t){return a("div",{key:t.value,staticClass:"list-complete-item"},[a("div",[e._v(e._s(t.licenceNo))]),a("div",[e._v(e._s(e.getTime(t.time)))]),a("div",[e._v(e._s(1==t.type?"进入":"离开"))]),a("div",[e._v(e._s(t.destinationName))])])}),0)],1)]),a("div",{class:{none:!e.mapShow},attrs:{id:"mapCanvas"},on:{click:e.mapClick}})]),a("div",{staticClass:"centerBottomBox"},[e._m(2),a("div",{staticClass:"daytTaskBox"},[a("div",{staticClass:"progressBar"},[a("div",[e._v("工作中 ("+e._s(e.running)+")")]),a("ul",{staticClass:"example"},[a("li",{staticClass:"active running",class:{none:0==e.running&&0!==e.complete}},[a("div")]),a("li",{staticClass:"test complete",class:{none:0==e.complete&&0!==e.running}},[a("div")])]),a("div",[e._v("("+e._s(e.complete)+")已完成")])]),a("div",{staticClass:"progressBar progressBar1"},[a("div",[e._v("早送("+e._s(e.early)+")")]),a("ul",{staticClass:"example"},[a("li",{staticClass:"active early",class:{none:0==e.early&&0!==e.night}},[a("div")]),a("li",{staticClass:"test1 night",class:{none:0==e.night&&0!==e.early}},[a("div")])]),a("div",[e._v("("+e._s(e.night)+")晚收")])])])])]),a("div",{staticClass:"rightChartBox"},[e._m(3),a("div",{staticClass:"alarmBox"},[e._m(4),e._m(5),a("div",{staticClass:"alarmContentBox"},[a("div",{staticClass:"alarmBarBox"},[a("div",[e._v(e._s(e.notHandleGun))]),e._m(6),a("div",[e._v(e._s(e.handledGun))])]),a("div",{staticClass:"alarmBarBox"},[a("div",[e._v(e._s(e.notHandleCar))]),e._m(7),a("div",[e._v(e._s(e.handledCar))])]),a("div",{staticClass:"alarmBarBox"},[a("div",[e._v(e._s(e.notHandleAdas))]),e._m(8),a("div",[e._v(e._s(e.handledAdas))])])])])])])])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"topBg"},[a("span",{staticClass:"text"},[e._v("押运智能管理系统")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"leftChartBox"},[a("div",[a("div",{staticClass:"titleBox"},[a("div",{staticClass:"divider divider-left"}),a("div",{staticClass:"titleText"},[e._v("枪支出库状态")]),a("div",{staticClass:"divider divider-right"})]),a("div",{attrs:{id:"myChartGun"}})]),a("div",[a("div",{staticClass:"titleBox"},[a("div",{staticClass:"divider divider-left"}),a("div",{staticClass:"titleText"},[e._v("库包出库状态")]),a("div",{staticClass:"divider divider-right"})]),a("div",{attrs:{id:"myChartPac"}})]),a("div",[a("div",{staticClass:"titleBox"},[a("div",{staticClass:"divider divider-left"}),a("div",{staticClass:"titleText"},[e._v("车辆出库状态")]),a("div",{staticClass:"divider divider-right"})]),a("div",{attrs:{id:"myChartCar"}})])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"titleBox"},[a("div",{staticClass:"divider divider-left"}),a("div",{staticClass:"titleText"},[e._v("当日路线任务")]),a("div",{staticClass:"divider divider-right"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"taskBox"},[a("div",{staticClass:"titleBox"},[a("div",{staticClass:"divider divider-left"}),a("div",{staticClass:"titleText"},[e._v("银行任务分布图")]),a("div",{staticClass:"divider divider-right"})]),a("div",{staticClass:"topLegend"},[a("div",{staticClass:"topLegendItem topLegendItem3"},[a("div"),a("div",[e._v("\n              完成任务网点\n            ")])]),a("div",{staticClass:"topLegendItem topLegendItem4"},[a("div"),a("div",[e._v("\n              已有任务网点\n            ")])])]),a("div",{staticClass:"bankChartBox"},[a("div",{attrs:{id:"bankChart"}})])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"titleBox"},[a("div",{staticClass:"divider divider-left"}),a("div",{staticClass:"titleText"},[e._v("预警统计")]),a("div",{staticClass:"divider divider-right"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"topLegend"},[a("div",{staticClass:"topLegendItem topLegendItem1"},[a("div"),a("div",[e._v("\n              已处理\n            ")])]),a("div",{staticClass:"topLegendItem topLegendItem2"},[a("div"),a("div",[e._v("\n              未处理\n            ")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",{staticClass:"example1"},[a("li",{staticClass:"alarmBar1 notHandleGun"}),a("li",{staticClass:"alarmBar2 handledGun"},[a("div",{staticClass:"alarmBarLabel"},[e._v("\n                  枪支报警\n                ")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",{staticClass:"example1"},[a("li",{staticClass:"alarmBar1 notHandleCar"}),a("li",{staticClass:"alarmBar2 handledCar"},[a("div",{staticClass:"alarmBarLabel"},[e._v("\n                  车辆报警\n                ")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",{staticClass:"example1"},[a("li",{staticClass:"alarmBar1 notHandleAdas"}),a("li",{staticClass:"alarmBar2 handledAdas"},[a("div",{staticClass:"alarmBarLabel"},[e._v("\n                  行为监测\n                ")])])])}],o=a("c55a"),l=o["a"],d=(a("0b02"),a("2877")),c=Object(d["a"])(l,s,r,!1,null,null,null),u=c.exports,m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"bankRealTimeData"}},[a("el-card",{staticClass:"box-card box-card1"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("el-divider",{attrs:{direction:"vertical"}}),a("span",[e._v("当日任务")])],1),a("div",{staticClass:"boxCardItem boxCardItem1"},[a("div",{staticClass:"topBar"},[a("ul",[a("li"),a("li",[e._v("未完成")])]),a("ul",[a("li"),a("li",[e._v("已完成")])])]),a("div",{staticClass:"taskBox"},[e._l(e.tasksList,function(t,i){return a("div",{key:i,staticClass:"taskItem"},[a("div",{staticClass:"title"},[e._v(e._s(t.name))]),a("div",{staticClass:"pieContentBox"},[a("div",{staticClass:"taskBoxChild"},[a("div",{staticClass:"taskNum"},[e._v(e._s(t.finishTask))]),a("div",{staticClass:"taskText"},[e._v("已完成")])]),a("div",{staticClass:"taskBoxChild"},[a("div",{staticClass:"taskNum"},[e._v(e._s(t.taskCount-t.finishTask))]),a("div",{staticClass:"taskText"},[e._v("未完成")])]),a("div",{attrs:{id:"pie"+i}})])])}),a("div",{staticClass:"taskItem"},[a("div",{staticClass:"title"},[e._v("其他任务")]),a("div",{staticClass:"pieContentBox"},[a("div",{staticClass:"taskBoxChild"},[a("div",{staticClass:"taskNum"},[e._v(e._s(e.addNum))]),a("div",{staticClass:"taskText"},[e._v("加钞")])]),a("div",{staticClass:"taskBoxChild"},[a("div",{staticClass:"taskNum"},[e._v(e._s(e.payNum))]),a("div",{staticClass:"taskText"},[e._v("人行提送款")])]),a("div",{staticClass:"taskBoxChild"},[a("div",{staticClass:"taskNum"},[e._v(e._s(e.receiveNum))]),a("div",{staticClass:"taskText"},[e._v("上门收款")])])])])],2)])]),a("el-card",{staticClass:"box-card box-card2"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("el-divider",{attrs:{direction:"vertical"}}),a("span",[e._v("数据分布图")])],1),a("div",{staticClass:"boxCardItem boxCardItem2"},[a("div",{staticClass:"taskBar",attrs:{id:"chartBar"}})])])],1)},p=[],f=a("88da"),h=f["a"],g=(a("d0ce"),Object(d["a"])(h,m,p,!1,null,"33071a0a",null)),b=g.exports,v={name:"realTimeData",components:{mainRealTimeData:u,bankRealTimeData:b},data:function(){return{active:""}},created:function(){5==JSON.parse(this.$store.state.user.userInfo).Power?this.active=b:this.active=u}},y=v,w=(a("8b9f"),Object(d["a"])(y,i,n,!1,null,null,null));t["default"]=w.exports},b4df:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container",attrs:{id:"rfid"}},[a("div",{staticClass:"filter-container"},[a("el-input",{staticClass:"filter-item",attrs:{placeholder:"标签号筛选"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.rfid,callback:function(t){e.rfid=t},expression:"rfid"}}),a("el-select",{staticClass:"filter-item",attrs:{placeholder:"按标签类型筛选",multiple:"",filterable:"","collapse-tags":""},model:{value:e.rfidType,callback:function(t){e.rfidType=t},expression:"rfidType"}},e._l(e.rfidtypeOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1),a("el-select",{staticClass:"filter-item",attrs:{placeholder:"按标签状态筛选",multiple:"",filterable:"","collapse-tags":""},model:{value:e.rfidStatus,callback:function(t){e.rfidStatus=t},expression:"rfidStatus"}},e._l(e.rfidStatusOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1),a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v("搜索")]),a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:e.handleCreate}},[e._v("添加")]),1==e.power?a("el-button",{staticClass:"filter-item",attrs:{type:"primary"},on:{click:e.handleReg}},[e._v("注册元数据")]):e._e(),a("el-button",{staticClass:"filter-item filter-item-btn",attrs:{type:"primary",icon:"iconfont icondaochu",loading:e.exportLoading},on:{click:e.exportExcel}},[e._v("导出")]),a("el-button",{staticClass:"filter-item filter-item-btn",attrs:{type:"primary",icon:"iconfont icondaoru"},on:{click:function(t){e.uploadVisible=!0}}},[e._v("导入")])],1),a("div",{staticClass:"tableBox"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,fit:"","highlight-current-row":"","row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{label:"序号",prop:"id",fixed:"",sortable:"custom",align:"center",width:"80",type:"index",index:e.indexMethod}}),a("el-table-column",{attrs:{label:"标签号","min-width":"180px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.rfid))])]}}])}),a("el-table-column",{attrs:{label:"标签类型","min-width":"180px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(e.formatType(i.rfidType)))])]}}])}),a("el-table-column",{attrs:{label:"标签状态","min-width":"180px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(0==i.status?"初始化":1==i.status?"正常":"废弃"))])]}}])}),a("el-table-column",{attrs:{label:"关联名称","min-width":"180px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.linkName))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center","min-width":"300",fixed:"right","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-edit-outline"},on:{click:function(t){return e.handleUpdate(i)}}},[e._v("编辑")])]}}])})],1)],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.page,limit:e.listQuery.limit,"page-sizes":[5,10,20],layout:"prev, pager, next, sizes, total, jumper"},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"limit",t)},pagination:e.getList}}),a("el-dialog",{staticClass:"addOrEditBox",class:{editClass:!0},attrs:{id:"myDialog",title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible,center:""},on:{close:e.scrollTop,"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"dataForm",staticClass:"formStyle",attrs:{rules:e.rules,model:e.temp,"label-position":"left"}},["create"==e.dialogStatus?a("el-form-item",{attrs:{label:"标签",prop:"rfid"}},[a("el-input",{model:{value:e.temp.rfid,callback:function(t){e.$set(e.temp,"rfid",t)},expression:"temp.rfid"}})],1):e._e(),"update"==e.dialogStatus?a("el-form-item",{attrs:{label:"标签状态",prop:"status"}},[a("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择"},model:{value:e.temp.status,callback:function(t){e.$set(e.temp,"status",t)},expression:"temp.status"}},e._l(e.statusOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1):e._e()],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){"create"===e.dialogStatus?e.createData():e.updateData()}}},[e._v("确定")])],1)],1),a("el-dialog",{class:{editClass:!0},attrs:{id:"myDialog",title:"注册元数据",visible:e.regDialogFormVisible,center:""},on:{close:e.scrollTop,"update:visible":function(t){e.regDialogFormVisible=t}}},[a("el-form",{ref:"regForm",staticClass:"formStyle",attrs:{rules:e.regRules,model:e.regTemp,"label-position":"left"}},[a("el-form-item",{attrs:{label:"标签开头",prop:"startRule"}},[a("el-input",{model:{value:e.regTemp.startRule,callback:function(t){e.$set(e.regTemp,"startRule",t)},expression:"regTemp.startRule"}})],1),a("el-form-item",{attrs:{label:"标签类型",prop:"rfidType"}},[a("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择"},model:{value:e.regTemp.rfidType,callback:function(t){e.$set(e.regTemp,"rfidType",t)},expression:"regTemp.rfidType"}},e._l(e.rfidtypeOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),a("el-form-item",{attrs:{label:"标签状态",prop:"status"}},[a("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择"},model:{value:e.regTemp.status,callback:function(t){e.$set(e.regTemp,"status",t)},expression:"regTemp.status"}},e._l(e.statusOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.regMetaData}},[e._v("确定")])],1)],1),a("my-upload",{attrs:{visible:e.uploadVisible,uploadData:{type:8}},on:{"update:visible":function(t){e.uploadVisible=t},dataUpdated:e.reqSuccess}})],1)},n=[],s=a("cebc"),r=(a("6b54"),a("87b3"),a("a481"),a("7514"),a("7f7f"),a("34ef"),a("262f"),a("bd86")),o=a("333d"),l=a("98c6"),d=a("c31b"),c=a("a2fc"),u=a("66e8"),m=a("4807"),p=function(e,t,a){-1==t?a(new Error("请选择")):a()},f=void 0,h={name:"rfid",components:{Pagination:o["a"],myUpload:l["a"]},data:function(){var e;return e={power:JSON.parse(sessionStorage.getItem("userInfo")).Power,tableKey:0,list:null,total:0,listLoading:!0,indexMethod:1,listQuery:{page:1,limit:10},largeTeamOptions:[],channelNoOptions:[],temp:{status:1},dialogFormVisible:!1,dialogStatus:"",textMap:{update:"编辑",create:"添加"},rules:{rfid:[{required:!0,message:"请填写标签号",trigger:"blur"}],status:[{message:"请选择标签状态",trigger:"change",required:!0}]},bindTypeOptions:[{id:-1,name:"请选择"},{id:1,name:"司机"},{id:2,name:"大队"}],bindTemp:{type:1},BindDialogFormVisible:!1,bindDialogStatus:"",bindMap:{bind:"绑定",unbind:"解绑"},bindRules:{type:[{required:!0,message:"请选择绑定类型",trigger:"change",validator:p}],driverId:[{required:!0,message:"请选择绑定司机",trigger:"change",validator:p}],teamId:[{required:!0,message:"请选择绑定大队",trigger:"change",validator:p}]},rfidOptions:[{id:1,name:1}],typeOptions:[{id:-1,name:"请选择"},{id:1,name:"归属银行"},{id:2,name:"未定义"}],statusOptions:[{id:0,name:"初始化"},{id:1,name:"正常"},{id:2,name:"废弃"}],bankOptions:[{id:-1,name:"请选择"}],rfidtypeOptions:[{id:-1,name:"未定义"},{id:1,name:"司机"},{id:2,name:"业务车组长"},{id:3,name:"押运员"},{id:4,name:"业务员"},{id:5,name:"大队长"},{id:8,name:"库管"},{id:7,name:"车管"},{id:6,name:"枪管"},{id:9,name:"车辆"},{id:10,name:"工作人员"},{id:80,name:"枪支"},{id:90,name:"库包"},{id:99,name:"银行人员"}],regTemp:{},regRules:{startRule:[{required:!0,message:"请填写标签开头",trigger:"blur",validator:p}],rfidType:[{required:!0,message:"请选择标签类型",trigger:"change"}]},regDialogFormVisible:!1,wsRfid:null,rfid:null,uploadVisible:!1,rfidType:[]},Object(r["a"])(e,"rfid",""),Object(r["a"])(e,"rfidStatusOptions",[{id:0,name:"初始化"},{id:1,name:"正常"}]),Object(r["a"])(e,"rfidStatus",[0,1]),Object(r["a"])(e,"exportLoading",!1),e},created:function(){this.getList(),this.getSelect(),this.getChannelNoOptions(),this.webSocketConnect()},mounted:function(){},beforeDestroy:function(){this.wsRfid&&this.wsRfid.close()},methods:{handleFilter:function(e){this.listQuery.page=1,this.getList()},reqSuccess:function(e){1==e&&this.getList()},webSocketConnect:function(){var e=a("6b57"),t=this;switch(this.wsRfid=new WebSocket("ws://127.0.0.1:22345"),this.wsRfid.binaryType="arraybuffer",this.wsRfid.readyState){case WebSocket.CONNECTING:console.log("正在连接");break;case WebSocket.OPEN:console.log("连接成功");break;case WebSocket.CLOSING:console.log("正在关闭");break;case WebSocket.CLOSED:console.log("已经关闭，或者打开连接失败");break;default:break}this.wsRfid.onerror=function(e){console.log("error")},this.wsRfid.onclose=function(){console.log("close")},this.wsRfid.onopen=function(){},this.wsRfid.onmessage=function(a){if(a.data instanceof ArrayBuffer){var i=a.data,n=new DataView(i.slice(0,8)),s=n.getInt32(0),r=null,o=new Uint8Array(i.slice(8,s+4));r=e.lookupType("com.beidou.proto.local.RealTimeRfidInfoResponse");var l=r.decode(o);1==t.dialogFormVisible&&"create"==t.dialogStatus&&t.dealWebSocketData(l.rfid)}}},dealWebSocketData:function(e){this.rfid!=e&&(this.$set(this.temp,"rfid",e),this.rfid=e)},handleReg:function(){var e=this;this.regDialogFormVisible=!0,this.regTemp={},this.$nextTick(function(){e.$refs["regForm"].clearValidate()})},regMetaData:function(){var e=this;this.$refs["regForm"].validate(function(t){t&&(e.regTemp.typeName=e.findItem(e.rfidtypeOptions,"id",e.regTemp.rfidType).name,Object(m["a"])(e.regTemp).then(function(t){0==t.status?(e.getList(),e.getSelect(),e.$message.success(t.msg),e.BindDialogFormVisible=!1):e.$message.error(t.msg)}).finally(function(){f.close()}))})},formatType:function(e){var t="";switch(e){case-1:t="未定义";break;case 1:t="司机";break;case 2:t="业务车组长";break;case 3:t="押运员";break;case 4:t="业务员";break;case 5:t="大队长";break;case 8:t="库管";break;case 7:t="车管";break;case 6:t="枪管";break;case 9:t="车辆";break;case 10:t="工作人员";break;case 80:t="枪支";break;case 90:t="库包";break;case 99:t="银行人员";break;default:t="无匹配"}return t},findItem:function(e,t,a){var i={};return i=e.find(function(e){return e[t]===a}),void 0==i&&(i={}),i},handleBind:function(e){this.bindTypeOptions=[{id:-1,name:"请选择"},{id:1,name:"司机"},{id:2,name:"大队"}],this.bindDialogStatus="bind",this.bindTemp={type:1,carId:e.id,driverId:e.driverId,teamId:e.teamId},this.BindDialogFormVisible=!0},bindSubmit:function(){var e=this;this.$refs["bindForm"].validate(function(t){var a,i;t&&(f=e.$loading({target:"#myDialog .el-dialog"}),1==e.bindTemp.type?(a={carId:e.bindTemp.carId,driverId:e.bindTemp.driverId},i=d["b"]):2==e.bindTemp.type&&(a={carId:e.bindTemp.carId,teamId:e.bindTemp.teamId},i=d["c"]),i(a).then(function(t){0==t.status?(e.getList(),e.getSelect(),e.$message.success(t.msg),e.BindDialogFormVisible=!1):e.$message.error(t.msg)}).finally(function(){f.close()}))})},getList:function(){var e,t=this,a=this;a.listLoading=!0,e={page:this.listQuery.page,limit:this.listQuery.limit},this.rfidType.length&&(e.rfidType=this.rfidType),this.rfidStatus.length?e.status=this.rfidStatus:e.status=[0,1],this.rfid&&(e.rfid=this.rfid.toString().replace(/-/g,"")),Object(m["c"])(e).then(function(e){0==e.status?(t.listLoading=!1,t.list=e.data,t.total=e.count,t.indexMethod=(a.listQuery.page-1)*a.listQuery.limit+1):t.$message.error(e.msg)}).finally(function(){a.listLoading=!1})},getChannelNoOptions:function(){this.channelNoOptions=[];for(var e=0;e<17;e++)this.channelNoOptions.push({channelNo:e})},resetTemp:function(){this.temp={type:1}},handleCreate:function(){var e=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick(function(){e.$refs["dataForm"].clearValidate()})},createData:function(){var e=this;this.$refs["dataForm"].validate(function(t){if(!t)return!1;f=e.$loading({target:"#myDialog .el-dialog"});var a=e.temp.rfid.toString().replace(/-/g,"");Object(m["d"])({rfid:a}).then(function(t){0==t.status?(e.getList(),e.$message.success(t.data),e.dialogFormVisible=!1):e.$message.error(t.data)}).finally(function(){f.close()})})},handleUpdate:function(e){var t=this;this.temp={id:e.id,type:e.type},this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick(function(){t.$refs["dataForm"].clearValidate()})},updateData:function(){var e=this;this.$refs["dataForm"].validate(function(t){if(!t)return!1;f=e.$loading({target:"#myDialog .el-dialog"});var a=Object(s["a"])({},e.temp);Object(m["e"])(a).then(function(t){0==t.status?(e.getList(),e.$message.success("编辑成功"),e.dialogFormVisible=!1):e.$message.error(t.msg)}).finally(function(){f.close()})})},getSelect:function(){var e=this,t=this;Object(u["j"])({status:1}).then(function(a){if(0==a.status){if(null==a.data)return e.largeTeamOptions=[],void e.largeTeamOptions.unshift({id:-1,teamName:"请选择"});t.largeTeamOptions=a.data,t.largeTeamOptions.unshift({id:-1,teamName:"请选择"})}else null==a.data&&(e.largeTeamOptions=[],e.largeTeamOptions.pop()),e.$message.error(a.msg)}),Object(u["g"])({work:1,status:1}).then(function(a){if(0==a.status){if(null==a.data)return;t.driverOptions=a.data,t.driverOptions.unshift({id:-1,name:"请选择"})}else null==a.data&&(e.driverOptions=[],e.driverOptions.pop()),e.$message.error(a.msg)}),Object(c["d"])().then(function(a){if(0==a.status){if(null==a.data)return void(t.bankOptions=[{id:-1,name:"请选择"}]);t.bankOptions=a.data,t.bankOptions.unshift({id:-1,name:"请选择"})}else null==a.data&&(e.bankOptions=[]),e.$message.error(a.msg)})},scrollTop:function(){var e=document.querySelector("#myDialog .el-dialog__body");e.scrollTop=0},tableRowClassName:function(e){e.row;var t=e.rowIndex;return t%2==0?"color-row":t%2==1?"noColor-row":""},exportExcel:function(){var e=this;this.exportLoading=!0,Object(u["b"])({excelType:25,title:"标签信息表"}).then(function(t){try{var a=new TextDecoder("utf-8"),i=JSON.parse(a.decode(new Uint8Array(t)));e.$message({message:i.msg,type:"warning"})}catch(o){t.headers;var n="标签信息表.xls",s=new Blob([t],{type:"application/excel"}),r=document.createElement("a");r.href=window.URL.createObjectURL(s),r.download=n,r.click(),r.remove()}}).finally(function(){e.exportLoading=!1})}}},g=h,b=(a("1dfe"),a("2877")),v=Object(b["a"])(g,i,n,!1,null,null,null);t["default"]=v.exports},b9c9:function(e,t,a){},bc33:function(e,t,a){"use strict";a.d(t,"g",function(){return n}),a.d(t,"b",function(){return s}),a.d(t,"a",function(){return r}),a.d(t,"f",function(){return o}),a.d(t,"d",function(){return l}),a.d(t,"c",function(){return d}),a.d(t,"e",function(){return c});var i=a("2ade");function n(e){return Object(i["a"])({url:"/map/lstPt",method:"post",data:e})}function s(e){return Object(i["a"])({url:"/map/allDestination",method:"post",data:e})}function r(e){return Object(i["a"])({url:"/map/keypt",method:"post",data:e})}function o(e){return Object(i["a"])({url:"/map/updatePt",method:"post",data:e,headers:{"content-type":"application/json"}})}function l(e){return Object(i["a"])({url:"/map/deletePt",method:"post",data:e})}function d(e){return Object(i["a"])({url:"/map/checkArea",method:"post",data:e})}function c(e){return Object(i["a"])({url:"/map/destinationByRoad",method:"post",data:e})}},bdef:function(e,t,a){},beab:function(e,t,a){"use strict";a.d(t,"c",function(){return n}),a.d(t,"a",function(){return s}),a.d(t,"b",function(){return r});var i=a("2ade");function n(e){return Object(i["a"])({url:"/eoms/bankscheduling/list",method:"post",data:e})}function s(e){return Object(i["a"])({url:"/eoms/bankscheduling/drop",method:"post",data:e})}function r(e){return Object(i["a"])({url:"/eoms/bankscheduling/generate",method:"post",data:e})}},c0a7:function(e,t,a){"use strict";var i=a("0841"),n=a.n(i);n.a},c31b:function(e,t,a){"use strict";a.d(t,"l",function(){return n}),a.d(t,"d",function(){return s}),a.d(t,"k",function(){return r}),a.d(t,"n",function(){return o}),a.d(t,"h",function(){return l}),a.d(t,"a",function(){return d}),a.d(t,"p",function(){return c}),a.d(t,"o",function(){return u}),a.d(t,"b",function(){return m}),a.d(t,"q",function(){return p}),a.d(t,"c",function(){return f}),a.d(t,"r",function(){return h}),a.d(t,"j",function(){return g}),a.d(t,"f",function(){return b}),a.d(t,"e",function(){return v}),a.d(t,"i",function(){return y}),a.d(t,"g",function(){return w}),a.d(t,"m",function(){return k});var i=a("2ade");function n(e){return Object(i["a"])({url:"/cars/list",method:"post",data:e})}function s(e){return Object(i["a"])({url:"/cars/add",method:"post",data:e})}function r(e){return Object(i["a"])({url:"/cars/delete",method:"post",data:e})}function o(e){return Object(i["a"])({url:"/cars/update",method:"post",data:e})}function l(e){return Object(i["a"])({url:"/cars/query",method:"post",data:e})}function d(e){return Object(i["a"])({url:"/cars/addBatch",method:"post",data:e})}function c(e){return Object(i["a"])({url:"/params/setPause",method:"post",data:e,headers:{"content-type":"application/json"}})}function u(e){return Object(i["a"])({url:"/cars/scrap",method:"post",data:e})}function m(e){return Object(i["a"])({url:"/cars/bindDriver",method:"post",data:e})}function p(e){return Object(i["a"])({url:"/cars/unbindDriver",method:"post",data:e})}function f(e){return Object(i["a"])({url:"/cars/bindTeam",method:"post",data:e})}function h(e){return Object(i["a"])({url:"/cars/unbindTeam",method:"post",data:e})}function g(e){return Object(i["a"])({url:"/cars/unbindScanDevice",method:"post",data:e})}function b(e){return Object(i["a"])({url:"/cars/bindScanDevice",method:"post",data:e})}function v(e){return Object(i["a"])({url:"/cars/bindRfid",method:"post",data:e})}function y(e){return Object(i["a"])({url:"/cars/unbindRfid",method:"post",data:e})}function w(e,t){return Object(i["a"])({url:"/cars/detail",method:"post",data:e,cancelToken:t})}function k(e){return Object(i["a"])({url:"/cars/bindPhoto",method:"post",data:e})}},c4ef:function(e,t,a){"use strict";var i=a("5b9b"),n=a.n(i);n.a},c55a:function(e,t,a){"use strict";(function(e){a("7f7f");var i=a("75fc"),n=(a("28a5"),a("78ce"),a("ac6a"),a("5df3"),a("57e7"),a("313e")),s=a.n(n),r=(a("3139"),a("9754")),o=a("69d9"),l=a("f2d7");t["a"]={name:"mainRealTimeData",data:function(){return{myChart:void 0,carNmus:{in:0,out:0},gunNmus:{in:0,out:0},pacNmus:{in:0,out:0},bankName:[],bankTaskTotal:[],bankTaskfinish:[],animate:!1,items:[],list:[],newSocketData:{},value:0,mapShow:!0,early:0,night:0,running:0,complete:0,notHandleAdas:0,notHandleCar:0,notHandleGun:0,handledAdas:0,handledCar:0,handledGun:0,myChartCar:null,myChartGun:null,myChartPac:null,dayTask1:null,mapCanvas:null,bankChart:null,intervalId:null,boxAlarm:!1}},watch:{sidePop:function(t,a){!0===t?(e(".app-container").css("z-index",0),e(".app-container").css("margin-left","-240px")):(e(".app-container").css("z-index",10),e(".app-container").css("margin-left","-20px"))},"$store.state.realTimeMonitor.carParkingDetailSocket":{handler:function(e,t){this.mapShow=!1,this.animation(JSON.parse(JSON.stringify(this.$store.state.realTimeMonitor.carParkingDetailSocket)))}},deep:!0},beforeDestroy:function(){this.clear(),this.chart&&(this.myChartCar&&this.myChartCar.dispose(),this.myChartCar=null,this.myChartGun&&this.myChartGun.dispose(),this.myChartGun=null,this.myChartPac&&this.myChartPac.dispose(),this.myChartPac=null,this.dayTask1&&this.dayTask1.dispose(),this.dayTask1=null,this.mapCanvas&&this.mapCanvas.dispose(),this.mapCanvas=null,this.bankChart&&this.bankChart.dispose(),this.bankChart=null)},created:function(){this.getData(),window.addEventListener("resize",this.throttle(this.echartsResize,1e3),!1),this.dataRefreh(),this.$store.state.user.userInfo&&-1==JSON.parse(this.$store.state.user.userInfo).UserName.indexOf("yunnan")&&this.getAlarm()},mounted:function(){var e=this;this.initBankChart(),this.$nextTick(function(){setTimeout(function(){e.drawChina()},1e3)})},methods:{getAlarm:function(){var e=this,t=new Promise(function(t,a){Object(l["a"])({date:(new Date).getTime(),type:2}).then(function(i){0==i.status?t(i.data):(a(),e.$message.error(i.msg))})}),a=new Promise(function(t,a){Object(l["a"])({date:(new Date).getTime(),type:1}).then(function(i){0==i.status?t(i.data):(a(),e.$message.error(i.msg))})});Promise.all([t,a]).then(function(t){var a=[];(new Date).getHours()>=14&&(new Date).getHours()<=21?a=t[0]:(new Date).getHours()>21&&(a=t[0].concat(t[1]));for(var i=0;i<a.length;i++){var n=a[i];if(n.taskCount-n.cancelledTask&&n.finishTask/(n.taskCount-n.cancelledTask)*100!=1){e.$alert("款箱交接未完成！","提示",{confirmButtonText:"知道了",customClass:"boxMessageBox",callback:function(e){}});break}}})},refreshData:function(t,a){if(a){var i=a.getOption();i.series[0].data=t,a.setOption(i);var n=0;n--;var s=i.series[0].data.length;a.dispatchAction({type:"downplay",seriesIndex:0,dataIndex:n}),n=(n+1)%s,a.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:n}),e(a).mouseenter(function(){a.dispatchAction({type:"downplay",seriesIndex:0,dataIndex:n})}),e(a).mouseleave(function(){a.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:n})})}},dataRefreh:function(){var e=this;null==this.intervalId&&(this.intervalId=setInterval(function(){e.getData(!0)},2e4))},clear:function(){clearInterval(this.intervalId),this.intervalId=null},throttle:function(e,t){var a=Date.now();return function(){var i=this,n=arguments,s=Date.now();s-a>=t&&(e.apply(i,n),a=Date.now())}},echartsResize:function(){this.myChartCar&&this.myChartCar.resize(),this.myChartGun&&this.myChartGun.resize(),this.myChartPac&&this.myChartPac.resize(),this.dayTask1&&this.dayTask1.resize(),this.mapCanvas&&this.mapCanvas.resize(),this.bankChart&&this.bankChart.resize()},mapClick:function(){this.$router.push("/realTimeMonitoring")},getTime:function(e){if(e)return this.formatTime1(parseInt(e)).split(" ")[1]},checkCarParking:function(e){sessionStorage.destinationId=e.destinationId,this.$router.push("/carParkingBySchedule")},speak:function(e){var t=new SpeechSynthesisUtterance(e);t.volume=100,t.rate=1,t.pitch=1.5,speechSynthesis.speak(t)},formatTime1:function(e){return Object(o["d"])(e,1)},animation:function(e){e.value=this.value++;var t=Object(i["a"])(this.list),a=this.formatTime1(parseInt(e.time)).split(" ")[1].split(":"),n=a[0]+"点"+a[1]+"分"+a[2]+"秒",s=e.licenceNo+","+n+(1==e.type?"进入":"离开")+e.destinationName;if(this.speak(s),t.length>=8){var r=t.length;t.splice(r-1,1)}t.unshift(e),this.list=Object(i["a"])(t)},scroll:function(){var e=this;this.animate=!0,setTimeout(function(){e.items.unshift(e.items[0]),e.animate=!1,e.items.pop()},500)},getData:function(t){var a=this;Object(r["d"])({time:(new Date).getTime()}).then(function(t){0==t.status&&t.data&&(a.early=t.data.early,a.night=t.data.night,a.complete=t.data.complete,a.running=t.data.running,0==a.early&&0==a.night?(e(".early").width("50%"),e(".night").width("50%")):(e(".early").width(100*a.early/(a.early+a.night)+"%"),e(".night").width(100*a.night/(a.early+a.night)+"%")),0==a.complete&&0==a.running?(e(".complete").width("50%"),e(".running").width("50%")):(e(".complete").width(100*a.complete/(a.complete+a.running)+"%"),e(".running").width(100*a.running/(a.complete+a.running)+"%")))}).finally(function(){}),Object(r["c"])({}).then(function(t){0==t.status&&t.data&&(a.notHandleAdas=t.data.notHandleAdas,a.notHandleCar=t.data.notHandleCar,a.notHandleGun=t.data.notHandleGun,a.handledAdas=t.data.handledAdas,a.handledCar=t.data.handledCar,a.handledGun=t.data.handledGun,0==a.notHandleAdas&&0==a.handledAdas?(e(".notHandleAdas").width("0%"),e(".handledAdas").width("100%")):(e(".notHandleAdas").width(100*a.notHandleAdas/(a.notHandleAdas+a.handledAdas)+"%"),e(".handledAdas").width(100*a.handledAdas/(a.notHandleAdas+a.handledAdas)+"%")),0==a.notHandleCar&&0==a.handledCar?(e(".notHandleCar").width("0%"),e(".handledCar").width("100%")):(e(".notHandleCar").width(100*a.notHandleCar/(a.notHandleCar+a.handledCar)+"%"),e(".handledCar").width(100*a.handledCar/(a.notHandleCar+a.handledCar)+"%")),0==a.notHandleGun&&0==a.handledGun?(e(".notHandleGun").width("0%"),e(".handledGun").width("100%")):(e(".notHandleGun").width(100*a.notHandleGun/(a.notHandleGun+a.handledGun)+"%"),e(".handledGun").width(100*a.handledGun/(a.notHandleGun+a.handledGun)+"%")))}).finally(function(){}),Object(r["b"])({}).then(function(e){if(0==e.status){var i=0,n=0;if(e.data&&(i=e.data.inbound?e.data.inbound:0,n=e.data.outbound?e.data.outbound:0),a.carNmus={in:i,out:n},t)return void a.refreshData([{value:n,name:"车辆出库"},{value:i,name:"车辆在库"}],a.myChartCar);a.initChart("myChartCar",["车辆出库","车辆在库"],[{value:n,name:"车辆出库"},{value:i,name:"车辆在库"}])}else a.$message.error(e.msg)}).finally(function(){}),Object(r["e"])({}).then(function(e){if(0==e.status){var i=0,n=0;if(e.data&&(i=e.data.inbound?e.data.inbound:0,n=e.data.outbound?e.data.outbound:0),a.gunNmus={in:i,out:n},t)return void a.refreshData([{value:n,name:"枪支出库"},{value:i,name:"枪支在库"}],a.myChartGun);a.initChart("myChartGun",["枪支出库","枪支在库"],[{value:n,name:"枪支出库"},{value:i,name:"枪支在库"}])}else a.$message.error(e.msg)}).finally(function(){}),Object(r["f"])({}).then(function(e){if(0==e.status){var i=e.data?e.data.inBound:0,n=e.data?e.data.outBound:0;if(a.pacNmus={in:i,out:n},t)return void a.refreshData([{value:n,name:"库包出库"},{value:i,name:"库包入库"}],a.myChartPac);a.initChart("myChartPac",["库包出库","库包入库"],[{value:n,name:"库包出库"},{value:i,name:"库包入库"}])}else a.$message.error(e.msg)}).finally(function(){}),Object(r["a"])({}).then(function(e){if(0==e.status){for(var i in delete e.data["中国人民银行"],e.data){a.bankName.push(i),a.bankTaskTotal.push(e.data[i].total),a.bankTaskfinish.push(e.data[i].finish);for(var n=a.bankTaskTotal.length-1;n>=0;n--)for(var s=n-1;s>=0;s--)if(a.bankTaskTotal[s]<a.bankTaskTotal[n]){var r=a.bankTaskTotal[n],o=a.bankName[n],l=a.bankTaskfinish[n];a.bankTaskTotal[n]=a.bankTaskTotal[s],a.bankTaskTotal[s]=r,a.bankName[n]=a.bankName[s],a.bankName[s]=o,a.bankTaskfinish[n]=a.bankTaskfinish[s],a.bankTaskfinish[s]=l}}if(t)return;a.initBankChart()}else a.$message.error(e.msg)}).finally(function(){})},drawChina:function(){this.mapCanvas=s.a.init(document.getElementById("mapCanvas")),this.mapCanvas.resize();var e={legend:{data:["北京","天津","上海","重庆","河北","河南","云南","辽宁","黑龙江","湖南","安徽","山东","新疆","江苏","浙江","江西","湖北","广西","甘肃","山西","内蒙古","陕西","吉林","福建","贵州","广东","青海","西藏","四川","宁夏","海南","台湾","香港","澳门"]},series:[{name:"模拟数据",type:"map",mapType:"china",roam:!1,itemStyle:{normal:{label:{show:!1},areaColor:"rgb(46, 53, 94)",color:"rgb(46, 53, 94)",borderColor:"rgb(135, 166, 255)"},emphasis:{label:{show:!0,color:"#2E355E"},areaColor:"rgb(135, 166, 255)",color:"rgb(135, 166, 255)"}},zoom:1.1,top:"center",data:[{name:"北京",value:35e4},{name:"天津",value:12e4},{name:"上海",value:3e5},{name:"重庆",value:92e3},{name:"河北",value:25e3},{name:"河南",value:2e4},{name:"云南",value:500},{name:"辽宁",value:3050},{name:"黑龙江",value:8e4},{name:"湖南",value:2e3},{name:"安徽",value:24580},{name:"山东",value:40629},{name:"新疆",value:36981},{name:"江苏",value:13569},{name:"浙江",value:24956},{name:"江西",value:15194},{name:"湖北",value:41398},{name:"广西",value:41150},{name:"甘肃",value:17630},{name:"山西",value:27370},{name:"内蒙古",value:27370},{name:"陕西",value:97208},{name:"吉林",value:88290},{name:"福建",value:19978},{name:"贵州",value:94485},{name:"广东",value:89426},{name:"青海",value:35484},{name:"西藏",value:97413},{name:"四川",value:54161},{name:"宁夏",value:56515},{name:"海南",value:54871},{name:"台湾",value:48544},{name:"香港",value:49474},{name:"澳门",value:34594}],icon:"circle",itemWidth:10,itemHeight:10,itemGap:20}]};this.mapCanvas.setOption(e)},initChart:function(t,a,i){this[t]=s.a.init(document.getElementById(t));var n={color:["#7882D7","#4E57A6"],tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{icon:"circle",y:"center",right:"50",orient:"vertical",textStyle:{color:"#9EA6DA",fontSize:14,rich:{verticalAlign:"top"}},formatter:function(e){for(var t=0;t<i.length;t++)if(i[t].name==e)return i[t].name+" "+i[t].value}},series:[{name:"出入库",type:"pie",radius:["40%","65%"],center:["25%","50%"],itemStyle:{normal:{label:{show:!1},labelLine:{show:!0}},emphasis:{label:{show:!1,position:"outer",textStyle:{fontSize:"15",fontWeight:"bold",color:"white"}}}},data:i}]};this[t].setOption(n);var r=0;r--;var o=n.series[0].data.length;this[t].dispatchAction({type:"downplay",seriesIndex:0,dataIndex:r}),r=(r+1)%o,this[t].dispatchAction({type:"highlight",seriesIndex:0,dataIndex:r}),e(t).mouseenter(function(){this[t].dispatchAction({type:"downplay",seriesIndex:0,dataIndex:r})}),e(t).mouseleave(function(){this[t].dispatchAction({type:"highlight",seriesIndex:0,dataIndex:r})})},initTaskChart:function(){this.dayTask1=s.a.init(document.getElementById("dayTask1"));var e={backgroundColor:"#17326b",grid:{left:"100",top:"10",right:"0",bottom:"10",containLabel:!0},xAxis:{type:"value",splitLine:{show:!1},axisLabel:{show:!1},axisTick:{show:!1},axisLine:{show:!1}},yAxis:[{type:"category",axisTick:{show:!1},axisLine:{show:!1},axisLabel:{color:"black",fontSize:14,textStyle:{color:"#fff"}},data:["苹果"],max:10,inverse:!0},{type:"category",axisTick:{show:!1},axisLine:{show:!1},axisLabel:{color:"black",fontSize:14,textStyle:{color:"#fff"}},data:[702],max:10,inverse:!0}],series:[{name:"条",type:"bar",barWidth:19,data:[80],barCategoryGap:20,itemStyle:{normal:{barBorderRadius:10,color:new s.a.graphic.LinearGradient(0,0,1,0,[{offset:0,color:"#22b6ed"},{offset:1,color:"#3fE279"}])}},zlevel:1},{name:"进度条背景",type:"bar",barGap:"-100%",barWidth:19,data:[100],color:"#2e5384",itemStyle:{normal:{barBorderRadius:10}}}]};this.dayTask1.setOption(e)},initBankChart:function(){this.bankChart=s.a.init(document.getElementById("bankChart"));var e={roam:!1,tooltip:{show:!1},grid:{x:"5%",x2:"5%",y:"25%",y2:70},xAxis:{axisLabel:{interval:0,rotate:0,show:!0,textStyle:{color:" #9EA6DA"}},axisLine:{lineStyle:{color:"#484A75"}},axisTick:{show:!1},data:this.bankName},yAxis:{show:!0,splitLine:{show:!1},axisLabel:{show:!1},axisTick:{show:!1},axisLine:{lineStyle:{color:"#2D3154",width:1}}},series:[{name:"a",barMinHeight:6,tooltip:{show:!1},data:this.bankTaskfinish,type:"bar",barWidth:10,barGap:200,barCategoryGap:200,label:{show:!0,position:"top",top:0,fontSize:12,color:"#9EA6DA",offset:[0,-10],formatter:function(e){return e.value}},itemStyle:{normal:{color:new s.a.graphic.LinearGradient(0,1,0,0,[{offset:0,color:"#504CB1"},{offset:.5,color:"#504CB1"},{offset:1,color:"#504CB1"}],!1)}}},{type:"bar",barWidth:4,itemStyle:{normal:{color:new s.a.graphic.LinearGradient(0,1,0,0,[{offset:0,color:"#393685"},{offset:.5,color:"#393685"},{offset:1,color:"#393685"}],!1)}},barGap:0},{name:"b",barMinHeight:6,tooltip:{show:!1},type:"pictorialBar",itemStyle:{borderWidth:0,borderColor:"#47A6FF",color:"#6D69C2"},symbol:"path://M 0,0 l 120,0 l -30,60 l -120,0 z",symbolSize:["13","3"],symbolOffset:["-7","-2"],symbolRotate:0,symbolPosition:"end",data:this.bankTaskfinish,z:3},{name:"c",barMinHeight:6,tooltip:{show:!1},data:this.bankTaskTotal,type:"bar",barWidth:10,barGap:200,barCategoryGap:200,label:{show:!0,position:"top",top:0,fontSize:10,color:"#AAB4FF",offset:[0,0],formatter:function(e){return e.value}},itemStyle:{normal:{color:new s.a.graphic.LinearGradient(0,1,0,0,[{offset:0,color:"#7583F2"},{offset:.5,color:"#7583F2"},{offset:1,color:"#7583F2"}],!1)}}},{type:"bar",barWidth:4,itemStyle:{normal:{color:new s.a.graphic.LinearGradient(0,1,0,0,[{offset:0,color:"#4E58AB"},{offset:.5,color:"#4E58AB"},{offset:1,color:"#4E58AB"}],!1)}},barGap:0},{name:"d",barMinHeight:6,tooltip:{show:!1},type:"pictorialBar",itemStyle:{borderWidth:0,borderColor:"#47A6FF",color:"#AAB4FF"},symbol:"path://M 0,0 l 120,0 l -30,60 l -120,0 z",symbolSize:["13","3"],symbolOffset:["7","-2"],symbolRotate:0,symbolPosition:"end",data:this.bankTaskTotal,z:3}],dataZoom:[{show:!1,realtime:!0,start:0,end:this.bankName.length<6?100:500/this.bankName.length},{type:"slider",realtime:!1,start:0,end:this.bankName.length<6?100:500/this.bankName.length,zoomOnMouseWheel:!1,bottom:20,height:20}]};this.bankChart.setOption(e)}}}}).call(this,a("1157"))},c695:function(e,t,a){"use strict";var i=a("18d6"),n=a.n(i);n.a},caa7:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"inOutProcedure"}},[a("div",{staticClass:"contenBox"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"selectBox"},[a("el-form",{ref:"mdForm",staticClass:"mdElForm",attrs:{inline:!0,rules:e.mdRule,model:e.mdForm,"label-width":"80px"}},[a("el-form-item",{attrs:{prop:"date"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",clearable:!1},on:{change:e.dateChange},model:{value:e.mdForm.date,callback:function(t){e.$set(e.mdForm,"date",t)},expression:"mdForm.date"}})],1),a("el-form-item",{attrs:{prop:"routeId"}},[a("el-select",{staticClass:"filter-item",attrs:{placeholder:"选择路线"},model:{value:e.mdForm.routeId,callback:function(t){e.$set(e.mdForm,"routeId",t)},expression:"mdForm.routeId"}},e._l(e.routeOptions,function(e){return a("el-option",{key:e.routeId,attrs:{label:e.routeName,value:e.routeId}})}),1)],1),a("el-form-item",{attrs:{prop:"type"}},[a("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择"},model:{value:e.mdForm.type,callback:function(t){e.$set(e.mdForm,"type",t)},expression:"mdForm.type"}},e._l(e.typeOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),a("el-button",{attrs:{type:"primary"},on:{click:e.handleFilter}},[e._v("搜索")])],1)],1)]),a("div",{staticClass:"mainContent"},[a("div",[a("div",[e._v("路线名称")]),a("div",[e._v(e._s(e.routeName))])]),a("div",[a("div",[e._v("周转箱数量")]),a("div",[e._v(e._s(e.templateBoxNum))])]),a("div",[a("div",[e._v("凭证袋数量")]),a("div",[e._v(e._s(e.nullNamePackage))])]),a("div",[a("div",[e._v("临时箱数量")]),a("div",[e._v(e._s(e.nullNameBox))])]),a("div",[a("div",[e._v("库包数量")]),a("div",[e._v(e._s(e.packageNum))])]),a("div",[a("div",[e._v("合计")]),a("div",[e._v(e._s(e.nullNamePackage+e.nullNameBox+e.templateBoxNum+e.packageNum))])])])])],1)])},n=[],s=(a("d25f"),a("f3e2"),a("5df3"),a("57e7"),a("ac6a"),a("456d"),a("bc3a")),r=a.n(s),o=a("da14"),l=a("4807"),d=a("d256"),c=a("f2d7"),u={name:"inOutProcedure",data:function(){return{newSocketData:{},cancelRequest:null,rfidNames:{},nullNamePackage:0,nullNameBox:0,templateBoxNum:0,templateBox:"",rfidOptions:[],rfidNameObj:{},templateBoxName:"",packageNum:0,routeName:"-",mdRule:{date:[{trigger:"change",message:"请选择时间",required:!0}],routeId:[{trigger:"change",message:"请选择路线",required:!0}]},mdForm:{date:new Date,type:2,routeId:null},typeOptions:[{id:2,name:"早送"},{id:1,name:"晚收"}],scheduleOptions:[],routeOptions:[]}},watch:{"$store.state.realTimeMonitor.packageInoutSocket":{handler:function(e,t){var a=this;this.newSocketData=JSON.parse(JSON.stringify(this.$store.state.realTimeMonitor.packageInoutSocket)),this.nullNamePackage=this.newSocketData.nullNamePackage?this.newSocketData.nullNamePackage:0,this.nullNameBox=this.newSocketData.nullNameBox?this.newSocketData.nullNameBox:0,this.templateBoxNum=this.newSocketData.templateBoxNum?this.newSocketData.templateBoxNum:0,this.templateBox=this.newSocketData.templateBox?this.newSocketData.templateBox:"",this.templateBoxName=this.rfidNameObj[this.templateBox]?this.rfidNameObj[this.templateBox]:"",this.packageNum=0,this.routeName=this.newSocketData.routeName?this.newSocketData.routeName:"-";var i=this.newSocketData.routeName?this.newSocketData.routeName:"";this.speak(i+"周转箱"+this.templateBoxNum+"个,凭证袋"+this.nullNamePackage+"个,临时箱"+this.nullNameBox+"个"),Object(o["a"])(this.newSocketData.rfids,new r.a.CancelToken(function(e){a.cancelRequest=e})).then(function(e){a.packageNum=Object.keys(e.data).length;var t=a.nullNamePackage+a.nullNameBox+a.templateBoxNum+a.packageNum;a.speak("库包"+a.packageNum+"个,合计"+t+"个")}).catch(function(e){a.cancelRequest=null})}},deep:!0},created:function(){this.getSchedule(),-1==JSON.parse(this.$store.state.user.userInfo).UserName.indexOf("yunnan")&&this.getAlarm()},computed:{},mounted:function(){this.getRfids()},methods:{getAlarm:function(){var e=this,t=new Promise(function(t,a){Object(c["a"])({date:(new Date).getTime(),type:2}).then(function(i){0==i.status?t(i.data):(a(),e.$message.error(i.msg))})}),a=new Promise(function(t,a){Object(c["a"])({date:(new Date).getTime(),type:1}).then(function(i){0==i.status?t(i.data):(a(),e.$message.error(i.msg))})});Promise.all([t,a]).then(function(t){var a=[];(new Date).getHours()>=14&&(new Date).getHours()<=21?a=t[0]:(new Date).getHours()>21&&(a=t[0].concat(t[1]));for(var i=0;i<a.length;i++){var n=a[i];if(n.taskCount-n.cancelledTask&&n.finishTask/(n.taskCount-n.cancelledTask)*100!=1){e.$alert("款箱交接未完成！","提示",{confirmButtonText:"知道了",customClass:"boxMessageBox",callback:function(e){}});break}}})},dateChange:function(){this.mdForm.routeId=null,this.getSchedule()},handleFilter:function(){var e=this;this.$refs["mdForm"].validate(function(t){if(!t)return!1;var a=[];e.nullNamePackage=0,e.nullNameBox=0,e.templateBoxNum=0,e.packageNum=0,e.scheduleOptions.forEach(function(t){t.routeId==e.mdForm.routeId&&e.mdForm.type==t.type&&(a.length||(e.routeName=t.routeName),a.push(t.idIdentify))}),Object(d["C"])({time:e.mdForm.date.getTime(),uuids:a}).then(function(t){if(0==t.status){if(t.data)for(var a in t.data){var i=t.data[a];e.nullNamePackage+=i.nullNamePackage,e.nullNameBox+=i.nullNameBox,e.templateBoxNum+=i.temp,e.packageNum+=i.package}}else e.$message.error(t.msg)}).finally(function(){})})},getSchedule:function(){var e=this;this.scheduleOptions=[],this.routeOptions=[],Object(d["u"])({times:[this.mdForm.date.getTime()]}).then(function(t){if(0==t.status){if(t.data){var a=function(a){for(var i=function(i){if(2==t.data[a][i].status||4==t.data[a][i].status)t.data[a].splice(i,1);else{var n=e.routeOptions.filter(function(e,n){return e.routeId==t.data[a][i].routeId});n.length||e.routeOptions.push(t.data[a][i])}},n=t.data[a].length-1;n>=0;n--)i(n);e.scheduleOptions=e.scheduleOptions.concat(t.data[a])};for(var i in t.data)a(i)}}else e.$message.error(t.msg)}).finally(function(){})},getRfids:function(){var e=this;Object(l["b"])({rfidType:[90],status:[0,1]}).then(function(t){if(0==t.status){if(null==t.data)return;e.rfidOptions=t.data;for(var a=0;a<e.rfidOptions.length;a++)e.rfidNameObj[e.rfidOptions[a].rfid]=e.rfidOptions[a].linkName}else null==t.data&&(e.rfidOptions=[],e.rfidOptions1=[]),e.$message.error(t.msg)})},speak:function(e){var t=new SpeechSynthesisUtterance(e);t.volume=100,t.rate=1,t.pitch=1.5,speechSynthesis.speak(t)}}},m=u,p=(a("8839"),a("c4ef"),a("2877")),f=Object(p["a"])(m,i,n,!1,null,"7ae4a4d0",null);t["default"]=f.exports},cc61:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"commonProblem"}},[a("el-card",{staticClass:"box-card cPro"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("常见问题")])]),a("div",{staticClass:"text item l-question"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"my-table",staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[t.row.finish?a("el-form-item",{attrs:{label:"答："}},[a("span",[e._v(e._s(t.row.answer))])]):e._e()],1)]}}])}),a("el-table-column",{attrs:{label:"序号",align:"center",width:"80",type:"index",index:e.indexMethod}}),a("el-table-column",{attrs:{label:"问题",prop:"question"}}),1==e.power?a("el-table-column",{attrs:{label:"是否已回答",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{class:0==t.row.finish?"nore":"fied"},[e._v(e._s(0==t.row.finish?"未回答":"已回答"))]),1==e.power?a("el-button",{staticClass:"answerBtn",attrs:{size:"mini",round:"",type:"primary"},on:{click:function(a){return e.anQ(t.row)}}},[e._v("回答")]):e._e()]}}],null,!1,853980681)}):e._e()],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.pages.total>0,expression:"pages.total>0"}],attrs:{total:e.pages.total,page:e.pages.page,limit:e.pages.size,layout:"prev, pager, next, sizes, total, jumper"},on:{"update:page":function(t){return e.$set(e.pages,"page",t)},"update:limit":function(t){return e.$set(e.pages,"size",t)},pagination:e.getQ}}),1==e.power?a("el-button",{staticClass:"l-ask",attrs:{type:"primary"},on:{click:e.openDia}},[e._v("创建问题")]):e._e()],1)]),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("售后服务")])]),a("div",{staticClass:"text item"},[e._v("深圳北斗通信科技有限公司")]),a("div",{staticClass:"text item"},[e._v("地址：深圳市南山区科苑南路南京大学产学研基地 B 栋 7 楼")]),a("div",{staticClass:"text item"},[e._v("售后服务：曾昭凡")]),a("div",{staticClass:"text item"},[e._v("联系方式：john@beidoucom.com")])]),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("技术支持")])]),a("div",{staticClass:"text item"},[e._v("深圳北斗通信科技有限公司")]),a("div",{staticClass:"text item"},[e._v("地址：深圳市南山区科苑南路南京大学产学研基地 B 栋 7 楼")]),a("div",{staticClass:"text item"},[e._v("售后服务：吕建峰")]),a("div",{staticClass:"text item"},[e._v("联系方式：jeff.lv@beidoucom.com")])]),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("文件下载")])]),a("a",{staticClass:"text item",attrs:{href:"download/BDA09操作手册.pdf",download:"BDA09操作手册"}},[e._v("操作手册")]),a("a",{staticClass:"text item",attrs:{href:"download/beidou install setup.exe",download:"beidou install setupX64.exe"}},[e._v("专用读卡软件")]),a("a",{staticClass:"text item",attrs:{href:"download/人员信息模板.xls",download:"人员信息模板"}},[e._v("人员信息模板")]),a("a",{staticClass:"text item",attrs:{href:"download/车辆信息模板.xls",download:"车辆信息模板"}},[e._v("车辆信息模板")]),a("a",{staticClass:"text item",attrs:{href:"download/枪支信息模板.xls",download:"枪支信息模板"}},[e._v("枪支信息模板")]),a("a",{staticClass:"text item",attrs:{href:"download/库包信息模板.xls",download:"库包信息模板"}},[e._v("库包信息模板")]),a("a",{staticClass:"text item",attrs:{href:"download/银行人员信息模板.xls",download:"银行人员信息模板"}},[e._v("银行人员信息模板")]),a("a",{staticClass:"text item",attrs:{href:"download/银行信息模板.xls",download:"银行信息模板"}},[e._v("银行信息模板")]),a("a",{staticClass:"text item",attrs:{href:"download/网点信息模板.xls",download:"网点信息模板"}},[e._v("网点信息模板")]),a("a",{staticClass:"text item",attrs:{href:"download/标签信息模板.xls",download:"标签信息模板"}},[e._v("标签信息模板")]),a("a",{staticClass:"text item",attrs:{href:"download/每日排班模板.xls",download:"每日排班模板"}},[e._v("每日排班模板")])]),a("el-dialog",{attrs:{id:"myDialog",title:"创建问题",visible:e.qusDia,center:""},on:{"update:visible":function(t){e.qusDia=t}}},[a("el-form",{ref:"dataForm",attrs:{rules:e.rules,model:e.Cqus,"label-position":"left"}},[a("el-form-item",{staticClass:"l-textarea",attrs:{label:"问题",prop:"cont"}},[a("el-input",{attrs:{type:"textarea",rows:14,placeholder:"请输入问题或意见",maxlength:"200","show-word-limit":""},model:{value:e.Cqus.cont,callback:function(t){e.$set(e.Cqus,"cont",t)},expression:"Cqus.cont"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.createQ}},[e._v("确定")])],1)],1),a("el-dialog",{attrs:{id:"myDialog1",title:"回答问题",visible:e.anDia,center:""},on:{"update:visible":function(t){e.anDia=t}}},[a("el-form",{ref:"anForm",attrs:{rules:e.anRules,model:e.Anqus,"label-position":"left"}},[a("el-form-item",{staticClass:"l-textarea",attrs:{label:"问题",prop:"ques"}},[e._v(e._s(e.Anqus.ques))]),a("el-form-item",{staticClass:"l-textarea",attrs:{label:"回答",prop:"cont"}},[a("el-input",{attrs:{type:"textarea",rows:14,placeholder:"请输入回答内容",maxlength:"400","show-word-limit":""},model:{value:e.Anqus.cont,callback:function(t){e.$set(e.Anqus,"cont",t)},expression:"Anqus.cont"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.answerQ(e.Anqus.id)}}},[e._v("确定")])],1)],1)],1)},n=[],s=a("333d"),r=a("9a3e"),o={name:"commonProblem",components:{Pagination:s["a"]},data:function(){return{power:JSON.parse(sessionStorage.getItem("userInfo")).Power,qusDia:!1,Cqus:{cont:""},rules:{cont:[{required:!0,message:"请填写内容"}]},listLoading:!1,tableData:[],pages:{page:1,size:10,total:0},indexMethod:1,anDia:!1,Anqus:{id:void 0,ques:"xx",cont:""},anRules:{cont:[{required:!0,message:"请填写内容"}]}}},mounted:function(){this.getQ()},methods:{getQ:function(){var e=this,t={size:e.pages.size,page:e.pages.page};e.listLoading=!0,e.tableData=[],1!=e.power&&(t.finish=1),Object(r["p"])(t).then(function(t){t.success&&(e.tableData=t.data.records,e.pages.total=t.data.total,e.indexMethod=(e.pages.page-1)*e.pages.size+1)}).finally(function(){e.listLoading=!1})},searchQ:function(){},createQ:function(){var e=this;e.$refs["dataForm"].validate(function(t){t&&Object(r["o"])({question:e.Cqus.cont}).then(function(t){t.success?(e.$message.success("提问成功!"),e.qusDia=!1,e.pages.page=1,e.getQ()):e.$message.error("提交失败，请重新提交！")}).catch(function(t){e.$message.error("提交失败，请重新提交！")})})},openDia:function(){var e=this;e.qusDia=!0,e.$refs.dataForm&&e.$refs.dataForm.resetFields()},anQ:function(e){var t=this;t.anDia=!0,t.$refs.anForm&&t.$refs.anForm.resetFields(),t.Anqus.id=e.id,t.Anqus.ques=e.question,t.Anqus.cont=e.answer},answerQ:function(e){var t=this;t.$refs["anForm"].validate(function(a){a&&Object(r["a"])({id:e,answer:t.Anqus.cont}).then(function(e){e.success?(t.$message.success("回答成功！"),t.anDia=!1,t.getQ()):t.$message.error("提交失败，请重新提交！")}).catch(function(e){t.$message.error("提交失败，请重新提交！")})})}}},l=o,d=(a("1a3b"),a("ea70"),a("2877")),c=Object(d["a"])(l,i,n,!1,null,"6a4dc9fa",null);t["default"]=c.exports},cce9:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container",class:{adminClass:1!==e.power&&2!==e.power},attrs:{id:"packageInOut"}},[a("div",{staticClass:"filter-container"},[a("div",[a("div",{staticClass:"selectBox"},[a("el-form",{ref:"mdForm",staticClass:"filterTool",attrs:{inline:!0,rules:e.mdRule,model:e.mdForm,"label-width":"80px"}},[a("el-form-item",{attrs:{prop:"searchDate"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"timestamp",clearable:!1,"picker-options":e.pickerOptions},model:{value:e.mdForm.searchDate,callback:function(t){e.$set(e.mdForm,"searchDate",t)},expression:"mdForm.searchDate"}})],1),a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.getList}},[e._v("搜索")]),a("el-button",{staticClass:"filter-item filter-item-btn",attrs:{type:"primary",icon:"iconfont icondaochu",loading:e.exportLoading},on:{click:e.exportExcel}},[e._v("导出")])],1)],1)])]),a("div",{staticClass:"tableBox"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{"show-summary":"","cell-class-name":e.getCellClass,"summary-method":e.getSummaries,data:e.list,fit:"","highlight-current-row":"","row-class-name":e.tableRowClassName,"header-cell-style":{textAlign:"center"},"cell-style":{textAlign:"center"}}},[a("el-table-column",{attrs:{label:"银行",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"link-type",on:{click:function(a){return e.$router.push({path:"/bankPackageInOut",query:{time:e.realSeachDate,bankIds:t.row.parentBankId}})}}},[e._v(e._s(t.row.parentBankName))])]}}])}),a("el-table-column",{attrs:{label:"早送款箱","min-width":"150"}},[a("el-table-column",{attrs:{label:"尾箱","min-width":"30",prop:"morningTailBoxNum"}}),a("el-table-column",{attrs:{label:"临时箱","min-width":"30",prop:"morningNullNameBoxNum"}}),a("el-table-column",{attrs:{label:"凭证袋","min-width":"30",prop:"morningNullNamePackageNum"}}),a("el-table-column",{attrs:{label:"周转箱","min-width":"30",prop:"morningTemplateBoxNum"}})],1),a("el-table-column",{attrs:{label:"晚收款箱","min-width":"150"}},[a("el-table-column",{attrs:{label:"尾箱","min-width":"30",prop:"nightTailBoxNum"}}),a("el-table-column",{attrs:{label:"临时箱","min-width":"30",prop:"nightNullNameBoxNum"}}),a("el-table-column",{attrs:{label:"凭证袋","min-width":"30",prop:"nightNullNamePackageNum"}}),a("el-table-column",{attrs:{label:"周转箱","min-width":"30",prop:"nightTemplateBoxNum"}})],1),a("el-table-column",{attrs:{label:"寄库款箱(金库盘点数据)","min-width":"150"}},[a("el-table-column",{attrs:{label:"尾箱","min-width":"30",prop:"warehouseTailBoxNum"}}),a("el-table-column",{attrs:{label:"临时箱","min-width":"30",prop:"warehouseNullNameBoxNum"}}),a("el-table-column",{attrs:{label:"凭证袋","min-width":"30",prop:"warehouseNullNamePackageNum"}}),a("el-table-column",{attrs:{label:"周转箱","min-width":"30",prop:"warehouseTemplateBoxNum"}})],1)],1)],1)])},n=[],s=(a("34ef"),a("55dd"),a("0cd8"),a("2caf"),a("c5f6"),a("6d67"),a("7f7f"),a("ac6a"),a("f3e2"),a("78ce"),a("333d")),r=a("39d6"),o=a("a2fc"),l=a("66e8"),d={name:"packageInOut",components:{Pagination:s["a"]},data:function(){var e=function(e,t,a){t?a():a(new Error("请选择时间"))};return{power:JSON.parse(sessionStorage.getItem("userInfo")).Power,tableKey:0,list:[],total:0,indexMethod:1,listLoading:!0,listQuery:{page:1,limit:10,keyword:void 0},mdForm:{searchDate:(new Date).getTime(),bankIds:[]},mdRule:{searchDate:[{trigger:"change",message:"请选择时间",validator:e}]},bankOptions:[],bankObj:{},realSeachDate:void 0,exportLoading:!1,pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()}}}},created:function(){var e=this;this.getSelect().then(function(t){e.bankOptions=[],0==t.status?null==t.data&&(t.data=[]):(null==t.data&&(t.data=[]),e.$message.error(t.msg)),e.bankOptions=t.data,e.bankOptions.forEach(function(t,a){e.bankObj[t.id]=t.name,e.mdForm.bankIds.push(t.id)}),e.getList()})},methods:{getCellClass:function(e){var t=e.row,a=e.column;e.rowIndex,e.columnIndex;return t[a.property]<0?"red":""},getSummaries:function(e){var t=e.columns,a=e.data,i=[];return t.forEach(function(e,t){if(0!==t){var n=a.map(function(t){return Number(t[e.property])});n.every(function(e){return isNaN(e)})?i[t]="--":i[t]=n.reduce(function(e,t){var a=Number(t);return isNaN(a)?e:e+t},0)}else i[t]="合计"}),i},getSelect:function(){return new Promise(function(e,t){Object(o["d"])().then(function(t){e(t)})})},addZero:function(e){return e<10?"0"+e:e},getList:function(){var e=this;this.listLoading=!0,e.list=[],this.realSeachDate=this.mdForm.searchDate;var t=new Date(this.mdForm.searchDate),a=t.getFullYear()+"-"+this.addZero(t.getMonth()+1)+"-"+this.addZero(t.getDate());Object(r["k"])({actuallyTime:a+" 00:00:00",bankIds:this.mdForm.bankIds.join(",")}).then(function(t){if(0==t.status){for(var a in e.listLoading=!1,t.data.totalBankPackage)e.list.push(t.data.totalBankPackage[a]);e.list.sort(function(e,t){return e.parentBankId-t.parentBankId})}}).finally(function(){e.listLoading=!1})},handleFilter:function(){this.$router.push({name:"gunInoutChild",params:{}})},tableRowClassName:function(e){e.row;var t=e.rowIndex;return t%2==0?"color-row":t%2==1?"noColor-row":""},exportExcel:function(){var e=this,t=this;t.$refs["mdForm"].validate(function(t){t&&(e.exportLoading=!0,Object(l["b"])({excelType:40,title:"银行寄库盘点表",times:[new Date(e.mdForm.searchDate).setHours(0,0,0,0)],bankIds:e.mdForm.bankIds}).then(function(t){try{var a=new TextDecoder("utf-8"),i=JSON.parse(a.decode(new Uint8Array(t)));e.$message({message:i.msg,type:"warning"})}catch(o){var n="银行寄库盘点表.xls",s=new Blob([t],{type:"application/excel"}),r=document.createElement("a");r.href=window.URL.createObjectURL(s),r.download=n,r.click(),r.remove()}}).finally(function(){e.exportLoading=!1}))})}}},c=d,u=(a("22f2"),a("2877")),m=Object(u["a"])(c,i,n,!1,null,null,null);t["default"]=m.exports},cfa5:function(e,t,a){},cfe0:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{title:"导入",visible:e.openUploadDialog,width:"40%"},on:{"update:visible":function(t){e.openUploadDialog=t}}},[a("div",{staticClass:"myBox"},[a("div",{staticClass:"el-upload__tip red topTip",attrs:{slot:"tip"},slot:"tip"},[e._v("将Excel排班表内容导入并覆盖 "),a("span",{staticClass:"importDate"},[e._v(e._s(e.date))]),e._v(" 的排班")]),a("el-upload",{ref:"upload",attrs:{drag:"",limit:e.limitNum,"auto-upload":!1,accept:".xls","on-remove":e.handleRemove,action:e.UploadUrl(),"before-upload":e.beforeUploadFile,"on-change":e.fileChange,"on-exceed":e.exceedFile,"on-success":e.handleSuccess,"on-error":e.handleError,"file-list":e.fileList}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),a("em",[e._v("点击上传")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传xls文件,且文件大小不得超过10M")]),a("div",{staticClass:"el-upload__tip red",attrs:{slot:"tip"},slot:"tip"},[e._v("请在“帮助”界面的“文件下载”清单中下载标准模板，并使用标准模板填写信息后再上传")])])],1),a("br"),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.uploadFile}},[e._v("上传")]),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.openUploadDialog=!1}}},[e._v("取消")])],1)])],1)},n=[],s=(a("9865"),a("7f7f"),a("c5f6"),a("66e8")),r=a("69d9"),o={props:{visible:{type:Boolean,default:!1},limitNum:{type:Number,default:1},uploadData:{type:Object,required:!0},dataUpdated:{type:Boolean,default:!1},date:{type:String,default:!1}},data:function(){return{fileList:[],loading:!1}},computed:{openUploadDialog:{get:function(){return this.visible},set:function(e){this.$emit("update:visible",e),this.$refs.upload.clearFiles(),this.fileList=[]}}},methods:{formatDate:r["d"],handleRemove:function(e,t){e&&"success"===e.status&&(this.fileList=[])},exceedFile:function(e,t){this.$message.warning("只能选择 ".concat(this.limitNum," 个文件，当前共选择了 ").concat(e.length+t.length," 个"))},fileChange:function(e,t){this.fileList=[e.raw]},beforeUploadFile:function(e){var t=e.name.substring(e.name.lastIndexOf(".")+1),a=e.size/1024/1024;return"xls"!==t&&"XLS"!==t?(this.$message.warning("只能上传后缀是.xls的文件"),!1):a>10?(this.$message.warning("文件大小不得超过10M"),!1):void 0},handleSuccess:function(e,t,a){this.$message.success("文件上传成功")},handleError:function(e,t,a){this.$message.error("文件上传失败")},UploadUrl:function(){return""},uploadFile:function(){var e=this;this.$emit("dataUpdated",!1),0===this.fileList.length?this.$message.warning("请选择文件"):(this.loading=!0,Object(s["d"])({file:this.fileList[0],creator:JSON.parse(sessionStorage.userInfo).UserName,type:this.uploadData.type,date:this.date}).then(function(t){e.$message.success(t.data),e.$emit("dataUpdated",!0),e.openUploadDialog=!1}).catch(function(){}).finally(function(){e.$refs.upload.clearFiles(),e.loading=!1,e.fileList=[]}))}}},l=o,d=(a("8bc0"),a("b2bc"),a("2877")),c=Object(d["a"])(l,i,n,!1,null,"70062719",null);t["a"]=c.exports},d0ce:function(e,t,a){"use strict";var i=a("a632"),n=a.n(i);n.a},d0fd:function(e,t,a){"use strict";var i=a("e89c"),n=a.n(i);n.a},d122:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container",attrs:{id:"carParkingRecord"}},[a("div",{staticClass:"multidevice filter-container"},[a("div",{staticClass:"selectBox"},[a("el-form",{ref:"mdForm",staticClass:"mdElForm",attrs:{inline:!0,rules:e.mdRule,model:e.mdForm,"label-width":"80px"}},[a("el-form-item",[a("el-cascader",{ref:"myMdGunsCas",attrs:{"popper-class":"myGunCas",placeholder:"选择车辆",props:{expandTrigger:"hover"},options:e.dataGun,"show-all-levels":!1,clearable:"",filterable:"","collapse-tags":""},model:{value:e.mdForm.imeiCar,callback:function(t){e.$set(e.mdForm,"imeiCar",t)},expression:"mdForm.imeiCar"}})],1),a("el-form-item",{attrs:{prop:"searchDate"}},[a("el-date-picker",{attrs:{type:"date",clearable:!1,placeholder:"选择日期"},model:{value:e.mdForm.searchDate,callback:function(t){e.$set(e.mdForm,"searchDate",t)},expression:"mdForm.searchDate"}})],1),a("el-form-item",[a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v("搜索")]),a("el-button",{staticClass:"filter-item filter-item-btn",attrs:{type:"primary",icon:"iconfont icondaochu",loading:e.exportLoading},on:{click:e.handleExportExcel}},[e._v("导出")])],1)],1)],1)]),a("div",{staticClass:"tableBox"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,fit:"","highlight-current-row":"","row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{label:"序号",prop:"id",fixed:"",sortable:"custom",align:"center",width:"80",type:"index",index:e.indexMethod}}),a("el-table-column",{attrs:{label:"车牌号","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.licenseNo))])]}}])}),a("el-table-column",{attrs:{label:"路线","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.routeName))])]}}])}),a("el-table-column",{attrs:{label:"网点","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.destinationName))])]}}])}),a("el-table-column",{attrs:{label:"司机","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.driverName))])]}}])}),a("el-table-column",{attrs:{label:"车组长","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.leaderName))])]}}])}),a("el-table-column",{attrs:{label:"排班日期","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.year+"-"+i.month+"-"+i.day))])]}}])}),a("el-table-column",{attrs:{label:"到达/离开","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(1==i.type?"到达":"离开"))])]}}])}),a("el-table-column",{attrs:{label:"时间","min-width":"100px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(e.formatDate1(i.createTime)))])]}}])})],1)],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.page,limit:e.listQuery.limit,layout:"prev, pager, next, sizes, total, jumper"},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"limit",t)},pagination:e.getList}}),a("el-dialog",{attrs:{title:"导出",visible:e.formVisible,"append-to-body":"",center:""},on:{"update:visible":function(t){e.formVisible=t}}},[a("el-form",{ref:"addForm",staticClass:"formStyle",attrs:{model:e.temp,"label-position":"left",rules:e.rules}},[a("el-form-item",{attrs:{prop:"imeiCar",label:"车辆"}},[a("el-cascader",{ref:"myMdGunsCas1",staticClass:"myGunCas1",attrs:{"popper-class":"myGunCas1",placeholder:"选择车辆",props:{expandTrigger:"hover",multiple:!0},options:e.dataGun,"show-all-levels":!1,clearable:"",filterable:"","collapse-tags":""},model:{value:e.temp.imeiCar,callback:function(t){e.$set(e.temp,"imeiCar",t)},expression:"temp.imeiCar"}})],1),a("el-form-item",{attrs:{prop:"searchDate",label:"时间"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.temp.searchDate,callback:function(t){e.$set(e.temp,"searchDate",t)},expression:"temp.searchDate"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.exportExcel()}}},[e._v("确定")])],1)],1)],1)},n=[],s=(a("34ef"),a("6b54"),a("87b3"),a("7f7f"),a("ac6a"),a("f3e2"),a("333d")),r=a("ad19"),o=a("3bb2"),l=a("69d9"),d=a("66e8"),c={name:"carParkingRecord",components:{Pagination:s["a"]},data:function(){var e=this,t=function(t,a,i){var n=e.mdForm.imeiCar;n.length<1?i(new Error("请选择设备")):i()},a=function(t,a,i){var n=e.temp.imeiCar;n.length<1?i(new Error("请选择")):i()},i=function(e,t,a){t?a():a(new Error("请选择"))};return{power:JSON.parse(sessionStorage.getItem("userInfo")).Power,tableKey:0,list:null,total:0,indexMethod:1,listLoading:!1,listQuery:{page:1,limit:10},mdForm:{imeiCar:[],searchDate:new Date},mdRule:{imeiCar:[{validator:t,trigger:"change"}],searchDate:[{trigger:"change",message:"请选择时间",validator:i}]},dataGun:[],imei2name:{},formVisible:!1,temp:{imeiGun:[],searchDate:new Date},rules:{imeiCar:[{validator:a,trigger:"change",required:!0}],searchDate:[{trigger:"change",message:"请选择时间",validator:i,required:!0}]},exportLoading:!1}},created:function(){this.getTeamAndCarList(),this.getList()},methods:{handleExportExcel:function(){this.formVisible=!0,this.temp.imeiCar=[]},formatDate1:function(e){return Object(l["d"])(e,1)},getTeamAndCarList:function(){var e=this,t=this;Object(r["g"])({}).then(function(a){0==a.status?t.dataGun=e.formatCas(a.data,"licenseNo","licenseNo"):e.$message.error(a.msg)})},formatCas:function(e,t,a){var i=[],n=0,s=this,r=function(r){var o=[];e[r].forEach(function(e){o.push({value:e[t],label:e[a]}),s.imei2name[e[t]]=e["serialNo"]}),i.push({value:"i".concat(n++),label:""==r?"未分组":r,children:o})};for(var o in e)r(o);return i},getList:function(){var e=this;this.listLoading=!0;var t=[];t.push(this.mdForm.imeiCar[1]);var a={time:this.mdForm.searchDate.getTime()};this.mdForm.imeiCar[1]&&(a.carNo=t[0]),Object(o["a"])(a).then(function(t){0==t.status&&(e.list=t.data)}).finally(function(){e.listLoading=!1})},handleFilter:function(){this.getList()},tableRowClassName:function(e){e.row;var t=e.rowIndex;return t%2==0?"color-row":t%2==1?"noColor-row":""},exportExcel:function(){for(var e=this,t=this,a=[],i=0;i<this.temp.imeiCar.length;i++)a.push(t.imei2name[this.temp.imeiCar[i][1]]);t.$refs["addForm"].validate(function(t){t&&(e.exportLoading=!0,Object(d["b"])({excelType:31,title:"报站记录表",imeis:a,times:[e.temp.searchDate.getTime().toString()]}).then(function(t){try{var a=new TextDecoder("utf-8"),i=JSON.parse(a.decode(new Uint8Array(t)));e.formVisible=!1,e.$message({message:i.msg,type:"warning"})}catch(o){t.headers;var n="报站记录表.xls",s=new Blob([t],{type:"application/excel"}),r=document.createElement("a");r.href=window.URL.createObjectURL(s),r.download=n,r.click(),r.remove(),e.formVisible=!1}}).finally(function(){e.exportLoading=!1}))})}}},u=c,m=(a("3a14"),a("2877")),p=Object(m["a"])(u,i,n,!1,null,null,null);t["default"]=p.exports},d2bf:function(e,t,a){"use strict";a.d(t,"c",function(){return n}),a.d(t,"d",function(){return s}),a.d(t,"e",function(){return r}),a.d(t,"b",function(){return o}),a.d(t,"f",function(){return l}),a.d(t,"a",function(){return d});var i=a("2ade");function n(e){return Object(i["a"])({url:"/eoms/bankWorkers/query",method:"post",data:e,headers:{"content-type":"application/json"}})}function s(e){return Object(i["a"])({url:"/eoms/bankWorkers/page",method:"post",data:e,headers:{"content-type":"application/json"}})}function r(e){return Object(i["a"])({url:"/eoms/bankWorkers/saveOrUpdate",method:"post",data:e,headers:{"content-type":"application/json"}})}function o(e){return Object(i["a"])({url:"/eoms/bankWorkers/bindRfid",method:"post",data:e})}function l(e){return Object(i["a"])({url:"/eoms/bankWorkers/unbindRfid",method:"post",data:e})}function d(e){return Object(i["a"])({url:"/eoms/bankWorkers/bindPhoto",method:"post",data:e})}},d633:function(e,t,a){},d63a:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container",attrs:{id:"groupTaskStatistic"}},[a("div",{staticClass:"filter-container"},[a("el-select",{staticClass:"typeSelect",attrs:{placeholder:"请选择"},on:{change:e.typeSelectChange},model:{value:e.typeValue,callback:function(t){e.typeValue=t},expression:"typeValue"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),a("div",{staticClass:"selectBox"},[a("el-form",{ref:"mdForm",staticClass:"filterTool",attrs:{inline:!0,rules:e.mdRule,model:e.mdForm,"label-width":"80px"}},[a("el-form-item",{attrs:{prop:"searchDate"}},[a("el-date-picker",{staticClass:"filter-item",attrs:{type:"daterange","range-separator":"至","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期",clearable:!1},model:{value:e.mdForm.searchDate,callback:function(t){e.$set(e.mdForm,"searchDate",t)},expression:"mdForm.searchDate"}})],1),a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.getTable}},[e._v("搜索")]),a("el-button",{staticClass:"filter-item filter-item-btn",attrs:{type:"primary",icon:"iconfont icondaochu",loading:e.exportLoading},on:{click:e.exportExcel}},[e._v("导出")]),a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"iconfont icontubiao"},on:{click:e.showChartDialog}},[e._v("生成图表")])],1)],1)],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"tableBox"},[e.rowList.length?a("el-table",{key:e.tableKey,staticStyle:{width:"100%"},attrs:{border:"",data:e.rowList,fit:"","highlight-current-row":"",height:"100%"}},[a("el-table-column",{attrs:{label:"序号",prop:"id",fixed:"",sortable:"custom",align:"center",width:"80",type:"index",index:e.indexMethod}}),a("el-table-column",{attrs:{label:"车组名称",prop:"groupName","min-width":"80px",align:"center"}}),e._l(e.colList,function(t){return a("el-table-column",{attrs:{label:t.name,"min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(i){var n=i.row;return[a("span",[e._v(e._s(e.formateNum(n.id,t.id)))])]}}],null,!0)})})],2):e._e()],1),a("el-dialog",{attrs:{title:"图表",visible:e.dialogTableVisible,width:"90%"},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[a("div",{attrs:{id:"mychart"}})])],1)},n=[],s=(a("34ef"),a("ac6a"),a("5df3"),a("d25f"),a("7f7f"),a("6d67"),a("313e")),r=a.n(s),o=a("2ade");function l(e){return Object(o["a"])({url:"/eoms/route/queryList",method:"post",data:e})}function d(e){return Object(o["a"])({url:"/eoms/report/queryGroupRouteReport",method:"post",data:e})}function c(e){return Object(o["a"])({url:"/eoms/report/queryGroupTaskReport",method:"post",data:e})}var u=a("a90f"),m=a("69d9"),p=a("66e8"),f={name:"groupTaskStatistic",data:function(){var e=function(e,t,a){t?a():a(new Error("请选择时间"))};return{power:JSON.parse(sessionStorage.getItem("userInfo")).Power,bankerId:JSON.parse(sessionStorage.getItem("userInfo")).PersonId,tableKey:0,indexMethod:1,listLoading:!1,mdForm:{searchDate:[this.formatDate((new Date).setHours(0,0,0)),this.formatDate((new Date).setHours(0,0,0))]},mdRule:{searchDate:[{trigger:"change",message:"请选择时间",validator:e}]},rowList:[],colList:[],dataObj:{},exportLoading:!1,dialogTableVisible:!1,echartsData:[],myChart:null,typeValue:1,options:[{value:1,label:"车组任务按路线统计"},{value:2,label:"车组任务按任务类型统计"}]}},created:function(){this.getTable()},beforeDestroy:function(){this.myChart&&this.myChart.dispose(),this.myChart=null},methods:{typeSelectChange:function(){this.colList=[],this.rowList=[],this.dataObj={},this.echartsData=[]},formatDate:m["d"],formateNum:function(e,t){var a,i,n=this.dataObj[e];if(1==this.typeValue?i="routeId":2==this.typeValue&&(i="type"),n)for(var s=0;s<n.length;s++)if(n[s][i]==t){a=n[s].num;break}return a},showChartDialog:function(){var e=this;this.dialogTableVisible=!0,this.$nextTick(function(){e.showChart()})},showChart:function(){var e=[],t=[];t=this.rowList.map(function(e,t){return e.groupName}),e=this.colList.map(function(e,t){return e.name}),this.myChart&&this.myChart.dispose();var a,i=document.getElementById("mychart");this.myChart=r.a.init(i),a={tooltip:{trigger:"axis",axisPointer:{type:"shadow",label:{show:!0}}},legend:{data:e,itemGap:5},xAxis:{type:"category",data:t,splitLine:{show:!0}},yAxis:{show:!1,type:"value"},dataZoom:[{show:!0,start:0,end:100},{type:"inside",start:0,end:100}],series:this.echartsData},a&&this.myChart.setOption(a)},getTable:function(){var e,t,a=this;this.listLoading=!0,this.colList=[],this.rowList=[],this.dataObj=[],this.echartsData=[],1==this.typeValue?(t=d,e=new Promise(function(e,t){l().then(function(i){0==i.status?(a.colList=i.data,e(i.data)):t()}).catch(function(){t()})})):2==this.typeValue&&(t=c,this.colList=[{id:1,name:"晚收"},{id:2,name:"早送"},{id:5,name:"加钞"},{id:6,name:"缴款"},{id:7,name:"送款"},{id:8,name:"上门收款"}],e=Promise.resolve([{id:1,name:"晚收"},{id:2,name:"早送"},{id:5,name:"加钞"},{id:6,name:"缴款"},{id:7,name:"送款"},{id:8,name:"上门收款"}]));var i=new Promise(function(e,t){Object(u["c"])().then(function(i){0==i.status?(a.rowList=i.data.filter(function(e){return 1==e.status}),e(i.data)):t()}).catch(function(){t()})}),n=new Promise(function(e,i){t({startTime:a.mdForm.searchDate[0]+" 00:00:00",endTime:a.mdForm.searchDate[1]+" 00:00:00"}).then(function(t){0==t.status?(a.dataObj=t.data,e(t.data)):i()}).catch(function(){a.dataObj={},i()})});Promise.all([e,i,n]).then(function(e){a.listLoading=!1,a.echartsData=[],1==a.typeValue?a.getDataByDealGroupRoute("id","routeId","id"):2==a.typeValue&&a.getDataByDealGroupRoute("id","type","id")}).catch(function(){a.listLoading=!1})},getDataByDealGroupRoute:function(e,t,a){for(var i=0;i<this.colList.length;i++){for(var n=[],s=0;s<this.rowList.length;s++){var r=0;if(this.dataObj.hasOwnProperty(this.rowList[s][e])&&this.dataObj[this.rowList[s][e]])for(var o=0;o<this.dataObj[this.rowList[s][e]].length;o++)if(this.dataObj[this.rowList[s][e]][o][t]==this.colList[i][a]){r=this.dataObj[this.rowList[s][e]][o].num;break}n.push(r)}this.echartsData.push({name:this.colList[i].name,data:n,type:"bar"})}},dealDate:function(){var e=this;if(!e.mdForm.searchDate||0==e.mdForm.searchDate.length)return[];for(var t=864e5,a=new Date(e.mdForm.searchDate[0]).getTime(),i=new Date(e.mdForm.searchDate[1]).getTime()+t-1,n=Math.ceil((i-a)/t),s=[],r=0;r<n;r++)s.push(a+t*r);return s},tableRowClassName:function(e){e.row;var t=e.rowIndex;return t%2==0?"color-row":t%2==1?"noColor-row":""},exportExcel:function(){var e=this,t=this;t.$refs["mdForm"].validate(function(a){var i,n;a&&(e.exportLoading=!0,1==e.typeValue?(i=35,n="车组路线报表"):2==e.typeValue&&(i=37,n="车组任务量报表"),Object(p["b"])({excelType:i,title:n,times:[new Date(t.mdForm.searchDate[0]).getTime(),new Date(t.mdForm.searchDate[1]).getTime()]}).then(function(t){try{var a=new TextDecoder("utf-8"),i=JSON.parse(a.decode(new Uint8Array(t)));e.$message({message:i.msg,type:"warning"})}catch(l){t.headers;var s=n+".xls",r=new Blob([t],{type:"application/excel"}),o=document.createElement("a");o.href=window.URL.createObjectURL(r),o.download=s,o.click(),o.remove()}}).finally(function(){e.exportLoading=!1}))})}}},h=f,g=(a("727e"),a("2877")),b=Object(g["a"])(h,i,n,!1,null,null,null);t["default"]=b.exports},d7d8:function(e,t,a){},da14:function(e,t,a){"use strict";a.d(t,"b",function(){return n}),a.d(t,"c",function(){return s}),a.d(t,"d",function(){return r}),a.d(t,"e",function(){return o}),a.d(t,"a",function(){return l});var i=a("2ade");function n(e){return Object(i["a"])({url:"/eoms/package/query",method:"post",data:e,headers:{"content-type":"application/json"}})}function s(e){return Object(i["a"])({url:"/eoms/package/page",method:"post",data:e,headers:{"content-type":"application/json"}})}function r(e){return Object(i["a"])({url:"/eoms/package/saveOrUpdate",method:"post",data:e,headers:{"content-type":"application/json"}})}function o(e){return Object(i["a"])({url:"/eoms/package/unbindRfid",method:"post",data:e})}function l(e,t){return Object(i["a"])({url:"/eoms/package/queryByRfids",method:"post",data:e,headers:{"content-type":"application/json"},cancelToken:t})}},db6e:function(e,t,a){"use strict";var i=a("26fd"),n=a.n(i);n.a},df7c:function(e,t,a){(function(e){function a(e,t){for(var a=0,i=e.length-1;i>=0;i--){var n=e[i];"."===n?e.splice(i,1):".."===n?(e.splice(i,1),a++):a&&(e.splice(i,1),a--)}if(t)for(;a--;a)e.unshift("..");return e}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,n=function(e){return i.exec(e).slice(1)};function s(e,t){if(e.filter)return e.filter(t);for(var a=[],i=0;i<e.length;i++)t(e[i],i,e)&&a.push(e[i]);return a}t.resolve=function(){for(var t="",i=!1,n=arguments.length-1;n>=-1&&!i;n--){var r=n>=0?arguments[n]:e.cwd();if("string"!==typeof r)throw new TypeError("Arguments to path.resolve must be strings");r&&(t=r+"/"+t,i="/"===r.charAt(0))}return t=a(s(t.split("/"),function(e){return!!e}),!i).join("/"),(i?"/":"")+t||"."},t.normalize=function(e){var i=t.isAbsolute(e),n="/"===r(e,-1);return e=a(s(e.split("/"),function(e){return!!e}),!i).join("/"),e||i||(e="."),e&&n&&(e+="/"),(i?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(s(e,function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,a){function i(e){for(var t=0;t<e.length;t++)if(""!==e[t])break;for(var a=e.length-1;a>=0;a--)if(""!==e[a])break;return t>a?[]:e.slice(t,a-t+1)}e=t.resolve(e).substr(1),a=t.resolve(a).substr(1);for(var n=i(e.split("/")),s=i(a.split("/")),r=Math.min(n.length,s.length),o=r,l=0;l<r;l++)if(n[l]!==s[l]){o=l;break}var d=[];for(l=o;l<n.length;l++)d.push("..");return d=d.concat(s.slice(o)),d.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=n(e),a=t[0],i=t[1];return a||i?(i&&(i=i.substr(0,i.length-1)),a+i):"."},t.basename=function(e,t){var a=n(e)[2];return t&&a.substr(-1*t.length)===t&&(a=a.substr(0,a.length-t.length)),a},t.extname=function(e){return n(e)[3]};var r="b"==="ab".substr(-1)?function(e,t,a){return e.substr(t,a)}:function(e,t,a){return t<0&&(t=e.length+t),e.substr(t,a)}}).call(this,a("f28c"))},e225:function(e,t,a){},e3ad:function(e,t,a){},e89c:function(e,t,a){},e9a9:function(e,t,a){"use strict";var i=a("6356"),n=a.n(i);n.a},ea70:function(e,t,a){"use strict";var i=a("e3ad"),n=a.n(i);n.a},edf5:function(e,t,a){"use strict";var i=a("fc74"),n=a.n(i);n.a},efef:function(e,t,a){},f13c:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"deviceTest"}},[a("el-upload",{ref:"fileupload",attrs:{action:"","http-request":e.uploadFile,limit:1,"on-exceed":e.fileExceed,accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel","file-list":e.uploadList,"before-remove":e.beforeRemove}},[a("el-button",{staticClass:"uploadButton",attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.list.slice((e.currpage-1)*e.pagesize,e.currpage*e.pagesize),border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"序号",prop:"id",sortable:"custom",align:"center",width:"80",type:"index",index:e.indexMethod}}),a("el-table-column",{attrs:{label:"imei号",prop:"imei",align:"center",width:"300"}}),a("el-table-column",{attrs:{label:"状态","min-width":"150px",align:"center",prop:"isOnlineText"}})],1),a("el-pagination",{staticStyle:{"margin-bottom":"10px","margin-top":"40px"},attrs:{background:"",layout:"prev, pager, next, sizes, total, jumper","page-sizes":[2,10,15,20],"page-size":e.pagesize,total:e.list.length},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}})],1)},n=[],s=(a("6b54"),a("87b3"),a("7f7f"),a("34ef"),a("6d67"),a("333d"));a("2ade");var r={name:"deviceTest",components:{Pagination:s["a"]},data:function(){return{uploadList:[],fileList:[],list:[],listLoading:!1,pagesize:10,currpage:1,indexMethod:1,deviceOnline:{}}},created:function(){XMLHttpRequest.prototype.sendAsBinary=function(e){function t(e){return 255&e.charCodeAt(0)}var a=Array.prototype.map.call(e,t),i=new Uint8Array(a);this.send(i.buffer)},this.deviceOnline=this.$store.state.realTimeMonitor.deviceOnline},watch:{"$store.state.realTimeMonitor.deviceOnline":{handler:function(e,t){if(e)for(var a=0;a<this.list.length;a++){this.list[a].imei;e.hasOwnProperty(list[a].imei)&&(this.list[a]={imei:list[a].imei,isOnline:1,isOnlineText:"在线"})}},deep:!0}},methods:{fileExceed:function(){this.$message.error("别贪心！一次只能上传一个哦~")},uploadFile:function(e){var t=this,a=(new FormData,new FileReader);a.readAsBinaryString(e.file),a.onloadend=function(){a.error||t.uploadAndSubmit(a.result)}},uploadAndSubmit:function(e){var t=this,a="http://beidoulab.work:9090/app/file/check",i=new XMLHttpRequest;i.open("POST",a),i.setRequestHeader("Authorization","Bearer "+this.$store.getters.token),i.sendAsBinary(e),i.onreadystatechange=function(){if(4==i.readyState&&200==i.status){var e=JSON.parse(i.response);t.formatList(e.data),i.abort()}}},beforeRemove:function(e,t){var a=this;return this.$confirm("确定移除 ".concat(e.name,"？")).then(function(){a.list=[]})},formatList:function(e){this.list=[];for(var t=0;t<e.length;t++){var a=0,i="离线",n=parseInt(e[t]).toString();this.deviceOnline.hasOwnProperty(n)&&(a=1,i="在线"),this.list.push({imei:parseInt(e[t]).toString(),isOnline:a,isOnlineText:i})}},handleCurrentChange:function(e){this.currpage=e,this.indexMethod=(e-1)*this.pagesize+1},handleSizeChange:function(e){this.pagesize=e,this.indexMethod=(this.currpage-1)*e+1}}},o=r,l=(a("c0a7"),a("fbb6"),a("2877")),d=Object(l["a"])(o,i,n,!1,null,"744f2bfe",null);t["default"]=d.exports},f1eb:function(e,t,a){"use strict";var i=a("1299"),n=a.n(i);n.a},f2d7:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var i=a("2ade");function n(e){return Object(i["a"])({url:"/eoms/schedule/statistics",method:"post",data:e})}},f534:function(e,t,a){},f5fa:function(e,t,a){"use strict";var i=a("9964"),n=a.n(i);n.a},f6cb:function(e,t,a){"use strict";var i=a("9494"),n=a.n(i);n.a},f81c:function(e,t,a){"use strict";var i=a("4108"),n=a.n(i);n.a},f8c1:function(e,t,a){},fa9e:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container",attrs:{id:"progress"}},[a("div",{staticClass:"tableBox"},[a("el-tabs",{staticClass:"t-tabs",on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("div",{staticClass:"t-tab-bottom"}),a("div",{staticClass:"filter-container"},[a("el-date-picker",{staticClass:"filter-item",attrs:{align:"right",type:"date","value-format":"timestamp",placeholder:"选择日期","picker-options":e.pickerOptions},on:{change:e.getList},model:{value:e.listQuery.selectDate,callback:function(t){e.$set(e.listQuery,"selectDate",t)},expression:"listQuery.selectDate"}})],1),a("el-tab-pane",{attrs:{label:"早送",name:"first"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,fit:"","highlight-current-row":"","row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{label:"序号",prop:"id",fixed:"",sortable:"custom",align:"center",width:"80",type:"index",index:e.indexMethod}}),a("el-table-column",{attrs:{label:"组名","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.groupName))])]}}])}),a("el-table-column",{attrs:{label:"车牌号","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.carLicenseNo))])]}}])}),a("el-table-column",{attrs:{label:"道路","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.routeName))])]}}])}),a("el-table-column",{attrs:{label:"状态","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(1==t.row.status||3==t.row.status?"正常":"取消"))])]}}])}),a("el-table-column",{attrs:{label:"交接情况","min-width":"400px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"am oneday"},[a("div",{staticClass:"routeName link-type",on:{click:function(a){return e.gotask(t.row)}}},[e._v("详细信息")]),a("div",{staticClass:"progress"},[a("el-popover",{attrs:{placement:"right",title:"网点",width:"200",trigger:"click"},on:{show:function(a){return e.popShow(t.row)}}},[a("div",{staticClass:"progressNetwork"},e._l(e.taskList,function(t,i){return a("div",{key:t.id,staticClass:"taskList",class:{colorItem:4==t.finish||5==t.finish||2==t.finish,colorCancle:2==t.status||4==t.status}},[e._v(e._s(t.destinationName))])}),0),t.row.taskCount?a("el-progress",{attrs:{slot:"reference",status:"warning",inline:!0,"text-inside":!0,"stroke-width":24,format:e.setItemText(t.row),percentage:t.row.finishTask/(t.row.taskCount-t.row.cancelledTask)*100},slot:"reference"}):e._e()],1)],1)])]}}])}),a("el-table-column",{attrs:{label:"出库","min-width":"120px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"inAndOut"},[e._v(e._s("出库("+t.row.intOutPackageNum+")")+" ")])]}}])}),a("el-table-column",{attrs:{label:"交接","min-width":"120px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"inAndOut",class:{red:t.row.pointHandoverPackageNum!==t.row.intOutPackageNum}},[e._v(e._s("交接("+t.row.pointHandoverPackageNum+")")+" ")])]}}])})],1)],1),a("el-tab-pane",{attrs:{label:"晚收",name:"second"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list1,fit:"","highlight-current-row":"","row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{label:"序号",prop:"id",fixed:"",sortable:"custom",align:"center",width:"80",type:"index",index:e.indexMethod}}),a("el-table-column",{attrs:{label:"组名","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.groupName))])]}}])}),a("el-table-column",{attrs:{label:"车牌号","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.carLicenseNo))])]}}])}),a("el-table-column",{attrs:{label:"道路","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.routeName))])]}}])}),a("el-table-column",{attrs:{label:"状态","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(1==t.row.status||3==t.row.status?"正常":"取消"))])]}}])}),a("el-table-column",{attrs:{label:"交接情况","min-width":"400px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"am oneday"},[a("div",{staticClass:"routeName link-type",on:{click:function(a){return e.gotask(t.row)}}},[e._v("详细信息")]),a("div",{staticClass:"progress"},[a("el-popover",{attrs:{placement:"right",title:"网点",width:"200",trigger:"click"},on:{show:function(a){return e.popShow(t.row)}}},[a("div",{staticClass:"progressNetwork"},e._l(e.taskList,function(t,i){return a("div",{key:t.id,staticClass:"taskList",class:{colorItem:4==t.finish||5==t.finish||2==t.finish,colorCancle:2==t.status||4==t.status}},[e._v(e._s(t.destinationName))])}),0),t.row.taskCount?a("el-progress",{attrs:{slot:"reference",format:e.setItemText(t.row),status:"warning",inline:!0,"text-inside":!0,"stroke-width":24,percentage:t.row.finishTask/(t.row.taskCount-t.row.cancelledTask)*100},slot:"reference"}):e._e()],1)],1)])]}}])}),a("el-table-column",{attrs:{label:"交接","min-width":"120px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"inAndOut"},[e._v(e._s("交接("+t.row.pointHandoverPackageNum+")")+" ")])]}}])}),a("el-table-column",{attrs:{label:"入库","min-width":"120px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"inAndOut",class:{red:t.row.pointHandoverPackageNum!==t.row.intOutPackageNum}},[e._v(e._s("入库("+t.row.intOutPackageNum+")")+" ")])]}}])})],1)],1)],1)],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.page,limit:e.listQuery.limit,layout:"prev, pager, next, sizes, total, jumper"},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"limit",t)},pagination:e.getList}})],1)},n=[],s=(a("55dd"),a("4f37"),a("a481"),a("ac6a"),a("f3e2"),a("333d"));a("2ade");a("69d9"),a("bc33");var r=a("f2d7"),o=a("d256"),l={name:"progress1",components:{Pagination:s["a"]},data:function(){return{power:JSON.parse(sessionStorage.getItem("userInfo")).Power,tableKey:0,list:[],list1:[],list2:[],list3:[],total:0,indexMethod:1,listLoading:!1,listQuery:{selectDate:(new Date).setHours(0,0,0,0)},temp:{id:null,teamName:null,geometryId:null,geometryName:null,leaderId:null,leaderName:null,createTime:null,status:null},dialogFormVisible:!1,dialogStatus:"",textMap:{update:"编辑",create:"添加"},taskList:[],rules:{teamName:[{required:!0,message:"请填写大队名称",trigger:"blur"}],status:[{required:!0,message:"请选择大队状态",trigger:"change"}]},activeName:"first",pickerOptions:{shortcuts:[{text:"今天",onClick:function(e){e.$emit("pick",new Date)}},{text:"昨天",onClick:function(e){var t=new Date;t.setTime(t.getTime()-864e5),e.$emit("pick",t)}},{text:"一周前",onClick:function(e){var t=new Date;t.setTime(t.getTime()-6048e5),e.$emit("pick",t)}}]},intervalId:null}},beforeDestroy:function(){this.clear()},created:function(){this.getList()},methods:{dataRefreh:function(){var e=this;null==this.intervalId&&(this.intervalId=setInterval(function(){e.getList()},2e4))},clear:function(){clearInterval(this.intervalId),this.intervalId=null},setItemText:function(e){return function(){return e.finishTask+"/"+(e.taskCount-e.cancelledTask)}},gotask:function(e){sessionStorage.schedule="schedule",sessionStorage.schedulingId=e.idIdentify,sessionStorage.schedulingDate=e.planYear+"_"+e.planMonth+"_"+e.planDay,sessionStorage.time=(new Date).getTime(),sessionStorage.schedulePublish=e.publish,this.$router.push("/schedualManagement/schedual/task")},handleClick:function(e,t){},getList:function(){var e=this,t=this;this.listLoading=!0,this.list=[],this.list1=[],this.list2=[],this.list3=[],Object(r["a"])({date:this.listQuery.selectDate,type:2}).then(function(t){0==t.status?(e.list=e.dealData(t.data),e.sortByRouteName(e.list)):e.$message.error(t.msg)}).finally(function(){"first"==e.activeName&&(t.listLoading=!1)}),Object(r["a"])({date:this.listQuery.selectDate,type:1}).then(function(t){0==t.status?(e.list1=e.dealData(t.data),e.sortByRouteName(e.list1)):e.$message.error(t.msg)}).finally(function(){"second"==e.activeName&&(t.listLoading=!1)})},dealData:function(e){for(var t=0;t<e.length;t++)e[t]=Object.assign(e[t],e[t].schedulingEntityDto);return e},popShow:function(e){var t=this;this.taskList=[],Object(o["a"])({uuid:e.idIdentify}).then(function(e){0==e.status?t.taskList=e.data:(t.taskList=[],t.$message.error(e.msg))}).finally(function(){})},handleFilter:function(){if(""==this.listQuery.teamName||void 0==this.listQuery.teamName)return this.listQuery.teamName=null,void this.getList();this.getList()},resetTemp:function(){this.temp={id:null,teamName:null,geometryId:null,geometryName:null,leaderId:null,leaderName:null,createTime:null,status:null}},tableRowClassName:function(e){e.row;var t=e.rowIndex;return t%2==0?"color-row":t%2==1?"noColor-row":""},sortByRouteName:function(e){var t=this;e.forEach(function(e,t){e.routeName=e.routeName.replace("\t",""),e.routeName=e.routeName.trim()}),e.sort(function(e,a){return t.sortDevName(e.routeName,a.routeName)})},sortDevName:function(e,t){for(var a=0,i=0;i<Math.max(e.length,t.length);i++){var n=e[i]||"",s=this.getChartType(n),r=t[i]||"",o=this.getChartType(r);if(s[0]===o[0]){if(n===r)continue;a="zh"===s[0]?n.localeCompare(r):"en"===s[0]?n.charCodeAt(0)-r.charCodeAt(0):(s[0],n-r);break}a=s[1]-o[1];break}return a},getChartType:function(e){return/^[\u4E00-\u9FA5]+$/.test(e)?["zh",300]:/^[a-zA-Z]$/.test(e)?["en",200]:/^[0-9]$/.test(e)?["number",100]:["others",999]}}},d=l,c=(a("d0fd"),a("2877")),u=Object(c["a"])(d,i,n,!1,null,null,null);t["default"]=u.exports},fbb6:function(e,t,a){"use strict";var i=a("7289"),n=a.n(i);n.a},fc74:function(e,t,a){},fcc5:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container",attrs:{id:"networkHandoverStatistics"}},[a("div",{staticClass:"filter-container"},[a("div",[a("div",{staticClass:"selectBox"},[a("el-form",{ref:"mdForm",staticClass:"filterTool",attrs:{inline:!0,rules:e.mdRule,model:e.mdForm,"label-width":"80px"}},[a("el-form-item",{attrs:{prop:"searchDate"}},[a("el-date-picker",{staticClass:"filter-item",attrs:{type:"daterange","range-separator":"至","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期",clearable:!1},model:{value:e.mdForm.searchDate,callback:function(t){e.$set(e.mdForm,"searchDate",t)},expression:"mdForm.searchDate"}})],1),a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.getList}},[e._v("搜索")]),a("el-button",{staticClass:"filter-item filter-item-btn",attrs:{type:"primary",icon:"iconfont icondaochu",loading:e.exportLoading},on:{click:e.exportExcel}},[e._v("导出")])],1)],1)])]),a("div",{staticClass:"tableBox"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,fit:"","highlight-current-row":"","row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{label:"序号",prop:"id",fixed:"",sortable:"custom",align:"center",width:"80",type:"index",index:e.indexMethod}}),a("el-table-column",{attrs:{label:"网点","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.destinationName))])]}}])}),a("el-table-column",{attrs:{label:"入网点","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.inBound))])]}}])}),a("el-table-column",{attrs:{label:"出网点","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.outBound))])]}}])}),a("el-table-column",{attrs:{label:"任务","min-width":"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.task))])]}}])})],1)],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.page,limit:e.listQuery.limit,layout:"prev, pager, next, sizes, total, jumper"},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"limit",t)},pagination:e.getList}})],1)},n=[],s=(a("34ef"),a("333d")),r=a("2ade");function o(e){return Object(r["a"])({url:"/eoms/packageRecordInfo/pointHandoverSummary",method:"post",data:e})}var l=a("69d9"),d=a("66e8"),c={name:"networkHandoverStatistics",components:{Pagination:s["a"]},data:function(){var e=function(e,t,a){t?a():a(new Error("请选择时间"))};return{power:JSON.parse(sessionStorage.getItem("userInfo")).Power,bankerId:JSON.parse(sessionStorage.getItem("userInfo")).PersonId,tableKey:0,list:null,total:0,indexMethod:1,listLoading:!0,listQuery:{page:1,limit:10,keyword:void 0},mdForm:{searchDate:[this.formatDate((new Date).setHours(0,0,0)),this.formatDate((new Date).setHours(0,0,0))]},mdRule:{searchDate:[{trigger:"change",message:"请选择时间",validator:e}]},exportLoading:!1}},created:function(){this.getList()},methods:{formatDate:l["d"],dealDate:function(){var e=this;if(!e.mdForm.searchDate||0==e.mdForm.searchDate.length)return[];for(var t=864e5,a=e.mdForm.searchDate[0],i=e.mdForm.searchDate[1]+t-1,n=Math.ceil((i-a)/t),s=[],r=0;r<n;r++)s.push(a+t*r);return s},getList:function(){var e=this;this.listLoading=!0,o({startTime:this.mdForm.searchDate[0]+" 00:00:00",endTime:this.mdForm.searchDate[1]+" 00:00:00"}).then(function(t){if(0==t.status)for(var a in e.listLoading=!1,e.list=[],t.data)t.data[a].destinationName=a,e.list.push(t.data[a])}).finally(function(){e.listLoading=!1})},handleFilter:function(){this.$router.push({name:"gunInoutChild",params:{keyword:this.listQuery.keyword}})},tableRowClassName:function(e){e.row;var t=e.rowIndex;return t%2==0?"color-row":t%2==1?"noColor-row":""},exportExcel:function(){var e=this,t=this;t.$refs["mdForm"].validate(function(t){t&&(e.exportLoading=!0,Object(d["b"])({excelType:41,title:"网点交接统计",startDate:e.mdForm.searchDate[0]+" 00:00:00",endDate:e.mdForm.searchDate[1]+" 00:00:00",personId:e.bankerId,power:e.power}).then(function(t){try{var a=new TextDecoder("utf-8"),i=JSON.parse(a.decode(new Uint8Array(t)));e.$message({message:i.msg,type:"warning"})}catch(o){var n="网点交接统计.xls",s=new Blob([t],{type:"application/excel"}),r=document.createElement("a");r.href=window.URL.createObjectURL(s),r.download=n,r.click(),r.remove()}}).finally(function(){e.exportLoading=!1}))})}}},u=c,m=(a("87ad"),a("2877")),p=Object(m["a"])(u,i,n,!1,null,null,null);t["default"]=p.exports},ffc8:function(e,t,a){}}]);
//# sourceMappingURL=commonProblem.4df65ba5.js.map